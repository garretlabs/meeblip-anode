
AVRASM ver. 2.1.57  C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm Mon Jul 25 08:04:02 2016

[builtin](2): Including file 'C:\Program Files\Atmel\Atmel Toolchain\AVR Assembler\Native\2.1.1175\avrassembler\Include\m32Adef.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(72): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\variable_definitions.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\variable_definitions.inc(31): warning: Register r30 already defined by the .DEF directive
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(72): 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\variable_definitions.inc' included form here
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\variable_definitions.inc(32): warning: Register r31 already defined by the .DEF directive
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(72): 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\variable_definitions.inc' included form here
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(86): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\lookup_tables.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(104): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\sample_generation.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\sample_generation.inc(396): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\digital_filter.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(113): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\midi_in.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(139): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\subroutines.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(140): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\LCD.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\LCD.inc(73): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\SimpleAsciiConversion.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(157): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\initialize.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(197): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\scan_switches.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(204): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\scan_knobs.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(249): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\lfo.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(257): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\envelope.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(265): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\note_handler.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(274): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\filter_modulation.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(283): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\dca_output.inc'
C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\anode.asm(329): Including file 'C:\Users\Marco\Desktop\Anode+LCD_v2.9\Anode+LCD_v2\wavetables.inc'
                 
                 
                 
                 ;***** Created: 2011-02-09 12:03 ******* Source: ATmega32A.xml ***********
                 ;*************************************************************************
                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                 ;* 
                 ;* Number            : AVR000
                 ;* File Name         : "m32Adef.inc"
                 ;* Title             : Register/Bit Definitions for the ATmega32A
                 ;* Date              : 2011-02-09
                 ;* Version           : 2.35
                 ;* Support E-mail    : avr@atmel.com
                 ;* Target MCU        : ATmega32A
                 ;* 
                 ;* DESCRIPTION
                 ;* When including this file in the assembly program file, all I/O register 
                 ;* names and I/O register bit names appearing in the data book can be used.
                 ;* In addition, the six registers forming the three data pointers X, Y and 
                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                 ;* SRAM is also defined 
                 ;* 
                 ;* The Register names are represented by their hexadecimal address.
                 ;* 
                 ;* The Register Bit names are represented by their bit number (0-7).
                 ;* 
                 ;* Please observe the difference in using the bit names with instructions
                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                 ;* (skip if bit in register set/cleared). The following example illustrates
                 ;* this:
                 ;* 
                 ;* in    r16,PORTB             ;read PORTB latch
                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                 ;* out   PORTB,r16             ;output to PORTB
                 ;* 
                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                 ;* rjmp  TOV0_is_set           ;jump if set
                 ;* ...                         ;otherwise do something else
                 ;*************************************************************************
                 
                 #ifndef _M32ADEF_INC_
                 #define _M32ADEF_INC_
                 
                 
                 #pragma partinc 0
                 
                 ; ***** SPECIFY DEVICE ***************************************************
                 .device ATmega32A
                 #pragma AVRPART ADMIN PART_NAME ATmega32A
                 .equ	SIGNATURE_000	= 0x1e
                 .equ	SIGNATURE_001	= 0x95
                 .equ	SIGNATURE_002	= 0x02
                 
                 #pragma AVRPART CORE CORE_VERSION V2E
                 
                 
                 ; ***** I/O REGISTER DEFINITIONS *****************************************
                 ; NOTE:
                 ; Definitions marked "MEMORY MAPPED"are extended I/O ports
                 ; and cannot be used with IN/OUT instructions
                 .equ	SREG	= 0x3f
                 .equ	SPL	= 0x3d
                 .equ	SPH	= 0x3e
                 .equ	OCR0	= 0x3c
                 .equ	GICR	= 0x3b
                 .equ	GIFR	= 0x3a
                 .equ	TIMSK	= 0x39
                 .equ	TIFR	= 0x38
                 .equ	SPMCR	= 0x37
                 .equ	TWCR	= 0x36
                 .equ	MCUCR	= 0x35
                 .equ	MCUCSR	= 0x34
                 .equ	TCCR0	= 0x33
                 .equ	TCNT0	= 0x32
                 .equ	OSCCAL	= 0x31
                 .equ	OCDR	= 0x31
                 .equ	SFIOR	= 0x30
                 .equ	TCCR1A	= 0x2f
                 .equ	TCCR1B	= 0x2e
                 .equ	TCNT1L	= 0x2c
                 .equ	TCNT1H	= 0x2d
                 .equ	OCR1AL	= 0x2a
                 .equ	OCR1AH	= 0x2b
                 .equ	OCR1BL	= 0x28
                 .equ	OCR1BH	= 0x29
                 .equ	ICR1L	= 0x26
                 .equ	ICR1H	= 0x27
                 .equ	TCCR2	= 0x25
                 .equ	TCNT2	= 0x24
                 .equ	OCR2	= 0x23
                 .equ	ASSR	= 0x22
                 .equ	WDTCR	= 0x21
                 .equ	UBRRH	= 0x20
                 .equ	UCSRC	= 0x20
                 .equ	EEARL	= 0x1e
                 .equ	EEARH	= 0x1f
                 .equ	EEDR	= 0x1d
                 .equ	EECR	= 0x1c
                 .equ	PORTA	= 0x1b
                 .equ	DDRA	= 0x1a
                 .equ	PINA	= 0x19
                 .equ	PORTB	= 0x18
                 .equ	DDRB	= 0x17
                 .equ	PINB	= 0x16
                 .equ	PORTC	= 0x15
                 .equ	DDRC	= 0x14
                 .equ	PINC	= 0x13
                 .equ	PORTD	= 0x12
                 .equ	DDRD	= 0x11
                 .equ	PIND	= 0x10
                 .equ	SPDR	= 0x0f
                 .equ	SPSR	= 0x0e
                 .equ	SPCR	= 0x0d
                 .equ	UDR	= 0x0c
                 .equ	UCSRA	= 0x0b
                 .equ	UCSRB	= 0x0a
                 .equ	UBRRL	= 0x09
                 .equ	ACSR	= 0x08
                 .equ	ADMUX	= 0x07
                 .equ	ADCSRA	= 0x06
                 .equ	ADCH	= 0x05
                 .equ	ADCL	= 0x04
                 .equ	TWDR	= 0x03
                 .equ	TWAR	= 0x02
                 .equ	TWSR	= 0x01
                 .equ	TWBR	= 0x00
                 
                 
                 ; ***** BIT DEFINITIONS **************************************************
                 
                 ; ***** EEPROM ***********************
                 ; EEDR - EEPROM Data Register
                 .equ	EEDR0	= 0	; EEPROM Data Register bit 0
                 .equ	EEDR1	= 1	; EEPROM Data Register bit 1
                 .equ	EEDR2	= 2	; EEPROM Data Register bit 2
                 .equ	EEDR3	= 3	; EEPROM Data Register bit 3
                 .equ	EEDR4	= 4	; EEPROM Data Register bit 4
                 .equ	EEDR5	= 5	; EEPROM Data Register bit 5
                 .equ	EEDR6	= 6	; EEPROM Data Register bit 6
                 .equ	EEDR7	= 7	; EEPROM Data Register bit 7
                 
                 ; EECR - EEPROM Control Register
                 .equ	EERE	= 0	; EEPROM Read Enable
                 .equ	EEWE	= 1	; EEPROM Write Enable
                 .equ	EEMWE	= 2	; EEPROM Master Write Enable
                 .equ	EERIE	= 3	; EEPROM Ready Interrupt Enable
                 
                 
                 ; ***** WATCHDOG *********************
                 ; WDTCR - Watchdog Timer Control Register
                 .equ	WDP0	= 0	; Watch Dog Timer Prescaler bit 0
                 .equ	WDP1	= 1	; Watch Dog Timer Prescaler bit 1
                 .equ	WDP2	= 2	; Watch Dog Timer Prescaler bit 2
                 .equ	WDE	= 3	; Watch Dog Enable
                 .equ	WDTOE	= 4	; RW
                 .equ	WDDE	= WDTOE	; For compatibility
                 
                 
                 ; ***** EXTERNAL_INTERRUPT ***********
                 ; GICR - General Interrupt Control Register
                 .equ	GIMSK	= GICR	; For compatibility
                 .equ	IVCE	= 0	; Interrupt Vector Change Enable
                 .equ	IVSEL	= 1	; Interrupt Vector Select
                 .equ	INT2	= 5	; External Interrupt Request 2 Enable
                 .equ	INT0	= 6	; External Interrupt Request 0 Enable
                 .equ	INT1	= 7	; External Interrupt Request 1 Enable
                 
                 ; GIFR - General Interrupt Flag Register
                 .equ	INTF2	= 5	; External Interrupt Flag 2
                 .equ	INTF0	= 6	; External Interrupt Flag 0
                 .equ	INTF1	= 7	; External Interrupt Flag 1
                 
                 ; MCUCR - General Interrupt Control Register
                 .equ	ISC00	= 0	; Interrupt Sense Control 0 Bit 0
                 .equ	ISC01	= 1	; Interrupt Sense Control 0 Bit 1
                 .equ	ISC10	= 2	; Interrupt Sense Control 1 Bit 0
                 .equ	ISC11	= 3	; Interrupt Sense Control 1 Bit 1
                 
                 ; MCUCSR - MCU Control And Status Register
                 .equ	ISC2	= 6	; Interrupt Sense Control 2
                 
                 
                 ; ***** TIMER_COUNTER_0 **************
                 ; TCCR0 - Timer/Counter Control Register
                 .equ	CS00	= 0	; Clock Select 1
                 .equ	CS01	= 1	; Clock Select 1
                 .equ	CS02	= 2	; Clock Select 2
                 .equ	WGM01	= 3	; Waveform Generation Mode 1
                 .equ	CTC0	= WGM01	; For compatibility
                 .equ	COM00	= 4	; Compare match Output Mode 0
                 .equ	COM01	= 5	; Compare Match Output Mode 1
                 .equ	WGM00	= 6	; Waveform Generation Mode
                 .equ	PWM0	= WGM00	; For compatibility
                 .equ	FOC0	= 7	; Force Output Compare
                 
                 ; TCNT0 - Timer/Counter Register
                 .equ	TCNT0_0	= 0	; 
                 .equ	TCNT0_1	= 1	; 
                 .equ	TCNT0_2	= 2	; 
                 .equ	TCNT0_3	= 3	; 
                 .equ	TCNT0_4	= 4	; 
                 .equ	TCNT0_5	= 5	; 
                 .equ	TCNT0_6	= 6	; 
                 .equ	TCNT0_7	= 7	; 
                 
                 ; OCR0 - Output Compare Register
                 .equ	OCR0_0	= 0	; 
                 .equ	OCR0_1	= 1	; 
                 .equ	OCR0_2	= 2	; 
                 .equ	OCR0_3	= 3	; 
                 .equ	OCR0_4	= 4	; 
                 .equ	OCR0_5	= 5	; 
                 .equ	OCR0_6	= 6	; 
                 .equ	OCR0_7	= 7	; 
                 
                 ; TIMSK - Timer/Counter Interrupt Mask Register
                 .equ	TOIE0	= 0	; Timer/Counter0 Overflow Interrupt Enable
                 .equ	OCIE0	= 1	; Timer/Counter0 Output Compare Match Interrupt register
                 
                 ; TIFR - Timer/Counter Interrupt Flag register
                 .equ	TOV0	= 0	; Timer/Counter0 Overflow Flag
                 .equ	OCF0	= 1	; Output Compare Flag 0
                 
                 
                 ; ***** TIMER_COUNTER_2 **************
                 ; TIMSK - Timer/Counter Interrupt Mask register
                 .equ	TOIE2	= 6	; Timer/Counter2 Overflow Interrupt Enable
                 .equ	OCIE2	= 7	; Timer/Counter2 Output Compare Match Interrupt Enable
                 
                 ; TIFR - Timer/Counter Interrupt Flag Register
                 .equ	TOV2	= 6	; Timer/Counter2 Overflow Flag
                 .equ	OCF2	= 7	; Output Compare Flag 2
                 
                 ; TCCR2 - Timer/Counter2 Control Register
                 .equ	CS20	= 0	; Clock Select bit 0
                 .equ	CS21	= 1	; Clock Select bit 1
                 .equ	CS22	= 2	; Clock Select bit 2
                 .equ	WGM21	= 3	; Clear Timer/Counter2 on Compare Match
                 .equ	CTC2	= WGM21	; For compatibility
                 .equ	COM20	= 4	; Compare Output Mode bit 0
                 .equ	COM21	= 5	; Compare Output Mode bit 1
                 .equ	WGM20	= 6	; Pulse Width Modulator Enable
                 .equ	PWM2	= WGM20	; For compatibility
                 .equ	FOC2	= 7	; Force Output Compare
                 
                 ; TCNT2 - Timer/Counter2
                 .equ	TCNT2_0	= 0	; Timer/Counter 2 bit 0
                 .equ	TCNT2_1	= 1	; Timer/Counter 2 bit 1
                 .equ	TCNT2_2	= 2	; Timer/Counter 2 bit 2
                 .equ	TCNT2_3	= 3	; Timer/Counter 2 bit 3
                 .equ	TCNT2_4	= 4	; Timer/Counter 2 bit 4
                 .equ	TCNT2_5	= 5	; Timer/Counter 2 bit 5
                 .equ	TCNT2_6	= 6	; Timer/Counter 2 bit 6
                 .equ	TCNT2_7	= 7	; Timer/Counter 2 bit 7
                 
                 ; OCR2 - Timer/Counter2 Output Compare Register
                 .equ	OCR2_0	= 0	; Timer/Counter2 Output Compare Register Bit 0
                 .equ	OCR2_1	= 1	; Timer/Counter2 Output Compare Register Bit 1
                 .equ	OCR2_2	= 2	; Timer/Counter2 Output Compare Register Bit 2
                 .equ	OCR2_3	= 3	; Timer/Counter2 Output Compare Register Bit 3
                 .equ	OCR2_4	= 4	; Timer/Counter2 Output Compare Register Bit 4
                 .equ	OCR2_5	= 5	; Timer/Counter2 Output Compare Register Bit 5
                 .equ	OCR2_6	= 6	; Timer/Counter2 Output Compare Register Bit 6
                 .equ	OCR2_7	= 7	; Timer/Counter2 Output Compare Register Bit 7
                 
                 ; ASSR - Asynchronous Status Register
                 .equ	TCR2UB	= 0	; Timer/counter Control Register2 Update Busy
                 .equ	OCR2UB	= 1	; Output Compare Register2 Update Busy
                 .equ	TCN2UB	= 2	; Timer/Counter2 Update Busy
                 .equ	AS2	= 3	; Asynchronous Timer/counter2
                 
                 
                 ; ***** TIMER_COUNTER_1 **************
                 ; TIMSK - Timer/Counter Interrupt Mask Register
                 .equ	TOIE1	= 2	; Timer/Counter1 Overflow Interrupt Enable
                 .equ	OCIE1B	= 3	; Timer/Counter1 Output CompareB Match Interrupt Enable
                 .equ	OCIE1A	= 4	; Timer/Counter1 Output CompareA Match Interrupt Enable
                 .equ	TICIE1	= 5	; Timer/Counter1 Input Capture Interrupt Enable
                 
                 ; TIFR - Timer/Counter Interrupt Flag register
                 .equ	TOV1	= 2	; Timer/Counter1 Overflow Flag
                 .equ	OCF1B	= 3	; Output Compare Flag 1B
                 .equ	OCF1A	= 4	; Output Compare Flag 1A
                 .equ	ICF1	= 5	; Input Capture Flag 1
                 
                 ; TCCR1A - Timer/Counter1 Control Register A
                 .equ	WGM10	= 0	; Waveform Generation Mode
                 .equ	PWM10	= WGM10	; For compatibility
                 .equ	WGM11	= 1	; Waveform Generation Mode
                 .equ	PWM11	= WGM11	; For compatibility
                 .equ	FOC1B	= 2	; Force Output Compare 1B
                 .equ	FOC1A	= 3	; Force Output Compare 1A
                 .equ	COM1B0	= 4	; Compare Output Mode 1B, bit 0
                 .equ	COM1B1	= 5	; Compare Output Mode 1B, bit 1
                 .equ	COM1A0	= 6	; Compare Ouput Mode 1A, bit 0
                 .equ	COM1A1	= 7	; Compare Output Mode 1A, bit 1
                 
                 ; TCCR1B - Timer/Counter1 Control Register B
                 .equ	CS10	= 0	; Prescaler source of Timer/Counter 1
                 .equ	CS11	= 1	; Prescaler source of Timer/Counter 1
                 .equ	CS12	= 2	; Prescaler source of Timer/Counter 1
                 .equ	WGM12	= 3	; Waveform Generation Mode
                 .equ	CTC10	= WGM12	; For compatibility
                 .equ	CTC1	= WGM12	; For compatibility
                 .equ	WGM13	= 4	; Waveform Generation Mode
                 .equ	CTC11	= WGM13	; For compatibility
                 .equ	ICES1	= 6	; Input Capture 1 Edge Select
                 .equ	ICNC1	= 7	; Input Capture 1 Noise Canceler
                 
                 
                 ; ***** SPI **************************
                 ; SPDR - SPI Data Register
                 .equ	SPDR0	= 0	; SPI Data Register bit 0
                 .equ	SPDR1	= 1	; SPI Data Register bit 1
                 .equ	SPDR2	= 2	; SPI Data Register bit 2
                 .equ	SPDR3	= 3	; SPI Data Register bit 3
                 .equ	SPDR4	= 4	; SPI Data Register bit 4
                 .equ	SPDR5	= 5	; SPI Data Register bit 5
                 .equ	SPDR6	= 6	; SPI Data Register bit 6
                 .equ	SPDR7	= 7	; SPI Data Register bit 7
                 
                 ; SPSR - SPI Status Register
                 .equ	SPI2X	= 0	; Double SPI Speed Bit
                 .equ	WCOL	= 6	; Write Collision Flag
                 .equ	SPIF	= 7	; SPI Interrupt Flag
                 
                 ; SPCR - SPI Control Register
                 .equ	SPR0	= 0	; SPI Clock Rate Select 0
                 .equ	SPR1	= 1	; SPI Clock Rate Select 1
                 .equ	CPHA	= 2	; Clock Phase
                 .equ	CPOL	= 3	; Clock polarity
                 .equ	MSTR	= 4	; Master/Slave Select
                 .equ	DORD	= 5	; Data Order
                 .equ	SPE	= 6	; SPI Enable
                 .equ	SPIE	= 7	; SPI Interrupt Enable
                 
                 
                 ; ***** USART ************************
                 ; UDR - USART I/O Data Register
                 .equ	UDR0	= 0	; USART I/O Data Register bit 0
                 .equ	UDR1	= 1	; USART I/O Data Register bit 1
                 .equ	UDR2	= 2	; USART I/O Data Register bit 2
                 .equ	UDR3	= 3	; USART I/O Data Register bit 3
                 .equ	UDR4	= 4	; USART I/O Data Register bit 4
                 .equ	UDR5	= 5	; USART I/O Data Register bit 5
                 .equ	UDR6	= 6	; USART I/O Data Register bit 6
                 .equ	UDR7	= 7	; USART I/O Data Register bit 7
                 
                 ; UCSRA - USART Control and Status Register A
                 .equ	USR	= UCSRA	; For compatibility
                 .equ	MPCM	= 0	; Multi-processor Communication Mode
                 .equ	U2X	= 1	; Double the USART transmission speed
                 .equ	UPE	= 2	; Parity Error
                 .equ	PE	= UPE	; For compatibility
                 .equ	DOR	= 3	; Data overRun
                 .equ	FE	= 4	; Framing Error
                 .equ	UDRE	= 5	; USART Data Register Empty
                 .equ	TXC	= 6	; USART Transmitt Complete
                 .equ	RXC	= 7	; USART Receive Complete
                 
                 ; UCSRB - USART Control and Status Register B
                 .equ	UCR	= UCSRB	; For compatibility
                 .equ	TXB8	= 0	; Transmit Data Bit 8
                 .equ	RXB8	= 1	; Receive Data Bit 8
                 .equ	UCSZ2	= 2	; Character Size
                 .equ	CHR9	= UCSZ2	; For compatibility
                 .equ	TXEN	= 3	; Transmitter Enable
                 .equ	RXEN	= 4	; Receiver Enable
                 .equ	UDRIE	= 5	; USART Data register Empty Interrupt Enable
                 .equ	TXCIE	= 6	; TX Complete Interrupt Enable
                 .equ	RXCIE	= 7	; RX Complete Interrupt Enable
                 
                 ; UCSRC - USART Control and Status Register C
                 .equ	UCPOL	= 0	; Clock Polarity
                 .equ	UCSZ0	= 1	; Character Size
                 .equ	UCSZ1	= 2	; Character Size
                 .equ	USBS	= 3	; Stop Bit Select
                 .equ	UPM0	= 4	; Parity Mode Bit 0
                 .equ	UPM1	= 5	; Parity Mode Bit 1
                 .equ	UMSEL	= 6	; USART Mode Select
                 .equ	URSEL	= 7	; Register Select
                 
                 .equ	UBRRHI	= UBRRH	; For compatibility
                 
                 ; ***** ANALOG_COMPARATOR ************
                 ; SFIOR - Special Function IO Register
                 .equ	ACME	= 3	; Analog Comparator Multiplexer Enable
                 
                 ; ACSR - Analog Comparator Control And Status Register
                 .equ	ACIS0	= 0	; Analog Comparator Interrupt Mode Select bit 0
                 .equ	ACIS1	= 1	; Analog Comparator Interrupt Mode Select bit 1
                 .equ	ACIC	= 2	; Analog Comparator Input Capture Enable
                 .equ	ACIE	= 3	; Analog Comparator Interrupt Enable
                 .equ	ACI	= 4	; Analog Comparator Interrupt Flag
                 .equ	ACO	= 5	; Analog Compare Output
                 .equ	ACBG	= 6	; Analog Comparator Bandgap Select
                 .equ	ACD	= 7	; Analog Comparator Disable
                 
                 
                 ; ***** AD_CONVERTER *****************
                 ; ADMUX - The ADC multiplexer Selection Register
                 .equ	MUX0	= 0	; Analog Channel and Gain Selection Bits
                 .equ	MUX1	= 1	; Analog Channel and Gain Selection Bits
                 .equ	MUX2	= 2	; Analog Channel and Gain Selection Bits
                 .equ	MUX3	= 3	; Analog Channel and Gain Selection Bits
                 .equ	MUX4	= 4	; Analog Channel and Gain Selection Bits
                 .equ	ADLAR	= 5	; Left Adjust Result
                 .equ	REFS0	= 6	; Reference Selection Bit 0
                 .equ	REFS1	= 7	; Reference Selection Bit 1
                 
                 ; ADCSRA - The ADC Control and Status register
                 .equ	ADCSR	= ADCSRA	; For compatibility
                 .equ	ADPS0	= 0	; ADC  Prescaler Select Bits
                 .equ	ADPS1	= 1	; ADC  Prescaler Select Bits
                 .equ	ADPS2	= 2	; ADC  Prescaler Select Bits
                 .equ	ADIE	= 3	; ADC Interrupt Enable
                 .equ	ADIF	= 4	; ADC Interrupt Flag
                 .equ	ADATE	= 5	; When this bit is written to one,the Timer/Counter2 prescaler will be reset.The bit will be cleared by hardware after the operation is performed.Writing a zero to this bit will have no effect.This bit will always be read as zero if Timer/C                 ounter2 is clocked by the internal CPU clock.If this bit is written when Timer/Counter2 is operating in asynchronous mode,the bit will remain one until the prescaler has been reset.
                 .equ	ADFR	= ADATE	; For compatibility
                 .equ	ADSC	= 6	; ADC Start Conversion
                 .equ	ADEN	= 7	; ADC Enable
                 
                 ; ADCH - ADC Data Register High Byte
                 .equ	ADCH0	= 0	; ADC Data Register High Byte Bit 0
                 .equ	ADCH1	= 1	; ADC Data Register High Byte Bit 1
                 .equ	ADCH2	= 2	; ADC Data Register High Byte Bit 2
                 .equ	ADCH3	= 3	; ADC Data Register High Byte Bit 3
                 .equ	ADCH4	= 4	; ADC Data Register High Byte Bit 4
                 .equ	ADCH5	= 5	; ADC Data Register High Byte Bit 5
                 .equ	ADCH6	= 6	; ADC Data Register High Byte Bit 6
                 .equ	ADCH7	= 7	; ADC Data Register High Byte Bit 7
                 
                 ; ADCL - ADC Data Register Low Byte
                 .equ	ADCL0	= 0	; ADC Data Register Low Byte Bit 0
                 .equ	ADCL1	= 1	; ADC Data Register Low Byte Bit 1
                 .equ	ADCL2	= 2	; ADC Data Register Low Byte Bit 2
                 .equ	ADCL3	= 3	; ADC Data Register Low Byte Bit 3
                 .equ	ADCL4	= 4	; ADC Data Register Low Byte Bit 4
                 .equ	ADCL5	= 5	; ADC Data Register Low Byte Bit 5
                 .equ	ADCL6	= 6	; ADC Data Register Low Byte Bit 6
                 .equ	ADCL7	= 7	; ADC Data Register Low Byte Bit 7
                 
                 ; SFIOR - Special Function IO Register
                 .equ	ADTS0	= 5	; ADC Auto Trigger Source 0
                 .equ	ADTS1	= 6	; ADC Auto Trigger Source 1
                 .equ	ADTS2	= 7	; ADC Auto Trigger Source 2
                 
                 
                 ; ***** PORTA ************************
                 ; PORTA - Port A Data Register
                 .equ	PORTA0	= 0	; Port A Data Register bit 0
                 .equ	PA0	= 0	; For compatibility
                 .equ	PORTA1	= 1	; Port A Data Register bit 1
                 .equ	PA1	= 1	; For compatibility
                 .equ	PORTA2	= 2	; Port A Data Register bit 2
                 .equ	PA2	= 2	; For compatibility
                 .equ	PORTA3	= 3	; Port A Data Register bit 3
                 .equ	PA3	= 3	; For compatibility
                 .equ	PORTA4	= 4	; Port A Data Register bit 4
                 .equ	PA4	= 4	; For compatibility
                 .equ	PORTA5	= 5	; Port A Data Register bit 5
                 .equ	PA5	= 5	; For compatibility
                 .equ	PORTA6	= 6	; Port A Data Register bit 6
                 .equ	PA6	= 6	; For compatibility
                 .equ	PORTA7	= 7	; Port A Data Register bit 7
                 .equ	PA7	= 7	; For compatibility
                 
                 ; DDRA - Port A Data Direction Register
                 .equ	DDA0	= 0	; Data Direction Register, Port A, bit 0
                 .equ	DDA1	= 1	; Data Direction Register, Port A, bit 1
                 .equ	DDA2	= 2	; Data Direction Register, Port A, bit 2
                 .equ	DDA3	= 3	; Data Direction Register, Port A, bit 3
                 .equ	DDA4	= 4	; Data Direction Register, Port A, bit 4
                 .equ	DDA5	= 5	; Data Direction Register, Port A, bit 5
                 .equ	DDA6	= 6	; Data Direction Register, Port A, bit 6
                 .equ	DDA7	= 7	; Data Direction Register, Port A, bit 7
                 
                 ; PINA - Port A Input Pins
                 .equ	PINA0	= 0	; Input Pins, Port A bit 0
                 .equ	PINA1	= 1	; Input Pins, Port A bit 1
                 .equ	PINA2	= 2	; Input Pins, Port A bit 2
                 .equ	PINA3	= 3	; Input Pins, Port A bit 3
                 .equ	PINA4	= 4	; Input Pins, Port A bit 4
                 .equ	PINA5	= 5	; Input Pins, Port A bit 5
                 .equ	PINA6	= 6	; Input Pins, Port A bit 6
                 .equ	PINA7	= 7	; Input Pins, Port A bit 7
                 
                 
                 ; ***** PORTB ************************
                 ; PORTB - Port B Data Register
                 .equ	PORTB0	= 0	; Port B Data Register bit 0
                 .equ	PB0	= 0	; For compatibility
                 .equ	PORTB1	= 1	; Port B Data Register bit 1
                 .equ	PB1	= 1	; For compatibility
                 .equ	PORTB2	= 2	; Port B Data Register bit 2
                 .equ	PB2	= 2	; For compatibility
                 .equ	PORTB3	= 3	; Port B Data Register bit 3
                 .equ	PB3	= 3	; For compatibility
                 .equ	PORTB4	= 4	; Port B Data Register bit 4
                 .equ	PB4	= 4	; For compatibility
                 .equ	PORTB5	= 5	; Port B Data Register bit 5
                 .equ	PB5	= 5	; For compatibility
                 .equ	PORTB6	= 6	; Port B Data Register bit 6
                 .equ	PB6	= 6	; For compatibility
                 .equ	PORTB7	= 7	; Port B Data Register bit 7
                 .equ	PB7	= 7	; For compatibility
                 
                 ; DDRB - Port B Data Direction Register
                 .equ	DDB0	= 0	; Port B Data Direction Register bit 0
                 .equ	DDB1	= 1	; Port B Data Direction Register bit 1
                 .equ	DDB2	= 2	; Port B Data Direction Register bit 2
                 .equ	DDB3	= 3	; Port B Data Direction Register bit 3
                 .equ	DDB4	= 4	; Port B Data Direction Register bit 4
                 .equ	DDB5	= 5	; Port B Data Direction Register bit 5
                 .equ	DDB6	= 6	; Port B Data Direction Register bit 6
                 .equ	DDB7	= 7	; Port B Data Direction Register bit 7
                 
                 ; PINB - Port B Input Pins
                 .equ	PINB0	= 0	; Port B Input Pins bit 0
                 .equ	PINB1	= 1	; Port B Input Pins bit 1
                 .equ	PINB2	= 2	; Port B Input Pins bit 2
                 .equ	PINB3	= 3	; Port B Input Pins bit 3
                 .equ	PINB4	= 4	; Port B Input Pins bit 4
                 .equ	PINB5	= 5	; Port B Input Pins bit 5
                 .equ	PINB6	= 6	; Port B Input Pins bit 6
                 .equ	PINB7	= 7	; Port B Input Pins bit 7
                 
                 
                 ; ***** PORTC ************************
                 ; PORTC - Port C Data Register
                 .equ	PORTC0	= 0	; Port C Data Register bit 0
                 .equ	PC0	= 0	; For compatibility
                 .equ	PORTC1	= 1	; Port C Data Register bit 1
                 .equ	PC1	= 1	; For compatibility
                 .equ	PORTC2	= 2	; Port C Data Register bit 2
                 .equ	PC2	= 2	; For compatibility
                 .equ	PORTC3	= 3	; Port C Data Register bit 3
                 .equ	PC3	= 3	; For compatibility
                 .equ	PORTC4	= 4	; Port C Data Register bit 4
                 .equ	PC4	= 4	; For compatibility
                 .equ	PORTC5	= 5	; Port C Data Register bit 5
                 .equ	PC5	= 5	; For compatibility
                 .equ	PORTC6	= 6	; Port C Data Register bit 6
                 .equ	PC6	= 6	; For compatibility
                 .equ	PORTC7	= 7	; Port C Data Register bit 7
                 .equ	PC7	= 7	; For compatibility
                 
                 ; DDRC - Port C Data Direction Register
                 .equ	DDC0	= 0	; Port C Data Direction Register bit 0
                 .equ	DDC1	= 1	; Port C Data Direction Register bit 1
                 .equ	DDC2	= 2	; Port C Data Direction Register bit 2
                 .equ	DDC3	= 3	; Port C Data Direction Register bit 3
                 .equ	DDC4	= 4	; Port C Data Direction Register bit 4
                 .equ	DDC5	= 5	; Port C Data Direction Register bit 5
                 .equ	DDC6	= 6	; Port C Data Direction Register bit 6
                 .equ	DDC7	= 7	; Port C Data Direction Register bit 7
                 
                 ; PINC - Port C Input Pins
                 .equ	PINC0	= 0	; Port C Input Pins bit 0
                 .equ	PINC1	= 1	; Port C Input Pins bit 1
                 .equ	PINC2	= 2	; Port C Input Pins bit 2
                 .equ	PINC3	= 3	; Port C Input Pins bit 3
                 .equ	PINC4	= 4	; Port C Input Pins bit 4
                 .equ	PINC5	= 5	; Port C Input Pins bit 5
                 .equ	PINC6	= 6	; Port C Input Pins bit 6
                 .equ	PINC7	= 7	; Port C Input Pins bit 7
                 
                 
                 ; ***** PORTD ************************
                 ; PORTD - Port D Data Register
                 .equ	PORTD0	= 0	; Port D Data Register bit 0
                 .equ	PD0	= 0	; For compatibility
                 .equ	PORTD1	= 1	; Port D Data Register bit 1
                 .equ	PD1	= 1	; For compatibility
                 .equ	PORTD2	= 2	; Port D Data Register bit 2
                 .equ	PD2	= 2	; For compatibility
                 .equ	PORTD3	= 3	; Port D Data Register bit 3
                 .equ	PD3	= 3	; For compatibility
                 .equ	PORTD4	= 4	; Port D Data Register bit 4
                 .equ	PD4	= 4	; For compatibility
                 .equ	PORTD5	= 5	; Port D Data Register bit 5
                 .equ	PD5	= 5	; For compatibility
                 .equ	PORTD6	= 6	; Port D Data Register bit 6
                 .equ	PD6	= 6	; For compatibility
                 .equ	PORTD7	= 7	; Port D Data Register bit 7
                 .equ	PD7	= 7	; For compatibility
                 
                 ; DDRD - Port D Data Direction Register
                 .equ	DDD0	= 0	; Port D Data Direction Register bit 0
                 .equ	DDD1	= 1	; Port D Data Direction Register bit 1
                 .equ	DDD2	= 2	; Port D Data Direction Register bit 2
                 .equ	DDD3	= 3	; Port D Data Direction Register bit 3
                 .equ	DDD4	= 4	; Port D Data Direction Register bit 4
                 .equ	DDD5	= 5	; Port D Data Direction Register bit 5
                 .equ	DDD6	= 6	; Port D Data Direction Register bit 6
                 .equ	DDD7	= 7	; Port D Data Direction Register bit 7
                 
                 ; PIND - Port D Input Pins
                 .equ	PIND0	= 0	; Port D Input Pins bit 0
                 .equ	PIND1	= 1	; Port D Input Pins bit 1
                 .equ	PIND2	= 2	; Port D Input Pins bit 2
                 .equ	PIND3	= 3	; Port D Input Pins bit 3
                 .equ	PIND4	= 4	; Port D Input Pins bit 4
                 .equ	PIND5	= 5	; Port D Input Pins bit 5
                 .equ	PIND6	= 6	; Port D Input Pins bit 6
                 .equ	PIND7	= 7	; Port D Input Pins bit 7
                 
                 
                 ; ***** CPU **************************
                 ; SREG - Status Register
                 .equ	SREG_C	= 0	; Carry Flag
                 .equ	SREG_Z	= 1	; Zero Flag
                 .equ	SREG_N	= 2	; Negative Flag
                 .equ	SREG_V	= 3	; Two's Complement Overflow Flag
                 .equ	SREG_S	= 4	; Sign Bit
                 .equ	SREG_H	= 5	; Half Carry Flag
                 .equ	SREG_T	= 6	; Bit Copy Storage
                 .equ	SREG_I	= 7	; Global Interrupt Enable
                 
                 ; MCUCR - MCU Control Register
                 ;.equ	ISC00	= 0	; Interrupt Sense Control 0 Bit 0
                 ;.equ	ISC01	= 1	; Interrupt Sense Control 0 Bit 1
                 ;.equ	ISC10	= 2	; Interrupt Sense Control 1 Bit 0
                 ;.equ	ISC11	= 3	; Interrupt Sense Control 1 Bit 1
                 .equ	SM0	= 4	; Sleep Mode Select
                 .equ	SM1	= 5	; Sleep Mode Select
                 .equ	SM2	= 6	; Sleep Mode Select
                 .equ	SE	= 7	; Sleep Enable
                 
                 ; MCUCSR - MCU Control And Status Register
                 .equ	MCUSR	= MCUCSR	; For compatibility
                 .equ	PORF	= 0	; Power-on reset flag
                 .equ	EXTRF	= 1	; External Reset Flag
                 .equ	BORF	= 2	; Brown-out Reset Flag
                 .equ	WDRF	= 3	; Watchdog Reset Flag
                 .equ	JTRF	= 4	; JTAG Reset Flag
                 .equ	JTD	= 7	; JTAG Interface Disable
                 
                 ; OSCCAL - Oscillator Calibration Value
                 .equ	CAL0	= 0	; Oscillator Calibration Value Bit0
                 .equ	CAL1	= 1	; Oscillator Calibration Value Bit1
                 .equ	CAL2	= 2	; Oscillator Calibration Value Bit2
                 .equ	CAL3	= 3	; Oscillator Calibration Value Bit3
                 .equ	CAL4	= 4	; Oscillator Calibration Value Bit4
                 .equ	CAL5	= 5	; Oscillator Calibration Value Bit5
                 .equ	CAL6	= 6	; Oscillator Calibration Value Bit6
                 .equ	CAL7	= 7	; Oscillator Calibration Value Bit7
                 
                 ; SFIOR - Special Function IO Register
                 .equ	PSR10	= 0	; Prescaler Reset Timer/Counter1&0
                 .equ	PSR2	= 1	; Prescaler Reset Timer/Counter2
                 .equ	PUD	= 2	; Pull-up Disable
                 
                 
                 ; ***** BOOT_LOAD ********************
                 ; SPMCR - Store Program Memory Control Register
                 .equ	SPMEN	= 0	; Store Program Memory Enable
                 .equ	PGERS	= 1	; Page Erase
                 .equ	PGWRT	= 2	; Page Write
                 .equ	BLBSET	= 3	; Boot Lock Bit Set
                 .equ	RWWSRE	= 4	; Read While Write secion read enable
                 .equ	ASRE	= RWWSRE	; For compatibility
                 .equ	RWWSB	= 6	; Read While Write Section Busy
                 .equ	ASB	= RWWSB	; For compatibility
                 .equ	SPMIE	= 7	; SPM Interrupt Enable
                 
                 
                 ; ***** TWI **************************
                 ; TWBR - TWI Bit Rate register
                 .equ	TWBR0	= 0	; 
                 .equ	TWBR1	= 1	; 
                 .equ	TWBR2	= 2	; 
                 .equ	TWBR3	= 3	; 
                 .equ	TWBR4	= 4	; 
                 .equ	TWBR5	= 5	; 
                 .equ	TWBR6	= 6	; 
                 .equ	TWBR7	= 7	; 
                 
                 ; TWCR - TWI Control Register
                 .equ	TWIE	= 0	; TWI Interrupt Enable
                 .equ	TWEN	= 2	; TWI Enable Bit
                 .equ	TWWC	= 3	; TWI Write Collition Flag
                 .equ	TWSTO	= 4	; TWI Stop Condition Bit
                 .equ	TWSTA	= 5	; TWI Start Condition Bit
                 .equ	TWEA	= 6	; TWI Enable Acknowledge Bit
                 .equ	TWINT	= 7	; TWI Interrupt Flag
                 
                 ; TWSR - TWI Status Register
                 .equ	TWPS0	= 0	; TWI Prescaler bits
                 .equ	TWPS1	= 1	; TWI Prescaler bits
                 .equ	TWS3	= 3	; TWI Status
                 .equ	TWS4	= 4	; TWI Status
                 .equ	TWS5	= 5	; TWI Status
                 .equ	TWS6	= 6	; TWI Status
                 .equ	TWS7	= 7	; TWI Status
                 
                 ; TWDR - TWI Data register
                 .equ	TWD0	= 0	; TWI Data Register Bit 0
                 .equ	TWD1	= 1	; TWI Data Register Bit 1
                 .equ	TWD2	= 2	; TWI Data Register Bit 2
                 .equ	TWD3	= 3	; TWI Data Register Bit 3
                 .equ	TWD4	= 4	; TWI Data Register Bit 4
                 .equ	TWD5	= 5	; TWI Data Register Bit 5
                 .equ	TWD6	= 6	; TWI Data Register Bit 6
                 .equ	TWD7	= 7	; TWI Data Register Bit 7
                 
                 ; TWAR - TWI (Slave) Address register
                 .equ	TWGCE	= 0	; TWI General Call Recognition Enable Bit
                 .equ	TWA0	= 1	; TWI (Slave) Address register Bit 0
                 .equ	TWA1	= 2	; TWI (Slave) Address register Bit 1
                 .equ	TWA2	= 3	; TWI (Slave) Address register Bit 2
                 .equ	TWA3	= 4	; TWI (Slave) Address register Bit 3
                 .equ	TWA4	= 5	; TWI (Slave) Address register Bit 4
                 .equ	TWA5	= 6	; TWI (Slave) Address register Bit 5
                 .equ	TWA6	= 7	; TWI (Slave) Address register Bit 6
                 
                 
                 
                 ; ***** LOCKSBITS ********************************************************
                 .equ	LB1	= 0	; Lock bit
                 .equ	LB2	= 1	; Lock bit
                 .equ	BLB01	= 2	; Boot Lock bit
                 .equ	BLB02	= 3	; Boot Lock bit
                 .equ	BLB11	= 4	; Boot lock bit
                 .equ	BLB12	= 5	; Boot lock bit
                 
                 
                 ; ***** FUSES ************************************************************
                 ; LOW fuse bits
                 .equ	CKSEL0	= 0	; Select Clock Source
                 .equ	CKSEL1	= 1	; Select Clock Source
                 .equ	CKSEL2	= 2	; Select Clock Source
                 .equ	CKSEL3	= 3	; Select Clock Source
                 .equ	BODEN	= 6	; Brown out detector enable
                 .equ	BODLEVEL	= 7	; Brown out detector trigger level
                 
                 ; HIGH fuse bits
                 .equ	BOOTRST	= 0	; Select Reset Vector
                 .equ	BOOTSZ0	= 1	; Select Boot Size
                 .equ	BOOTSZ1	= 2	; Select Boot Size
                 .equ	EESAVE	= 3	; EEPROM memory is preserved through chip erase
                 .equ	SPIEN	= 5	; Enable Serial programming and Data Downloading
                 .equ	JTAGEN	= 6	; Enable JTAG
                 .equ	OCDEN	= 7	; Enable OCD
                 
                 
                 
                 ; ***** CPU REGISTER DEFINITIONS *****************************************
                 .def	XH	= r27
                 .def	XL	= r26
                 .def	YH	= r29
                 .def	YL	= r28
                 .def	ZH	= r31
                 .def	ZL	= r30
                 
                 
                 
                 ; ***** DATA MEMORY DECLARATIONS *****************************************
                 .equ	FLASHEND	= 0x3fff	; Note: Word address
                 .equ	IOEND	= 0x003f
                 .equ	SRAM_START	= 0x0060
                 .equ	SRAM_SIZE	= 2048
                 .equ	RAMEND	= 0x085f
                 .equ	XRAMEND	= 0x0000
                 .equ	E2END	= 0x03ff
                 .equ	EEPROMEND	= 0x03ff
                 .equ	EEADRBITS	= 10
                 #pragma AVRPART MEMORY PROG_FLASH 32768
                 #pragma AVRPART MEMORY EEPROM 1024
                 #pragma AVRPART MEMORY INT_SRAM SIZE 2048
                 #pragma AVRPART MEMORY INT_SRAM START_ADDR 0x60
                 
                 
                 
                 ; ***** BOOTLOADER DECLARATIONS ******************************************
                 .equ	NRWW_START_ADDR	= 0x3800
                 .equ	NRWW_STOP_ADDR	= 0x3fff
                 .equ	RWW_START_ADDR	= 0x0
                 .equ	RWW_STOP_ADDR	= 0x37ff
                 .equ	PAGESIZE	= 64
                 .equ	FIRSTBOOTSTART	= 0x3f00
                 .equ	SECONDBOOTSTART	= 0x3e00
                 .equ	THIRDBOOTSTART	= 0x3c00
                 .equ	FOURTHBOOTSTART	= 0x3800
                 .equ	SMALLBOOTSTART	= FIRSTBOOTSTART
                 .equ	LARGEBOOTSTART	= FOURTHBOOTSTART
                 
                 
                 
                 ; ***** INTERRUPT VECTORS ************************************************
                 .equ	INT0addr	= 0x0002	; External Interrupt Request 0
                 .equ	INT1addr	= 0x0004	; External Interrupt Request 1
                 .equ	INT2addr	= 0x0006	; External Interrupt Request 2
                 .equ	OC2addr	= 0x0008	; Timer/Counter2 Compare Match
                 .equ	OVF2addr	= 0x000a	; Timer/Counter2 Overflow
                 .equ	ICP1addr	= 0x000c	; Timer/Counter1 Capture Event
                 .equ	OC1Aaddr	= 0x000e	; Timer/Counter1 Compare Match A
                 .equ	OC1Baddr	= 0x0010	; Timer/Counter1 Compare Match B
                 .equ	OVF1addr	= 0x0012	; Timer/Counter1 Overflow
                 .equ	OC0addr	= 0x0014	; Timer/Counter0 Compare Match
                 .equ	OVF0addr	= 0x0016	; Timer/Counter0 Overflow
                 .equ	SPIaddr	= 0x0018	; Serial Transfer Complete
                 .equ	URXCaddr	= 0x001a	; USART, Rx Complete
                 .equ	UDREaddr	= 0x001c	; USART Data Register Empty
                 .equ	UTXCaddr	= 0x001e	; USART, Tx Complete
                 .equ	ADCCaddr	= 0x0020	; ADC Conversion Complete
                 .equ	ERDYaddr	= 0x0022	; EEPROM Ready
                 .equ	ACIaddr	= 0x0024	; Analog Comparator
                 .equ	TWIaddr	= 0x0026	; 2-wire Serial Interface
                 .equ	SPMRaddr	= 0x0028	; Store Program Memory Ready
                 
                 .equ	INT_VECTORS_SIZE	= 42	; size in words
                 
                 #endif  /* _M32ADEF_INC_ */
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;                    _     _  _                                _       
                 ;                   | |   | |(_)                              | |      
                 ;  ____  _____ _____| |__ | | _ ____     _____ ____   ___   __| |_____ 
                 ; |    \| ___ | ___ |  _ \| || |  _ \   (____ |  _ \ / _ \ / _  | ___ |
                 ; | | | | ____| ____| |_) ) || | |_| |  / ___ | | | | |_| ( (_| | ____|   "...Italian Way"
                 ; |_|_|_|_____)_____)____/ \_)_|  __/   \_____|_| |_|\___/ \____|_____)
                 ;                              |_|                                     
                 ; 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;Change log
                 ;
                 ;Garretlabs (Marco Lastri, ML) modidification to add a OLED display (aka "Italian way") V2.9 -2016.07.25
                 ;
                 ;V2.01 2014.10.29 - Added LFO Random waveform, Optional LFO Note Retriggering and Oscillator B wave select (pulse/sawtooth) as MIDI CC parameters.
                 ;V2.00 2014.07.22 - Added Wavetable mode (hold MIDI SET button for a moment at power up and the Pulse width knob selects.
                 ;					from 8 waveforms, the Pulse Sweep switch selects between Waveform Bank A and Bank B).
                 ;V1.10 2014.05.12 - Implemented more aggressive filter cutoff using hybrid analog/digital algorithm. 
                 ;V1.03 2014.03.13 - Changed MIDI Set knobs to the bottom row. Width = Channel 1 .. Depth - Channel 4. 
                 ;V1.02 2014.02.27 - Add Filter envelope modulation as MIDI CC parameter, LFO now continues during decay/release
                 ;V1.01 2014.02.25 - Implement MIDI Channel set, MIDI CC parameter control
                 ;V1.00 2014.01.14 - Initial release
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;	MeeBlip Contributors
                 ;
                 ;	Jarek Ziembicki	- Created the original AVRsynth, upon which this project is based.
                 ; 	Laurie Biddulph	- Worked with Jarek to translate his comments into English, ported to Atmega16
                 ;	Daniel Kruszyna	- Extended AVRsynth (several of his ideas are incorporated in MeeBlip)
                 ;  	Julian Schmidt	- Original Meeblip digital filter algorithm
                 ; 	Axel Werner		- Code optimization, bug fixes and new bandlimited waveforms 
                 ;	James Grahame 	- Meeblip Anode hardware and firmware development
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;	Port Mapping 
                 ;
                 ;	PA0..7		8 potentiometers
                 ;	PB5-PB7		ISP programming header / SPI communication
                 ;	PC0-PC7		Switch inputs
                 ;	PD0		    RxD (MIDI IN)
                 ;	PD1		    Power ON/MIDI LED
                 ;	PD3		    DAC CS (chip select)
                 ;	PD4			LDAC (DAC load signal)
                 ;	PD7			RAW Filter Cutoff control voltage (PWM generated)
                 ;	
                 ;
                 ;	Timers	
                 ;
                 ;	Timer0		Sample timer: (Clock /8) / 50 --> 40000 Hz
                 ;	Timer1		Time counter: CK/256		  --> TCNT1 
                 ;	Timer2		PWM generated control voltage for VCF filter cutoff 
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 
                                     .LIST
                                     .LISTMAC
                 
                                     .SET cpu_frequency = 16000000
                                     .SET baud_rate     = 31250
                 		            .SET KBDSCAN       = 6250	
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			V A R I A B L E S   &  D E F I N I T I O N S
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 .INCLUDE "variable_definitions.inc"
                 
                 ; Meeblip anode		Version 1.00
                 ; ML (Garretlabs) mod. V.2.9
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Variables and definitions
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 ;registers:
                 
                 ;current phase of DCO A:
                 .DEF PHASEA_0	    = 	r2
                 .DEF PHASEA_1	    = 	r3
                 .DEF PHASEA_2	    = 	r4
                 
                 ;current phase of DCO B:
                 .DEF PHASEB_0	    = 	r5
                 .DEF PHASEB_1	    = 	r6
                 .DEF PHASEB_2	    = 	r7
                 
                 .DEF ZERO           =   r8
                 
                 ;DCF:
                 
                 .def a_L 			= r9
                 .def a_H 			= r10
                 .def temp_SREG		= r11
                 .def z_L 			= r18
                 .def z_H 			= r19
                 .def temp	 		= r30
                 .def temp2			= r31
                 
                 .DEF OLD_LDAC  = 	r14 ; previous sample
                 .DEF OLD_HDAC  = 	r15 ; previous sample
                 
                 .def LDAC			= r16
                 .def HDAC			= r17
                 
                 ;RAM (0060h...025Fh):
                 
                                     .DSEG
                 ;MIDI:
000060           MIDIPHASE:          .BYTE 1
000061           MIDICHANNEL:        .BYTE 1
000062           MIDIDATA0:	        .BYTE 1
000063           MIDIVELOCITY:	    .BYTE 1
000064           MIDINOTE:	        .BYTE 1
000065           LFONOTE:			.BYTE 1
000066           MIDINOTEPREV:	    .BYTE 1		        ; buffer for MIDI note
000067           MIDIPBEND_L:        .BYTE 1		        ;\
000068           MIDIPBEND_H:        .BYTE 1		        ;/ -32768..+32766
                 
                 ;current sound parameters:
000069           LFOLEVEL:	        .BYTE 1	            ; 0..255
00006a           KNOB_SHIFT:			.BYTE 1				; 0= unchanged 255= changed state  
00006b           POWER_UP:			.BYTE 1				; 255 = Synth just turned on, 0 = normal operation
00006c           KNOB0_STATUS:		.BYTE 1				; Each byte corresponds to a panel knob.
00006d           KNOB1_STATUS:		.BYTE 1				; 0 = pot not updated since Knob Shift switch change
00006e           KNOB2_STATUS:		.BYTE 1				; 1 = pot has been updated. 
00006f           KNOB3_STATUS:		.BYTE 1
000070           KNOB4_STATUS:		.BYTE 1
000071           KNOB5_STATUS:		.BYTE 1
000072           KNOB6_STATUS:		.BYTE 1
000073           KNOB7_STATUS:		.BYTE 1
                 
000074           SWITCH1:	        .BYTE 1	            
000075           SWITCH2:	        .BYTE 1	            
000076           OLD_SWITCH1:		.BYTE 1				; Previous switch values (used to flag switch changes)
000077           OLD_SWITCH2:		.BYTE 1
                 
                 										
                 										; Switch value currently used (from front panel, MIDI or last loaded patch)
000078           PATCH_SWITCH1:		.BYTE 1				
                   .equ SW_SUSTAIN		= 0
                   .equ SW_OSCB_OCT		= 1
                   .equ SW_PWM_SWEEP		= 2
                   .equ SW_LFO_DEST		= 3
                   .equ SW_LFO_RANDOM	= 4
                   .equ SW_LFO_RETRIGGER	= 5
                   .equ SW_OSCB_WAVE		= 6
                   .equ SW_UNASSIGNED_2	= 7
                 
                 
                 
                 
000079           PATCH_SWITCH2:		.BYTE 1
                   .equ SW_MIDI			= 0
                 
00007a           SETMIDICHANNEL:	    .BYTE 1             ; selected MIDI channel: 0 for OMNI or 1..15
00007b           DETUNEB_FRAC:	    .BYTE 1	            ;\
00007c           DETUNEB_INTG:	    .BYTE 1	            ;/ -128,000..+127,996
00007d           ATTACKTIME:	        .BYTE 1	            ; 0..255
00007e           DECAYTIME:			.BYTE 1				; 0..255
00007f           SUSTAINLEVEL:		.BYTE 1				; 0/255
000080           RELEASETIME:        .BYTE 1	            ; 0..255
000081           ATTACKTIME2:	    .BYTE 1				; 0..255
000082           DECAYTIME2:			.BYTE 1				; 0..255
000083           SUSTAINLEVEL2:		.BYTE 1				; 0/255
000084           RELEASETIME2:        .BYTE 1	        ; 0..255
000085           NOTE_L:		        .BYTE 1
000086           NOTE_H:		        .BYTE 1
000087           NOTE_INTG:	        .BYTE 1
000088           PORTACNT:	        .BYTE 1		        ; 2 / 1 / 0
000089           LPF_I:		        .BYTE 1
00008a           LEVEL:		        .BYTE 1		        ; 0..255
00008b           PITCH:		        .BYTE 1		        ; 0..96
00008c           ADC_CHAN:	        .BYTE 1		        ; 0..7
00008d           PREV_ADC_CHAN:		.BYTE 1				; 0..7
00008e           ADC_0:		        .BYTE 1				; Panel knob values.
00008f           ADC_1:		        .BYTE 1
000090           ADC_2:		        .BYTE 1
000091           ADC_3:		        .BYTE 1
000092           ADC_4:		        .BYTE 1
000093           ADC_5:		        .BYTE 1
000094           ADC_6:		        .BYTE 1
000095           ADC_7:		        .BYTE 1
000096           OLD_ADC_0:			.BYTE 1				; Previous panel knob value
000097           OLD_ADC_1:			.BYTE 1
000098           OLD_ADC_2:			.BYTE 1
000099           OLD_ADC_3:			.BYTE 1
00009a           OLD_ADC_4:			.BYTE 1
00009b           OLD_ADC_5:			.BYTE 1
00009c           OLD_ADC_6:			.BYTE 1
00009d           OLD_ADC_7:			.BYTE 1
00009e           GATE:		        .BYTE 1		        ; 0 / 1
00009f           GATEEDGE:	        .BYTE 1		        ; 0 / 1
0000a0           TPREV_KBD_L:	    .BYTE 1
0000a1           TPREV_KBD_H:	    .BYTE 1
0000a2           TPREV_L:	        .BYTE 1
0000a3           TPREV_H:	        .BYTE 1
0000a4           DELTAT_L:	        .BYTE 1		        ;\ Time from former course
0000a5           DELTAT_H:	        .BYTE 1		        ;/ of the main loop (1 bit = 32 s)
0000a6           ENVPHASE:	        .BYTE 1		        ; 0=stop 1=attack 2=decay 3=sustain 4=release
0000a7           ENV_FRAC_L:	        .BYTE 1
0000a8           ENV_FRAC_H:	        .BYTE 1
0000a9           ENV_INTEGR:	        .BYTE 1
0000aa           ENVPHASE2:	        .BYTE 1		        ; 0=stop 1=attack 2=decay 3=sustain 4=release
0000ab           ENV_FRAC_L2:	    .BYTE 1
0000ac           ENV_FRAC_H2:	    .BYTE 1
0000ad           ENV_INTEGR2:	    .BYTE 1
0000ae           VELOCITY_ENVMOD:	.BYTE 1
0000af           OLD_CUTOFF:			.BYTE 1
                 
0000b0           LFOPHASE:	        .BYTE 1		        ; 0=up 1=down
0000b1           LFO_FRAC_L:	        .BYTE 1		        ;\
0000b2           LFO_FRAC_H:	        .BYTE 1		        ; > -128,000..+127,999
0000b3           LFO_INTEGR:	        .BYTE 1		        ;/
0000b4           LFOVALUE:	        .BYTE 1		        ; -128..+127
0000b5           LFO2PHASE:	        .BYTE 1		        ; 0=up 1=down
0000b6           LFO2_FRAC_L:	    .BYTE 1		        ;\
0000b7           LFO2_FRAC_H:	    .BYTE 1		        ; > -128,000..+127,999
0000b8           LFO2_INTEGR:	    .BYTE 1		        ;/
0000b9           LFO2VALUE:	        .BYTE 1		        ; -128..+127
0000ba           OLDWAVEA:	        .BYTE 1
0000bb           OLDWAVEB:	        .BYTE 1
0000bc           SHIFTREG_0:	        .BYTE 1		        ;\
0000bd           SHIFTREG_1:	        .BYTE 1		        ; > shift register for
0000be           SHIFTREG_2:	        .BYTE 1		        ;/  pseudo-random generator
0000bf           LFOBOTTOM_0:        .BYTE 1		        ;\
0000c0           LFOBOTTOM_1:        .BYTE 1		        ; > bottom level of LFO
0000c1           LFOBOTTOM_2:        .BYTE 1		        ;/
0000c2           LFOTOP_0:	        .BYTE 1		        ;\
0000c3           LFOTOP_1:	        .BYTE 1		        ; > top level of LFO
0000c4           LFOTOP_2:	        .BYTE 1		        ;/
0000c5           LFO2BOTTOM_0:       .BYTE 1		        ;\
0000c6           LFO2BOTTOM_1:       .BYTE 1		        ; > bottom level of LFO2
0000c7           LFO2BOTTOM_2:       .BYTE 1		        ;/
0000c8           LFO2TOP_0:	        .BYTE 1		        ;\
0000c9           LFO2TOP_1:	        .BYTE 1		        ; > top level of LFO2
0000ca           LFO2TOP_2:	        .BYTE 1		        ;/
0000cb           DCOA_LEVEL:			.BYTE 1	
0000cc           DCOB_LEVEL:			.BYTE 1	
0000cd           KNOB_DEADZONE:		.BYTE 1
                 
                 ; increase phase for DCO A
0000ce           DELTAA_0: .byte 1
0000cf           DELTAA_1: .byte 1
0000d0           DELTAA_2: .byte 1
                 
                 ; increase phase for DCO B
0000d1           DELTAB_0: .byte 1
0000d2           DELTAB_1: .byte 1
0000d3           DELTAB_2: .byte 1
                 
                 ; Wavetable select
0000d4           WAVETABLE_A:		.byte 1		; Bandlimited wavetable 0..11
0000d5           WAVETABLE_B:		.byte 1		; Bandlimited wavetable 0..11
0000d6           WAVETABLE:			.byte 1		; User wavetable 0.32
                 
                 
                 ; oscillator pulse width
0000d7           PULSE_WIDTH:		.byte 1
0000d8           PULSE_KNOB_LIMITED:	.byte 1
                 
                 ; fm
0000d9           WAVEB:	  .byte 1
0000da           FMDEPTH:  .byte 1
                 
                 ; eeprom 
0000db           WRITE_MODE:			.byte 1
0000dc           WRITE_OFFSET:		.byte 1		; byte 0..15 of the patch
0000dd           WRITE_PATCH_OFFSET:	.byte 1		; start of patch in eeprom
                 
                 ; filter
0000de           SCALED_RESONANCE: .byte 1
0000df           b_L:		.byte 1
0000e0           b_H:		.byte 1
0000e1           VCF_STATUS: .byte 1				; 0 indicates VCF off, 1 = on
                 
                 ; DCA LEVEL
0000e2           LEVEL_L:	.byte 1
0000e3           LEVEL_H:	.byte 1				; Envelope LEVEL packed in 2 bytes ready for the DCA. 
                 
                 ; Filter Cutoff Level
0000e4           LPF_L:		.byte 1
0000e5           LPF_H:		.byte 1				; Filter cutoff packed in 2 bytes for DAC
                 
                 ; Patch save/load and MIDI channel set
0000e6           LED_TIMER:		.byte 1				; number of blinks before reset
0000e7           LED_TIMER2:		.byte 1
0000e8           BUTTON_STATUS:	.byte 1				; MIDI=1
0000e9           FIRMWARE:		.byte 1				; 0 = standard firmware, 1 = alternate
                 
                 ///ML 20x4 lcd strings (4 rows of 20 chars+'\0')
0000ea           my_LCDstring4: .byte 21
0000ff           my_LCDstring3: .byte 21
000114           my_LCDstring2: .byte 21
000129           my_LCDstring1: .byte 21
                 
                 //ML temporary variable in RAM
00013e           
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			L O O K U P    T A B L E S
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;			MIDI CC table
                 ;			Interrupt vectors
                 ;			Note table
                 ;			VCF	curves
                 ;			Time to Rate conversion for envelope timing
                 ;			VCA curve
                 ;
                 
                 .INCLUDE "lookup_tables.inc"			
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; MIDI Control Change parameter table
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ; MIDI CC parameters with an offset from MIDICC. They are automatically
                 ; stored for use, just use the variable name to access their value. 
                  
                 
00013f           MIDICC:         		.byte $80 		; 128 bytes reserved in RAM for table
                   .equ MIDIMODWHEEL		= MIDICC + $01
                 
                     ; Knobs - potentiometer 0 through 7
                   .equ PANEL_LFOLEVEL 	= MIDICC + $30 
                   .equ LFOFREQ			= MIDICC + $31
                   .equ OSC_DETUNE 		= MIDICC + $32
                   .equ PULSE_KNOB 		= MIDICC + $33
                   .equ CUTOFF 			= MIDICC + $34
                   .equ KNOB_AMP_DECAY 	= MIDICC + $35
                   .equ KNOB_AMP_ATTACK	= MIDICC + $36
                   .equ PORTAMENTO 		= MIDICC + $37 ; Not on front panel, but available through MIDI CC 
                   .equ VCFENVMOD		= MIDICC + $38 ; Not on front panel, but available through MIDI CC
                 
                   ; Panel switches 0..7
                   ; Switches 1
                   .equ S_SUSTAIN		= MIDICC + $40
                   .equ S_OSCB_OCT		= MIDICC + $41
                   .equ S_PWM_SWEEP		= MIDICC + $42
                   .equ S_LFO_DEST		= MIDICC + $43
                   .equ S_LFO_RANDOM		= MIDICC + $44 
                   .equ S_LFO_RETRIGGER	= MIDICC + $45 
                   .equ S_OSCB_WAVE		= MIDICC + $46
                   .equ S_UNASSIGNED_2	= MIDICC + $47
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 
                 
                 
                 ;stack: 0x0A3..0x25F
                             .ESEG
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			V E C T O R   T A B L E
                 ;-------------------------------------------------------------------------------------------------------------------
                             .CSEG
                 
000000 940c 083f 		    jmp	RESET		            ; RESET
                 
000002 940c 002a 		    jmp	IRQ_NONE	            ; INT0
000004 940c 002a 		    jmp	IRQ_NONE	            ; INT1
000006 940c 002a 		    jmp	IRQ_NONE	            ; INT2
                 
000008 940c 002a 		    jmp	IRQ_NONE	            ; TIMEr2 COMP
00000a 940c 002a 		    jmp	IRQ_NONE	            ; TIMEr2 OVF
                 
00000c 940c 002a 		    jmp	IRQ_NONE	            ; TIMEr1 CAPT
00000e 940c 002a 		    jmp	IRQ_NONE	            ; TIMEr1 COMPA
000010 940c 002a 		    jmp	IRQ_NONE	            ; TIMEr1 COMPB
000012 940c 002a     		jmp	IRQ_NONE	            ; TIMEr1 OVF
                 
000014 940c 0165 		    jmp	TIM0_CMP	            ; TIMEr0 COMPA
000016 940c 002a 		    jmp	IRQ_NONE	            ; TIMEr0 OVF
                 
000018 940c 002a 		    jmp	IRQ_NONE	            ; SPI,STC
                 
00001a 940c 02e3 		    jmp	UART_RXC	            ; UART, RX COMPLETE
00001c 940c 002a 		    jmp	IRQ_NONE	            ; UART,UDRE
00001e 940c 002a 		    jmp	IRQ_NONE	            ; UART, TX COMPLETE
                 
000020 940c 002a 		    jmp	IRQ_NONE	            ; ADC CONVERSION COMPLETE
                 
000022 940c 002a 		    jmp	IRQ_NONE	            ; EEPROM READY
                 
000024 940c 002a 		    jmp	IRQ_NONE	            ; ANALOG COMPARATOR
                 
000026 940c 002a             jmp IRQ_NONE                ; 2-Wire Serial Interface
                 
000028 940c 002a             jmp IRQ_NONE                ; STORE PROGRAM MEMORY READY
                 
                 IRQ_NONE:
00002a 9518                  reti
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			R O M   T A B L E S
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ; Note Phase Deltas at 40 kHz sample rate
                 ;
                 ;  				NOTE PHASE DELTA = 2 ^ 24 * Freq / SamplingFreq
                 ;   	So... 	Note zero calc: 2 ^ 24 * 8.175799 / 40000 = 3429.17864 (stored as 00 0D 65.2E)
                 ;-------------------------------------------------------------------------------------------------------------------
                 
                     
                 DELTA_C:
00002b 652e                  .DW	0x652E		            ;\
00002c 000d      		    .DW	0x000D		            ;/ note  0 ( 8.175799 Hz) 
                 
                 DELTA_CIS:
00002d 3117                  .DW	0x3117		            ;\
00002e 000e      		    .DW	0x000E		            ;/ note  1 ( 8.661957 Hz) 
                 
                 DELTA_D:
00002f 091f                  .DW	0x091F		            ;\
000030 000f      		    .DW	0x000F		            ;/ note  2 ( 9.177024 Hz) 
                 
                 DELTA_DIS:
000031 ee01                  .DW	0xEE01		            ;\
000032 000f      		    .DW	0x000F		            ;/ note  3 ( 9.722718 Hz) 
                 
                 DELTA_E:
000033 e07f                  .DW	0xE07F		            ;\
000034 0010      		    .DW	0x0010		            ;/ note  4 (10.300861 Hz) 
                 
                 DELTA_F:
000035 e167                  .DW	0xE167		            ;\
000036 0011      		    .DW	0x0011		            ;/ note  5 (10.913382 Hz) 
                 
                 DELTA_FIS:
000037 f197                  .DW	0xF197		            ;\
000038 0012      		    .DW	0x0012		            ;/ note  6 (11.562326 Hz) 
                 
                 DELTA_G:
000039 11f6                  .DW	0x11F6		            ;\
00003a 0014      		    .DW	0x0014		            ;/ note  7 (12.249857 Hz) 
                 
                 DELTA_GIS:
00003b 437b                  .DW	0x437B		            ;\
00003c 0015      		    .DW	0x0015		            ;/ note  8 (12.978272 Hz) 
                 
                 DELTA_A:
00003d 872b                  .DW	0x872B		            ;\
00003e 0016      		    .DW	0x0016		            ;/ note  9 (13.750000 Hz) 
                 
                 DELTA_AIS:
00003f de1a                  .DW	0xDE1A		            ;\
000040 0017      		    .DW	0x0017		            ;/ note 10 (14.567618 Hz) 
                 
                 DELTA_H:
000041 496d                  .DW	0x496D		            ;\
000042 0019      		    .DW	0x0019		            ;/ note 11 (15.433853 Hz) 
                 
                 DELTA_C1:
000043 ca5b                  .DW	0xCA5B		            ;\
000044 001a      		    .DW	0x001A		            ;/ note 12 (16.351598 Hz) 
                 
                 
                 ;-----------------------------------------------------------------------------
                 ;
                 ; Lookup Tables
                 ;
                 ; VCF filter cutoff - 128 bytes
                 ; Time to Rate table for calculating amplitude envelopes - 64 bytes
                 ; VCA non-linear level conversion - 256 bytes
                 ;
                 ;-----------------------------------------------------------------------------
                 ; VCF Filter Cutoff
                 ;
                 ; value = (16th root of 2)**(index+24)
                 ;
                 
                 ; Digital VCF table (starts at zero)
                 
                 TAB_VCF:
000045 0101
000046 0101
000047 0101
000048 0101      	.db	  1,   1,   1,   1,   1,   1,   1,   1		;   0
000049 0101
00004a 0101
00004b 0101
00004c 0201      	.db	  1,   1,   1,   1,   1,   1,   1,   2		;   8
00004d 0202
00004e 0202
00004f 0202
000050 0202      	.db	  2,   2,   2,   2,   2,   2,   2,   2		;  16
000051 0302
000052 0303
000053 0303
000054 0303      	.db	  2,   3,   3,   3,   3,   3,   3,   3		;  24
000055 0404
000056 0404
000057 0504
000058 0505      	.db	  4,   4,   4,   4,   4,   5,   5,   5		;  32
000059 0605
00005a 0606
00005b 0707
00005c 0707      	.db	  5,   6,   6,   6,   7,   7,   7,   7		;  40
00005d 0808
00005e 0909
00005f 0a09
000060 0b0a      	.db	  8,   8,   9,   9,   9,  10,  10,  11		;  48
000061 0c0b
000062 0d0c
000063 0e0e
000064 100f      	.db	 11,  12,  12,  13,  14,  14,  15,  16		;  56
000065 1110
000066 1312
000067 1413
000068 1615      	.db	 16,  17,  18,  19,  19,  20,  21,  22		;  64
000069 1817
00006a 1a19
00006b 1d1c
00006c 1f1e      	.db	 23,  24,  25,  26,  28,  29,  30,  31		;  72
00006d 2221
00006e 2624
00006f 2927
000070 2d2b      	.db	 33,  34,  36,  38,  39,  41,  43,  45		;  80
000071 312f
000072 3533
000073 3a38
000074 3f3d      	.db	 47,  49,  51,  53,  56,  58,  61,  63		;  88
000075 4542
000076 4c48
000077 524f
000078 5a56      	.db	 66,  69,  72,  76,  79,  82,  86,  90		;  96
000079 625e
00007a 6b67
00007b 7570
00007c 7f7a      	.db	 94,  98, 103, 107, 112, 117, 122, 127		; 104
00007d 8b85
00007e 9891
00007f a59e
000080 b5ad      	.db	133, 139, 145, 152, 158, 165, 173, 181		; 112
000081 c5bd
000082 d7ce
000083 eae0
000084 fff5      	.db	189, 197, 206, 215, 224, 234, 245, 255		; 120
                 
                 ; Analog VCF table (offset to start at 25)
                 TAB_VCF2:
000085 1919
000086 1919
000087 1919
000088 1919      	.db	 25, 25, 25, 25, 25, 25, 25, 25
000089 1919
00008a 1919
00008b 1919
00008c 1a19      	.db	 25, 25, 25, 25, 25, 25, 25, 26
00008d 1a1a
00008e 1a1a
00008f 1a1a
000090 1a1a      	.db	 26, 26, 26, 26, 26, 26, 26, 26
000091 1b1a
000092 1b1b
000093 1b1b
000094 1b1b      	.db	 26, 27, 27, 27, 27, 27, 27, 27
000095 1c1c
000096 1c1c
000097 1d1c
000098 1d1d      	.db	 28, 28, 28, 28, 28, 29, 29, 29
000099 1d1d
00009a 1d1d
00009b 1e1e
00009c 1e1e      	.db	 29, 29, 29, 29, 30, 30, 30, 30
00009d 1f1f
00009e 2020
00009f 2120
0000a0 2221      	.db	 31, 31, 32, 32, 32, 33, 33, 34
0000a1 2322
0000a2 2423
0000a3 2525
0000a4 2626      	.db	 34, 35, 35, 36, 37, 37, 38, 38
0000a5 2726
0000a6 2928
0000a7 2a29
0000a8 2c2b      	.db	 38, 39, 40, 41, 41, 42, 43, 44
0000a9 2e2d
0000aa 2f2f
0000ab 3231
0000ac 3433      	.db	 45, 46, 47, 47, 49, 50, 51, 52
0000ad 3736
0000ae 3a38
0000af 3d3b
0000b0 413f      	.db	 54, 55, 56, 58, 59, 61, 63, 65
0000b1 4442
0000b2 4846
0000b3 4c4b
0000b4 514f      	.db	 66, 68, 70, 72, 75, 76, 79, 81
0000b5 5654
0000b6 5d59
0000b7 625f
0000b8 6966      	.db	 84, 86, 89, 93, 95, 98, 102, 105
0000b9 706d
0000ba 7975
0000bb 827d
0000bc 8b86      	.db	 109, 112, 117, 121, 125, 130, 134, 139
0000bd 9590
0000be a19b
0000bf ada7
0000c0 bbb4      	.db	 144, 149, 155, 161, 167, 173, 180, 187
0000c1 cac2
0000c2 dad2
0000c3 ebe2
0000c4 fff5      	.db	 194, 202, 210, 218, 226, 235, 245, 255
                 
                 
                 ;-----------------------------------------------------------------------------
                 ; 
                 ; Time to Rate conversion table for envelope timing.
                 ; 
                 ; lfo:
                 ;  update values for 32us update rate
                 ;  LFO_INTEGR overflows all 256*32us = 8.192 ms
                 ;
                 ; formula  Tof = 256*32us*2^16/N
                 ;          LFOfreq = 1/Tof
                 
                 ; Rate value =	Rmin * Q^i with Q = (Rmax/Rmin)^(1/31) = 1,286111766
                 
                 TIMETORATE:
0000c5 6387      	.DW		25479	; 10.54 mS	fast lfo, attack/rise time
0000c6 4d63      	.DW		19811	; 13.55 mS
0000c7 3c2c      	.DW		15404	; 17.43 mS
0000c8 2ec9      	.DW		11977	; 22.41 mS
0000c9 2461      	.DW		9313	; 28.83 mS
0000ca 1c49      	.DW		7241	; 37.07 mS
0000cb 15fe      	.DW		5630	; 47.68 mS
0000cc 111a      	.DW	 	4378	; 61.32 mS
0000cd 0d4c      	.DW	 	3404	; 78.87 mS
0000ce 0a57      	.DW	 	2647	; 101.4 mS
0000cf 080a      	.DW	 	2058	; 130.5 mS
0000d0 0640      	.DW	 	1600	; 167.8 mS
0000d1 04dc      	.DW	 	1244	; 215.8 mS
0000d2 03c8      	.DW	 	968	; 277.5 mS
0000d3 02f0      	.DW	 	752 ; 356.9 mS
0000d4 0249      	.DW	 	585 ; 459.0 mS
0000d5 01c7      	.DW	  	455	; 590.4 mS
0000d6 0162      	.DW	  	354	; 759.3 mS
0000d7 0113      	.DW	  	275	; 976.5 mS
0000d8 00d6      	.DW	  	214	; 1.256 S
0000d9 00a6      	.DW	  	166	; 1.615 S
0000da 0081      	.DW	  	129	; 2.077 S
0000db 0065      	.DW	  	101	; 2.672 S
0000dc 004e      	.DW	  	78	; 3.436 S
0000dd 003d      	.DW	  	61	; 4.419 S
0000de 002f      	.DW	   	47	; 5.684 S
0000df 0025      	.DW	   	37	; 7.310 S
0000e0 001d      	.DW	  	29	; 9.401 S
0000e1 0016      	.DW	   	22	; 12.09 S
0000e2 0012      	.DW	   	18	; 15.55 S
0000e3 000e      	.DW	   	14	; 20.00 S
0000e4 000a      	.DW	   	10	; 28.26 S	slow lfo, attack/rise time
                 
                 
                 ;-----------------------------------------------------------------------------
                 ;
                 ; VCA non-linear level conversion 
                 ;
                 ; Amplitude level lookup table. Envelopes levels are calculated as linear 
                 ; and then converted to approximate an exponential saturation curve.
                 ;
                 ; polynomial y = a	+ bx + cx2 + dx3
                 ; with coefficients
                 ;    a  0
                 ;    b  0.210841569
                 ;    c  0.000177823
                 ;    d  1.14E-05
                 
                 TAB_VCA:
0000e5 0000
0000e6 0100
0000e7 0101
0000e8 0101      	.db	  0,   0,   0,   1,   1,   1,   1,   1		;   0
0000e9 0202
0000ea 0202
0000eb 0303
0000ec 0303      	.db	  2,   2,   2,   2,   3,   3,   3,   3		;   8
0000ed 0403
0000ee 0404
0000ef 0504
0000f0 0505      	.db	  3,   4,   4,   4,   4,   5,   5,   5		;  16
0000f1 0605
0000f2 0606
0000f3 0706
0000f4 0707      	.db	  5,   6,   6,   6,   6,   7,   7,   7		;  24
0000f5 0807
0000f6 0808
0000f7 0908
0000f8 0909      	.db	  7,   8,   8,   8,   8,   9,   9,   9		;  32
0000f9 0a09
0000fa 0a0a
0000fb 0b0b
0000fc 0b0b      	.db	  9,  10,  10,  10,  11,  11,  11,  11		;  40
0000fd 0c0c
0000fe 0d0c
0000ff 0d0d
000100 0e0e      	.db	 12,  12,  12,  13,  13,  13,  14,  14		;  48
000101 0f0e
000102 0f0f
000103 1010
000104 1110      	.db	 14,  15,  15,  15,  16,  16,  16,  17		;  56
000105 1211
000106 1212
000107 1313
000108 1414      	.db	 17,  18,  18,  18,  19,  19,  20,  20		;  64
000109 1514
00010a 1615
00010b 1716
00010c 1717      	.db	 20,  21,  21,  22,  22,  23,  23,  23		;  72
00010d 1818
00010e 1919
00010f 1a1a
000110 1b1b      	.db	 24,  24,  25,  25,  26,  26,  27,  27		;  80
000111 1c1c
000112 1d1d
000113 1e1e
000114 1f1f      	.db	 28,  28,  29,  29,  30,  30,  31,  31		;  88
000115 2120
000116 2221
000117 2322
000118 2423      	.db	 32,  33,  33,  34,  34,  35,  35,  36		;  96
000119 2525
00011a 2726
00011b 2827
00011c 2929      	.db	 37,  37,  38,  39,  39,  40,  41,  41		; 104
00011d 2b2a
00011e 2c2b
00011f 2d2d
000120 2f2e      	.db	 42,  43,  43,  44,  45,  45,  46,  47		; 112
000121 3030
000122 3231
000123 3333
000124 3534      	.db	 48,  48,  49,  50,  51,  51,  52,  53		; 120
                 
000125 3736
000126 3838
000127 3a39
000128 3c3b      	.db	 54,  55,  56,  56,  57,  58,  59,  60		; 128
000129 3e3d
00012a 3f3f
00012b 4140
00012c 4342      	.db	 61,  62,  63,  63,  64,  65,  66,  67		; 136
00012d 4544
00012e 4746
00012f 4948
000130 4b4a      	.db	 68,  69,  70,  71,  72,  73,  74,  75		; 144
000131 4d4c
000132 504e
000133 5251
000134 5453      	.db	 76,  77,  78,  80,  81,  82,  83,  84		; 152
000135 5655
000136 5957
000137 5b5a
000138 5d5c      	.db	 85,  86,  87,  89,  90,  91,  92,  93		; 160
000139 605f
00013a 6261
00013b 6564
00013c 6866      	.db	 95,  96,  97,  98, 100, 101, 102, 104		; 168
00013d 6a69
00013e 6d6c
00013f 706e
000140 7371      	.db	105, 106, 108, 109, 110, 112, 113, 115		; 176
000141 7674
000142 7877
000143 7b7a
000144 7e7d      	.db	116, 118, 119, 120, 122, 123, 125, 126		; 184
000145 8280
000146 8583
000147 8886
000148 8b8a      	.db	128, 130, 131, 133, 134, 136, 138, 139		; 192
000149 8e8d
00014a 9290
00014b 9594
00014c 9997      	.db	141, 142, 144, 146, 148, 149, 151, 153		; 200
00014d 9c9a
00014e a09e
00014f a4a2
000150 a7a5      	.db	154, 156, 158, 160, 162, 164, 165, 167		; 208
000151 aba9
000152 afad
000153 b3b1
000154 b7b5      	.db	169, 171, 173, 175, 177, 179, 181, 183		; 216
000155 bbb9
000156 bfbd
000157 c3c1
000158 c7c5      	.db	185, 187, 189, 191, 193, 195, 197, 199		; 224
000159 cbc9
00015a d0ce
00015b d4d2
00015c d9d6      	.db	201, 203, 206, 208, 210, 212, 214, 217		; 232
00015d dddb
00015e e2e0
00015f e7e4
000160 ebe9      	.db	219, 221, 224, 226, 228, 231, 233, 235		; 240
000161 f0ee
000162 f5f3
000163 faf7
000164 fffc      
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;		S A M P L E     G E N E R A T I O N     L O O P 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Timer 1 compare interrupt (sampling)
                 ;
                 ; This is where sound is generated. This interrupt is called 40,000 times per second 
                 ; to calculate a single 16-bit value for audio output. There are 500 instruction cycles 
                 ; (16MHZ/40,000) between samples, and these have to be shared between this routine and the 
                 ; main program loop that scans controls, receives MIDI commands and calculates envelope, 
                 ; LFO, and DCA/DCF levels.
                 ;
                 ; If you use too many clock cycles here there won't be sufficient time left over for
                 ; general housekeeping tasks. The result will be sluggish and lost notes, weird timing and sadness.
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 .INCLUDE "sample_generation.inc"
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;		S A M P L E     G E N E R A T I O N     L O O P 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Timer 2 compare interrupt (sampling)
                 ;
                 ; This is where sound is generated. This interrupt is called 40,000 times per second 
                 ; to calculate a single 16-bit value for audio output. There are 500 instruction cycles 
                 ; (16MHZ/40,000) between samples, and these have to be shared between this routine and the 
                 ; main program loop that scans controls, receives MIDI commands and calculates envelope, 
                 ; LFO, and DCA/DCF levels.
                 ;
                 ; If you use too many clock cycles here there won't be sufficient time left over for
                 ; general housekeeping tasks. The result will be sluggish and lost notes, weird timing and sadness.
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 ; Push contents of registers onto the stack
                 ;
                 TIM0_CMP:
000165 930f      		    push	r16
000166 b70f      		    in	    r16, SREG		    ;\
000167 930f          		push	r16			        ;/ push SREG
000168 931f      		    push	r17
000169 932f      			push    r18
00016a 933f      			push	r19
00016b 934f      			push	r20
00016c 935f      			push    r21
00016d 936f      			push	r22
00016e 937f      			push	r23
00016f 93ef      			push	r30
000170 93ff      			push	r31
000171 920f        			push r0
000172 921f        			push r1
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ; Oscillator A & B 
                 ;
                 ; This design uses direct frequency synthesis to generate a ramp wave. A three-byte counter (= phase) is being
                 ; incremented by a value which is proportional to the sound frequency (= phase delta). The
                 ; increment takes place every sampling period. The most significant byte of the counter is a sawtooth ramp. 
                 ; This is either used as a pointer to a 256 byte wavetable or for direct waveform synthesis.
                 ; Each oscillator has its own phase and phase delta registers. The contents of each phase delta 
                 ; register depends on the frequency being generated:
                 ;
                 ;                   PHASE DELTA = 2 ^ 24 * Freq / SamplingFreq
                 ;
                 ; where:
                 ;       SamplingFreq = 40000 Hz
                 ;       Freq = 440 * 2 ^ ((n - 69 + d) / 12)
                 ;       where in turn:
                 ;           n = MIDI note number. Range limited to 36 to 96 (5 octaves)
                 ;           d = transpose/detune (in halftones)
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 
                 
                 
                 ; Output first byte of envelope LEVEL to the SPI DAC
                 
                 			; Output DCA Level
                 			; Pull DCA chip select line low to enable clock + data
000173 9893      			cbi		PORTD, 3
                 			; Shift most significant byte into SPI register 
                 			
000174 91e0 00e3 			lds		r30, LEVEL_H
000176 b9ef      			out		SPDR, r30	
                 				
                 
                 ; Pulse wave or wavetable version?
000177 9150 00e9 			lds		r21, FIRMWARE
000179 fd50      			sbrc	r21, 0	
00017a 940c 01f8 			jmp		WAVE_DCOA		; If FIRMWARE = 1, execute alternate firmware (wavetables)
                 
                 ;Calculate DCO A							
                 
                 CALC_DCOA:
00017c 2d14      		    mov	    r17, PHASEA_2				; sawtooth ramp for OSCA
                 
00017d 9150 0078 			lds		r21, PATCH_SWITCH1
00017f ff52      			sbrs	r21, SW_PWM_SWEEP  ; 0/1 (pulse/PWM)	
000180 c003      			rjmp	PULSE_OSCA					; On = PWM
                 
000181 9170 00d7 			lds		r23, PULSE_WIDTH			; pulse width from LFO
000183 c00e      			rjmp	PULSEA
                 
                 
                 PULSE_OSCA:
                 
000184 9170 00d8 			lds		r23, PULSE_KNOB_LIMITED		; get range limited pulse width from knob
000186 c00b      			rjmp	PULSEA
                 
                 SAW_OSCA:
000187 9160 00d4 			lds		r22, WAVETABLE_A			; Load wavetable offset 0..11
                 			
000189 3065      			cpi		r22, 5					
00018a f030      			brlo	RAW_SAWA					; Use raw wave if we're playing wavetable 0..4
                 
                 			; anti-aliased sawtooth
                 DCOA_SAW:
                 												; Offset to the correct wavetable in r22, based on note number (0..11)
00018b ecec      			ldi		ZL, low (2*INV_SAW0)		; Load low part of byte address into ZL
00018c e1f9      			ldi		ZH, high(2*INV_SAW0)		; Load high part of byte address into ZH
00018d 0fe1      			add		ZL, r17						; Offset the wavetable by the ramp phase (i)
00018e 1ff6      			adc		ZH, r22						; Wavetable 0..11
00018f 95c8      			lpm									;	Load wave(i) into r0
000190 2d10      			mov		r17, r0						;	Copy into DCO A
                 RAW_SAWA:
000191 c022      			rjmp	EXIT_PULSEA					; Raw sawtooth. We already have a sawtooth ramp loaded into OSCA (r17)		
                 
                 PULSEA:											
000192 9160 00d4 			lds		r22, WAVETABLE_A			; Load wavetable offset 0..11
                 
000194 3065      			cpi		r22, 5					
000195 f0c8      			brlo	RAW_PULSE					; Use raw wave if we're playing wavetable 0..4
                 
                 				; r17 phase
                 				; r18 temp
                 				; r23 pulse width
                 				; r22 wavetable
                 				; get sample a into r17
000196 ecec      			ldi		ZL, low (2*INV_SAW0)		; Load low part of byte address into ZL
000197 e1f9      			ldi		ZH, high(2*INV_SAW0)		; Load high part of byte address into ZH
000198 0fe1      			add		ZL, r17						; Offset the wavetable by the ramp phase (i)
000199 1ff6      			adc		ZH, r22						; Wavetable 0..11
00019a 95c8      			lpm									; Load wave(i) into r0
                 
                 	; get sample b out of phase into r18
00019b 2f27      			mov		r18, r23					; Grab a copy of the pulse width
00019c 0f21      			add		r18, r17					; Add phase offset for second table (pulse width + original sample)
00019d 2d10      			mov		r17, r0						; store previous sample in r17
00019e ecec      			ldi		ZL, low (2*INV_SAW0)		; Load low part of byte address into ZL
00019f e1f9      			ldi		ZH, high(2*INV_SAW0)		; Load high part of byte address into ZH
0001a0 0fe2      			add		ZL, r18						; Add phase offset for second table.
0001a1 1ff6      			adc		ZH, r22						; Wavetable 0..15
0001a2 95c8      			lpm									; Load wave(i) into r0
                 
                 	; subtract wave a-b		
                 	; first part b > a, second part b < a
0001a3 2722      			clr		r18
0001a4 1910      			sub		r17, r0			
0001a5 0928      			sbc		r18, ZERO
0001a6 0f17      			add		r17, r23					; add offset (pulse width)
0001a7 1d28      			adc		r18, ZERO
0001a8 f414      			brge	PULSE_BOUND_CHECK			; non-negative result, so no need to limit the value
0001a9 e010      			ldi		r17, 0
0001aa e020      			ldi		r18, 0						; value was negative, so force to zero
                 PULSE_BOUND_CHECK:
0001ab 2322      			tst		r18							; Check if we're larger than 255
0001ac f009      			breq	PWM_EXIT					; no need to limit upper bound
0001ad ef1f      			ldi		r17, $FF
                 PWM_EXIT:
0001ae c005      			rjmp	EXIT_PULSEA
                 
                 RAW_PULSE:
                 			; Raw Pulse wave generated on the fly. Aliases like crazy (calc'd only when anti-alias switch is OFF)
0001af 1717      			cp		r17, r23			
0001b0 f010      			brlo	PULSE_ZERO	
0001b1 e010      			ldi		r17, $00					; Set pulse to bottom
0001b2 c001      			rjmp	EXIT_PULSEA
                 PULSE_ZERO:
0001b3 ef1f      			ldi		r17, $FF					; Set pulse to top
                 EXIT_PULSEA:
0001b4 5810      			subi    r17, $80					; sign oscillator A
                 
                 
                 			; Output second byte of DCA Level on SPI
0001b5 91e0 00e2 			lds		r30, LEVEL_L
0001b7 b9ef      			out		SPDR, r30
                 
                 CALC_DCOB:
0001b8 2d07      		    mov	    r16, PHASEB_2				; sawtooth ramp for OSCA
                 
0001b9 9170 0078 			lds	    r23, PATCH_SWITCH1
0001bb fd76      		    sbrc 	r23, SW_OSCB_WAVE			; SW_OSCB_WAVE: 1 = sawtooth, 0 = pulse 	
0001bc c003      		    rjmp	SAW_OSCB
                 
                 PULSE_OSCB:
                 
0001bd 9170 00d8 			lds		r23, PULSE_KNOB_LIMITED		; get range limited pulse width from knob
0001bf c00b      			rjmp	PULSEB
                 
                 SAW_OSCB:
0001c0 9160 00d5 			lds		r22, WAVETABLE_B			; Load wavetable offset 0..11
                 
0001c2 3065      			cpi		r22, 5					
0001c3 f030      			brlo	RAW_SAWB					; Use raw wave if we're playing wavetable 0..4
                 
                 			; anti-aliased sawtooth
                 DCOB_SAW:
                 												; Offset to the correct wavetable in r22, based on note number (0..11)
0001c4 ecec      			ldi		ZL, low (2*INV_SAW0)		; Load low part of byte address into ZL
0001c5 e1f9      			ldi		ZH, high(2*INV_SAW0)		; Load high part of byte address into ZH
0001c6 0fe0      			add		ZL, r16						; Offset the wavetable by the ramp phase (i)
0001c7 1ff6      			adc		ZH, r22						; Wavetable 0..11
0001c8 95c8      			lpm									;	Load wave(i) into r0
0001c9 2d00      			mov		r16, r0						;	Copy into DCO B
                 
                 RAW_SAWB:			 
                 
0001ca c022      			rjmp	EXIT_PULSEB					; Raw sawtooth. We already have a sawtooth ramp loaded into OSCA (r17)
                 
                 
                 PULSEB:																					
0001cb 9160 00d5 			lds		r22, WAVETABLE_B			; Load wavetable offset 0..11
                 			
0001cd 3065      			cpi		r22, 5					
0001ce f0c8      			brlo	RAW_PULSEB					; Use raw wave if we're playing wavetable 0..4
                 
                 				; r16 phase
                 				; r18 temp
                 				; r23 pulse width
                 				; r22 wavetable
                 				; get sample a into r17
0001cf ecec      			ldi		ZL, low (2*INV_SAW0)		; Load low part of byte address into ZL
0001d0 e1f9      			ldi		ZH, high(2*INV_SAW0)		; Load high part of byte address into ZH
0001d1 0fe0      			add		ZL, r16						; Offset the wavetable by the ramp phase (i)
0001d2 1ff6      			adc		ZH, r22						; Wavetable 0..15
0001d3 95c8      			lpm									; Load wave(i) into r0
                 
                 	; get sample b out of phase into r18
0001d4 2f27      			mov		r18, r23					; Grab a copy of the pulse width
0001d5 0f20      			add		r18, r16					; Add phase offset for second table (pulse width + original sample)
0001d6 2d00      			mov		r16, r0						; store previous sample in r17
0001d7 ecec      			ldi		ZL, low (2*INV_SAW0)		; Load low part of byte address into ZL
0001d8 e1f9      			ldi		ZH, high(2*INV_SAW0)		; Load high part of byte address into ZH
0001d9 0fe2      			add		ZL, r18						; Add phase offset for second table.
0001da 1ff6      			adc		ZH, r22						; Wavetable 0..15
0001db 95c8      			lpm									; Load wave(i) into r0
                 
                 	; subtract wave a-b		
                 	; first part b > a, second part b < a
0001dc 2722      			clr		r18
0001dd 1900      			sub		r16, r0			
0001de 0928      			sbc		r18, ZERO
0001df 0f07      			add		r16, r23					; add offset (pulse width)
0001e0 1d28      			adc		r18, ZERO
0001e1 f414      			brge	PULSE_BOUND_CHECKB			; non-negative result, so no need to limit the value
0001e2 e000      			ldi		r16, 0
0001e3 e020      			ldi		r18, 0						; value was negative, so force to zero
                 PULSE_BOUND_CHECKB:
0001e4 2322      			tst		r18							; Check if we're larger than 255
0001e5 f009      			breq	PWM_EXITB					; no need to limit upper bound
0001e6 ef0f      			ldi		r16, $FF
                 PWM_EXITB:
0001e7 c005      			rjmp	EXIT_PULSEB
                 
                 RAW_PULSEB:
                 			; Raw Pulse wave generated on the fly. Aliases like crazy (calc'd only when we're playing octave 0..4)
0001e8 1707      			cp		r16, r23			
0001e9 f010      			brlo	PULSE_ZEROB	
0001ea e000      			ldi		r16, $00					; Set pulse to bottom
0001eb c001      			rjmp	EXIT_PULSEB
                 PULSE_ZEROB:
0001ec ef0f      			ldi		r16, $FF					; Set pulse to top
                 EXIT_PULSEB:
0001ed 5800      			subi    r16, $80					; sign oscillator B
                 
                 			;ldi		r16, $80	; silence osc b (test)
                 		
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Sum Oscillators
                 ;
                 ; Combines DCOA (in r17) and DCOB (in r16) waves to produce a 16-bit signed result in HDAC:LDAC (r17:r16)
                 
                 
                 ; Mixer out = (A*x + B*(1-x))/4   x=0..1
0001ee e867      			ldi		r22, 135			; Set DCO A level = 135  
0001ef 0316      			mulsu	r17, r22			; signed DCO A wave * level
0001f0 01f0      			movw	r30, r0				; store value in temp register
0001f1 e767      			ldi		r22, 119			; Set DCO B level = 120
0001f2 0306      			mulsu	r16, r22			; signed DCO B wave * level
0001f3 0de0      			add		r30, r0
0001f4 1df1      			adc		r31, r1				; sum scaled waves
0001f5 018f      			movw	r16, r30			; copy signed output into r16
                 
0001f6 940c 0247 			jmp		PRE_DCF
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Wavetable Oscillators
                 ;
                 WAVE_DCOA:
0001f8 2d04      		    mov	    r16, PHASEA_2				; sawtooth ramp for OSCA
                 
0001f9 9160 00d6 			lds		r22, WAVETABLE				; Wavetable 0..15
0001fb e018      			ldi		r17, 8						; Number of tables in a bank
                 
0001fc 9150 0078 			lds		r21, PATCH_SWITCH1
0001fe fd52      			sbrc	r21, SW_PWM_SWEEP  ; 0/1 (pulse/PWM)	
0001ff 0f61      			add		r22, r17					; Increment wavetable to second bank (waves 8-15)
                 
000200 0f66      			add		r22, r22					; Multiply WAVETABLE by 2 because each table is 512 bytes (256 x 16-bit samples)
                 
000201 2711      			clr		r17							; zero r17
000202 0f00      			add		r16, r16					; Multiply ramp by 2 (512 byte table) and store in r17:r16
000203 1d18      			adc		r17, ZERO					; carry
                 																
                 
                 DCOA_WAVES:
                 												
000204 ecec      			ldi		ZL, low (2*WAVES)		; Load low part of byte address into ZL
000205 e2f5      			ldi		ZH, high(2*WAVES)		; Load high part of byte address into ZH
000206 0fe0      			add		ZL, r16					; Offset the wavetable by the ramp phase (i)
000207 1ff1      			adc		ZH, r17
                 
000208 0ff6      			add		ZH, r22					; Offset wavetable 0..15 x 2 (each sample is 2 bytes)
                 
000209 9125      			lpm		r18, Z+						; Copy half of the sample into sample high byte and increment pointer 
00020a 9134      			lpm		r19, Z						; Copy other half of sample into sample low byte 
                 
                 									
                 ;Calculate DCO B							
                 
                 WAVE_DCOB:
00020b 2d07      		    mov	    r16, PHASEB_2				; sawtooth ramp for OSCA
                 
00020c 2711      			clr		r17							; zero r17
00020d 0f00      			add		r16, r16					; Multiply ramp by 2 (512 byte table) and store in r17:r16
00020e 1d18      			adc		r17, ZERO					; carry
                 
                 
                 DCOB_WAVES:
                 												
00020f ecec      			ldi		ZL, low (2*WAVES)		; Load low part of byte address into ZL
000210 e2f5      			ldi		ZH, high(2*WAVES)		; Load high part of byte address into ZH
000211 0fe0      			add		ZL, r16						; Offset the wavetable by the ramp phase (i)
000212 1ff1      			adc		ZH, r17
                 
000213 0ff6      			add		ZH, r22					; Offset wavetable 0..15 x 2 (each sample is 2 bytes)
                 
000214 9105      			lpm		r16, Z+						; Copy half of the sample into sample high byte and increment pointer 
000215 9114      			lpm		r17, Z						; Copy other half of sample into sample low byte 
                 
                 
000216 0000
000217 0000
000218 0000
000219 0000      			NOP NOP NOP NOP
00021a 0000
00021b 0000
00021c 0000
00021d 0000      			NOP NOP NOP NOP
                 
                 			; Output second byte of DCA Level on SPI
00021e 91e0 00e2 			lds		r30, LEVEL_L
000220 b9ef      			out		SPDR, r30
                 
                 
                 
                 			; Shift both oscillators one bit right to make sure we don't overflow the sum.
000221 9515      			asr	    r17		            ;\
000222 9507      			ror	    r16		            ;/ r17:r16 = r17:r16 asr 1
                 
000223 9535      			asr	    r19		            ;\
000224 9527      		    ror	    r18		            ;/ r19:r18 = r19:r18 asr 1
                 
000225 0f02      			add		r16, r18
000226 1f13      			adc		r17, r19			; Sum the oscillators
                 
                 
                 ; Finish loading cutoff or envelope level, pull CS high. 
                 
                 			; Make sure SPI has enough time to complete.
000227 0000
000228 0000
000229 0000
00022a 0000      			NOP	NOP	NOP	NOP
00022b 0000
00022c 0000
00022d 0000
00022e 0000      			NOP	NOP	NOP	NOP
00022f 0000
000230 0000
000231 0000
000232 0000      			NOP	NOP	NOP	NOP
000233 0000
000234 0000
000235 0000
000236 0000      			NOP	NOP	NOP	NOP
                 					
000237 0000
000238 0000
000239 0000
00023a 0000      			NOP	NOP	NOP	NOP
00023b 0000
00023c 0000
00023d 0000
00023e 0000      			NOP	NOP	NOP	NOP
00023f 0000
000240 0000
000241 0000
000242 0000      			NOP	NOP	NOP	NOP
000243 0000
000244 0000
000245 0000
000246 0000      			NOP	NOP	NOP	NOP
                 
                 PRE_DCF:
                 ; Finish loading cutoff or envelope level, pull CS high. 
000247 9a93      			sbi		PORTD, 3	; CS (DAC)
                 
                 			
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Digitally Controlled Filter
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; 
                 ; A 2-pole resonant low pass filter:
                 ;
                 ; a += f * ((in - a) + q * (a - b));
                 ; b += f * (a - b); 
                 ;
                 ; Input 16-Bit signed HDAC:LDAC (r17:r16), already scaled to minimize clipping (reduced to 25% of full code).
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 DCF:
                 			; rotate right to make headroom for resonance.  
                 
000248 9515                  asr	    r17		            ;\
000249 9507      		    ror	    r16		            ;/ r17:r16 = r17:r16 asr 1
                 			
                 .INCLUDE "digital_filter.inc"	
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Digitally Controlled Filter
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; 
                 ; A 2-pole resonant low pass filter:
                 ;
                 ; a += f * ((in - a) + q * (a - b));
                 ; b += f * (a - b); 
                 ;
                 ; Input 16-Bit signed HDAC:LDAC (r17:r16), already scaled to minimize clipping (reduced to 25% of full code).
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 	;calc (in - a) ; both signed
00024a 1909      	sub	LDAC, a_L
00024b 091a      	sbc	HDAC, a_H
                 					;check for overflow / do hard clipping
00024c f413      	brvc	OVERFLOW_1		;if overflow bit is clear jump to OVERFLOW_1
                 
                 					;sub overflow happened -> set to min
                 					;0b1000.0000 0b0000.0001 -> min
                 					;0b0111.1111 0b1111.1111 -> max
                 
00024d e001      	ldi	LDAC, 0b00000001
00024e e810      	ldi	HDAC, 0b10000000
                 
                 OVERFLOW_1:				;when overflow is clear
                 
                 					;(in-a) is now in HDAC:LDAC as signed
                 					;now calc q*(a-b)
                 
                 					; Scale resonance based on filter cutoff
                 	;lds	r22, RESONANCE
00024f e060      	ldi		r22, 0
000250 9140 0089 	lds	r20, LPF_I		;load 'F' value
000252 ef5f      	ldi	r21, 0xff
                 
000253 1b54      	sub	r21, r20		; 1-F
000254 9556      	lsr	r21
000255 e220      	ldi	r18, 32
000256 0f52      	add	r21, r18
                 
000257 1b65      	sub	r22, r21		; Q-(1-f)
000258 f408      	brcc	OVERFLOW_2		; if no overflow occured
000259 e060      	ldi	r22, 0x00		;0x00 because of unsigned
                 
                 OVERFLOW_2:
                 
00025a 2d49      	mov	r20, a_L		;\
00025b 2d5a      	mov	r21, a_H		;/ load 'a' , signed
                 
00025c 9130 00e0 	lds	z_H, b_H		;\
00025e 9120 00df 	lds	z_L, b_L		;/ load 'b', signed
                 
000260 1b42      	sub	r20, z_L		;\
000261 0b53      	sbc	r21, z_H		;/ (a-b) signed
                 
000262 f413      	brvc	OVERFLOW_3		;if overflow is clear jump to OVERFLOW_3
                 
                 					;0b1000.0000 0b0000.0001 -> min
                 					;0b0111.1111 0b1111.1111 -> max
                 
000263 e041      	ldi	r20, 0b00000001
000264 e850      	ldi	r21, 0b10000000
                 
                 OVERFLOW_3:
                 
                 CALC_LOWPASS:
                 					; mul signed:unsigned -> (a-b) * Q
                 					; 16x8 into 16-bit
                 					; r19:r18 = r21:r20 (ah:al) * r22 (b)
                 
000265 0356      	mulsu	r21, r22		; (signed)ah * b
000266 0190      	movw	r18, r0
000267 9f46      	mul	r20, r22		; al * b
000268 0d21      	add	r18, r1
000269 1d38      	adc	r19, ZERO
00026a 1c00      	rol	r0			; r0.7 --> Cy
00026b f408      	brcc	NO_ROUND		; LSByte < $80, so don't round up
00026c 9523      	inc	r18
                 NO_ROUND:
00026d 9488      	clc
00026e 0f22      	lsl	r18
00026f 1f33      	rol	r19
000270 9488      	clc
000271 0f22      	lsl	r18
000272 1f33      	rol	r19
000273 0199      	movw	z_L,r18			;Q*(a-b) in z_H:z_L as signed
                 
                 					;add both
                 					;both signed
                 					;((in-a)+q*(a-b))
                 					;=> HDAC:LDAC + z_H:z_L
                 
                  DCF_ADD:
                 
000274 0f02      	add	LDAC, z_L
000275 1f13      	adc	HDAC, z_H
                 
000276 f413      	brvc	OVERFLOW_4		;if overflow is clear
                 					;0b1000.0000 0b0000.0001 -> min
                 					;0b0111.1111 0b1111.1111 -> max
                 
000277 ef0f      	ldi	LDAC, 0b11111111
000278 e71f      	ldi	HDAC, 0b01111111
                 
                 OVERFLOW_4:
                 
                 					;Result is a signed value in HDAC:LDAC
                 					;calc * f
                 					;((in-a)+q*(a-b))*f
                 
000279 9140 0089 	lds	r20, LPF_I		;load lowpass 'F' value
                 					; mul signed unsigned HDAC*F
                 					; 16x8 into 16-bit
                 					; r19:r18 = HDAC:LDAC (ah:al) * r20 (b)
                 
00027b 0314      	mulsu	HDAC, r20		; (signed)ah * b
00027c 0190      	movw	r18, r0
00027d 9f04      	mul	LDAC, r20		; al * b
00027e 0d21      	add	r18, r1			; signed result in r19:r18
00027f 1d38      	adc	r19, ZERO
000280 1c00      	rol	r0			; r0.7 --> Cy
000281 f408      	brcc	NO_ROUND2		; LSByte < $80, so don't round up
000282 9523      	inc	r18
                 NO_ROUND2:
                 					;Add result to 'a'
                 					;a+=f*((in-a)+q*(a-b))
                 
000283 0e92      	add	a_L, r18
000284 1ea3      	adc	a_H, r19
000285 f423      	brvc	OVERFLOW_5		;if overflow is clear
                 					;0b1000.0000 0b0000.0001 -> min
                 					;0b0111.1111 0b1111.1111 -> max
                 
000286 ef2f      	ldi	z_L, 0b11111111
000287 e73f      	ldi	z_H, 0b01111111
000288 2e92      	mov	a_L, z_L
000289 2ea3      	mov	a_H, z_H
                 
                 OVERFLOW_5:
                 					;calculated a+=f*((in-a)+q*(a-b)) as signed value and saved in a_H:a_L
                 					;calc 'b'
                 					;b += f * (a*0.5 - b);
                 
00028a 2d3a      	mov	z_H, a_H		;\
00028b 2d29      	mov	z_L, a_L		;/ load 'a' as signed
                 
00028c 91e0 00df 	lds	temp, b_L		;\
00028e 91f0 00e0 	lds	temp2, b_H		;/ load b as signed
                 
000290 1b2e      	sub	z_L, temp		;\
000291 0b3f      	sbc	z_H, temp2		;/ (a - b) signed
                 
000292 f413      	brvc	OVERFLOW_6		;if overflow is clear
                 					;0b1000.0000 0b0000.0001 -> min
                 					;0b0111.1111 0b1111.1111 -> max
                 
000293 e021      	ldi	z_L, 0b00000001
000294 e830      	ldi	z_H, 0b10000000
                 
                 OVERFLOW_6:
                 
000295 9140 0089 	lds	r20, LPF_I		;load lowpass 'F' value
                 
                 					; mul signed unsigned (a-b) * F
                 					; 16x8 into 16-bit
                 					; r19:r18 = z_H:z_L (ah:al) * r20 (b)
000297 0334      	mulsu	z_H, r20		; (signed)ah * b
000298 0190      	movw	r18, r0
000299 9f24      	mul	z_L, r20		; al * b
00029a 0d21      	add	r18, r1			; signed result in r19:r18
00029b 1d38      	adc	r19, ZERO
                 
                 
00029c 0fe2      	add	temp,  r18		;\ add result to 'b' , signed
00029d 1ff3      	adc	temp2, r19		;/ b +=(a-b)*f
                 
00029e f413      	brvc	OVERFLOW_7		;if overflow is clear
                 
                 					;0b1000.0000 0b0000.0001 -> min
                 					;0b0111.1111 0b1111.1111 -> max
                 
00029f efef      	ldi	temp,  0b11111111
0002a0 e7ff      	ldi	temp2, 0b01111111
                 
                 OVERFLOW_7:
                 
0002a1 93e0 00df 	sts	b_L, temp		;\
0002a3 93f0 00e0 	sts	b_H, temp2		;/ save value of 'b'
                 
                 
0002a5 2f0e      	mov	LDAC, temp		;B now contains the filtered signal in HDAC:LDAC
0002a6 2f1f      				
                 				
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Digitally Controlled Amplifier
                 ;
                 ; Multiply the output waveform by the 8-bit value in LEVEL.
                 ; r17:r16 - output from filter 16b signed
                 ; r18     - output from DCA envelope generator
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 DCA:
                 
0002a7 9120 008a 			lds		r18, level
0002a9 3f2f      			cpi		r18, 255
0002aa f029      			breq	T2_AEXIT	    ; don't multiply when LEVEL==255, use
0002ab 0312      			mulsu	r17, r18		; multiply samples high byte
0002ac 01f0      			movw	r30, r0
0002ad 9f02      			mul		r16, r18		; multipliy samples low byte
0002ae 0de1      			add		r30, r1
0002af 1df8      			adc		r31, ZERO		
                 
                 T2_AEXIT:
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Output Sample
                 ;
                 ; Write the 16-bit signed output of the DCA to the DAC.
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 ;write sample (r31:r30) to DAC:
                 
                 ; Control bit mask xxxx0011
0002b0 e013      			ldi		r17, 0b00000011 ; Outputs audio signal through DACA, through the Vref pin on DACB. 
                 
                 ; Pull DAC chip select line low to enable clock + data
0002b1 9893      			cbi		PORTD, 3
                 
                 ; Shift MSB data word in r17:r16:r30 left 4 bits, so it's packed 0011 dddd dddd dddd
0002b2 58f0                  subi	r31, 128		    ; U2 --> PB
0002b3 2f0f      			mov		r16, r31
                 
                 ; 12-bit audio (requires MCP4922 DAC for full 12-bit resolution)
0002b4 0fee      			lsl		r30		; shift lsb 1 bit left
0002b5 1f00      			rol		r16		; rotate through r16
0002b6 1f11      			rol		r17		; and into r17
0002b7 0fee      			lsl		r30		; shift 2 bits left
0002b8 1f00      			rol		r16		; rotate through r16
0002b9 1f11      			rol		r17		; and into r17
0002ba 0fee      			lsl		r30		; shift 3 bits left
0002bb 1f00      			rol		r16		; rotate through r16
0002bc 1f11      			rol		r17		; and into r17
0002bd 0fee      			lsl		r30		; shift 4 bits left
0002be 1f00      			rol		r16		; rotate through r16
0002bf 1f11      			rol		r17		; and into r17
                 
                 
                 ; Shift most significant byte into SPI register 
0002c0 b91f      			out		SPDR, r17
                 
                 ; Shift LSB into r17 and do something else for >16 clock cycles while the previous byte shifts in
0002c1 2f10      			mov		r17, r16
                 
                 ; Increment Oscillator A & B phase
                 
0002c2 ecee        			ldi 	r30, low(DELTAA_0)
0002c3 e0f0        			ldi 	r31, high(DELTAA_0)
0002c4 9101        			ld 		r16,z+
0002c5 0e20        			add 	PHASEA_0, r16
0002c6 9101        			ld 		r16,z+
0002c7 1e30        			adc 	PHASEA_1, r16
0002c8 9101        			ld 		r16,z+
0002c9 1e40        			adc 	PHASEA_2, r16
0002ca 9101        			ld 		r16,z+
0002cb 0e50        			add 	PHASEB_0, r16
0002cc 9101        			ld 		r16,z+
0002cd 1e60        			adc 	PHASEB_1, r16
0002ce 9101        			ld 		r16, z+
0002cf 1e70        			adc 	PHASEB_2,r16
                 
                 			; Shift least significant byte into SPI register 
0002d0 b91f      			out		SPDR, r17
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; End of Sample Interrupt
                 ;
                 ; Pop register values off stack and return to our regularly scheduled programming.
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; 
                 
0002d1 901f      			pop 	r1
0002d2 900f        			pop 	r0
0002d3 91ff      			pop		r31
0002d4 91ef      			pop		r30
0002d5 917f      			pop		r23
0002d6 916f      			pop		r22
0002d7 915f      			pop		r21
0002d8 914f      			pop		r20
0002d9 913f      			pop		r19
0002da 912f      			pop     r18 
0002db 911f      		    pop	    r17
                 
                 ; wait 16 cycles for byte to load into DAC, then load both channels and stop SPI clock
                 			;  load DAC
0002dc 9894      			cbi		PORTD, 4
                 			;  Pull DAC chip select line high to disable
0002dd 9a93      			sbi		PORTD, 3
0002de 9a94      			sbi		PORTD, 4
                 
0002df 910f      		    pop	    r16		            ;\
0002e0 bf0f      		    out	    SREG, r16	        ;/ pop SREG
0002e1 910f      		    pop	    r16
0002e2 9518      
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;		M I D I 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ; UART receiver (MIDI IN)
                 ;
                 
                 .INCLUDE "midi_in.inc"
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;		M I D I 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ; UART receiver (MIDI IN)
                 ;
                 
                 UART_RXC:
                 
0002e3 930f                  push	r16
0002e4 b70f      		    in	    r16, SREG	        ;\
0002e5 930f      		    push	r16			        ;/ push SREG
0002e6 931f      			push	r17 
                 
0002e7 b10c      		    in	    r16, UDR	        ; read received byte in r16
0002e8 9857      		    cbi	    UCR, 7		        ; RXCIE=0 (disable UART interrupts)
                 
                 
                 ; Exit UART interrupt immediately if received MIDI value => $F0
0002e9 3f00      			cpi		r16, $F0			; ignore active sensing, midi clocks, sysex
0002ea f020      			brlo	INTRX_PROCESS
0002eb e000      			ldi		r16, 0
0002ec 9300 0060 			sts	    MIDIPHASE, r16		; MIDIPHASE = 0
                 			;sei				            ; enable other interrupts
0002ee c0ee      			rjmp	INTRX_EXIT			; quit UART loop as quickly as possible
                 
                 INTRX_PROCESS:
                 ; end
                 			;sei				            ; enable other interrupts
0002ef 2300      		    tst	    r16		            ;\ jump when
0002f0 f4f2      		    brpl	INTRX_DATA		    ;/ r16.7 == 0 (MIDI data byte)
                 
                 ;MIDI status byte (1xxxxxxx):
0002f1 2f10      		    mov	    r17, r16
0002f2 7f10      		    andi	r17, 0xF0
0002f3 3810      		    cpi	    r17, 0x80
0002f4 f051      		    breq	INTRX_ACCEPT	    ; 8x note off
0002f5 3910      		    cpi	    r17, 0x90
0002f6 f041      		    breq	INTRX_ACCEPT	    ; 9x note on
0002f7 3b10      		    cpi	    r17, 0xB0
0002f8 f031      		    breq	INTRX_ACCEPT	    ; Bx control change
0002f9 3e10      		    cpi	    r17, 0xE0
0002fa f021      		    breq	INTRX_ACCEPT	    ; Ex pitch bend
0002fb e010      		    ldi	    r17, 0		        ;\
0002fc 9310 0060 		    sts	    MIDIPHASE, r17	    ;/ MIDIPHASE = 0
0002fe c0de      		    rjmp	INTRX_EXIT		    ; Ax polyphonic aftertouch
                 						                ; Cx program change
                 						                ; Dx channel aftertouch
                 						                ; Fx system
                 
                 INTRX_ACCEPT:
0002ff 9310 0060             sts	    MIDIPHASE, r17	    ; phase = 80 90 B0 E0
000301 700f      		    andi	r16, 0x0F		    ;\
000302 9503      		    inc	    r16			        ; > store MIDI channel 1..16
000303 9300 0061 		    sts	    MIDICHANNEL, r16	;/
000305 9110 007a 		    lds	    r17, SETMIDICHANNEL	;0 for OMNI or 1..15
000307 2311      		    tst	    r17
000308 f029      		    breq	INTRX_ACPT_X		; end when OMNI
000309 1710      		    cp	    r17, r16			; compare set channel to the incoming channel
00030a f019      		    breq	INTRX_ACPT_X		; end when right channel
00030b e010      		    ldi	    r17, 0			    ;\ otherwise:
00030c 9310 0060 		    sts	    MIDIPHASE, r17		;/ MIDIPHASE = 0 (no data service)
                 
                 INTRX_ACPT_X:
00030e c0ce                  rjmp	INTRX_EXIT
                 
                 ;MIDI data byte (0xxxxxxx):
                 INTRX_DATA:
00030f 9110 0060             lds	    r17, MIDIPHASE
000311 3810      		    cpi	    r17, 0x80		    ;\
000312 f019      		    breq	INTRX_NOFF1		    ; \
000313 3811      		    cpi	    r17, 0x81		    ; / note off
000314 f039      		    breq	INTRX_NOFF2		    ;/
000315 c00a      		    rjmp	INTRX_NOTEON
                 
                 INTRX_NOFF1:
000316 9513                  inc	    r17			        ;\
000317 9310 0060 		    sts	    MIDIPHASE, r17	    ;/ MIDIPHASE = 0x81
000319 9300 0062 		    sts	    MIDIDATA0, r16	    ; MIDIDATA0 = d
00031b c0c1      		    rjmp	INTRX_EXIT
                 
                 INTRX_NOFF2:
00031c 951a                  dec	    r17			        ;\
00031d 9310 0060 		    sts	    MIDIPHASE, r17	    ;/ MIDIPHASE = 0x80
00031f c010      		    rjmp	INTRXNON2_OFF
                 
                 ;9x note on:
                 INTRX_NOTEON:
000320 3910                  cpi	    r17, 0x90		    ;\
000321 f019      		    breq	INTRX_NON1		    ; \
000322 3911      		    cpi	    r17, 0x91		    ; / note on
000323 f039      		    breq	INTRX_NON2		    ;/
000324 c03f      		    rjmp	INTRX_CTRL
                 
                 INTRX_NON1:
000325 9513                  inc     r17			        ;\
000326 9310 0060 		    sts	    MIDIPHASE, r17	    ;/ MIDIPHASE = 0x91
000328 9300 0062 		    sts	    MIDIDATA0, r16	    ; MIDIDATA0 = d
00032a c0b2      		    rjmp	INTRX_EXIT
                 
                 INTRX_NON2:
00032b 951a                  dec	    r17			        ;\
00032c 9310 0060 		    sts	    MIDIPHASE, r17	    ;/ MIDIPHASE = 0x90
00032e 2300      		    tst	    r16			        ;\
00032f f509      		    brne	INTRXNON2_ON	    ;/ jump when velocity != 0
                 
                 ;turn note off:
                 INTRXNON2_OFF:
000330 9100 0062             lds	    r16, MIDIDATA0
000332 9110 0066 		    lds	    r17, MIDINOTEPREV
000334 1701      		    cp	    r16, r17
000335 f419      		    brne	INTRXNON2_OFF1
000336 ef1f      		    ldi	    r17, 255		    ;\ remove previous note
000337 9310 0066 		    sts	    MIDINOTEPREV, r17	;/ from buffer
                 
                 INTRXNON2_OFF1:
000339 9110 0064             lds	    r17, MIDINOTE
00033b 1701      		    cp	    r16, r17		    ;\
00033c f459      		    brne	INTRXNON2_OFF3	    ;/ exit when not the same note
00033d 9110 0066 		    lds	    r17, MIDINOTEPREV
00033f 3f1f      		    cpi	    r17, 255
000340 f041      		    breq	INTRXNON2_OFF2
000341 9310 0064 		    sts	    MIDINOTE, r17		; previous note is valid
000343 9310 0065 			sts		LFONOTE, r17		; Keep a copy for LFO
000345 ef1f      		    ldi	    r17, 255		    ;\ remove previous note
000346 9310 0066 		    sts	    MIDINOTEPREV, r17	;/ from buffer
                 
                 INTRXNON2_OFF3:
000348 c094                  rjmp	INTRX_EXIT
                 
                 INTRXNON2_OFF2:
000349 ef1f                  ldi	    r17, 255		    ;\ remove last note
00034a 9310 0064 		    sts	    MIDINOTE, r17		;/
00034c e010      		    ldi	    r17, 0			    ;\
00034d 9310 009e 		    sts	    GATE, r17		    ;/ GATE = 0
00034f 9a91      			sbi	    PORTD, 1		    ; LED on
000350 c08c      		    rjmp	INTRX_EXIT
                 
                 ;turn note on:
                 INTRXNON2_ON:
000351 9300 0063             sts	    MIDIVELOCITY, r16	; store velocity
000353 9110 0064 		    lds	    r17, MIDINOTE		;\ move previous note
000355 9310 0066 		    sts	    MIDINOTEPREV, r17	;/ into buffer
000357 9110 0062 		    lds	    r17, MIDIDATA0		;\
000359 9310 0064 		    sts	    MIDINOTE, r17		;/ MIDINOTE = note#
00035b 9310 0065 			sts		LFONOTE, r17		; Store note for LFO
00035d e011      		    ldi	    r17, 1
00035e 9310 009e 		    sts	    GATE, r17		    ; GATE = 1
000360 9310 009f 		    sts	    GATEEDGE, r17		; GATEEDGE = 1
                 		    
000362 9891      			cbi	    PORTD, 1		    ; LED off
000363 c079      		    rjmp	INTRX_EXIT
                 
                 ;Bx control change:
                 INTRX_CTRL:
000364 3b10                  cpi	    r17, 0xB0		    ;\
000365 f019      		    breq	INTRX_CC1		    ; \
000366 3b11      		    cpi	    r17, 0xB1		    ; / control change
000367 f039      		    breq	INTRX_CC2		    ;/
000368 c05b      		    rjmp	INTRX_PBEND
                 
                 INTRX_CC1:
000369 9513                  inc     r17			        ;\
00036a 9310 0060 		    sts	    MIDIPHASE, r17		;/ MIDIPHASE = 0xB1
00036c 9300 0062 		    sts	    MIDIDATA0, r16		; MIDIDATA0 = controller#
00036e c06e      		    rjmp	INTRX_EXIT
                 
                 INTRX_CC2:
00036f 951a                  dec     r17			        ;\
000370 9310 0060 		    sts	    MIDIPHASE, r17		;/ MIDIPHASE = 0xB0
000372 9110 0062 		    lds	    r17, MIDIDATA0
                 
                 ;Store MIDI CC in table
000374 93af      			push 	r26					; store contents of r27 and r26 on stack
000375 93bf      			push	r27
                 
000376 3310      			cpi		r17, $30			; Just save a controller # < $30
000377 f020      			brlo	INTRX_GOSAVE
                 
000378 3410      			cpi		r17, $40			; save, update old knob value and status
000379 f018      			brlo	INTRX_KNOB
                 
00037a 3510      			cpi		r17, $50			; save, update old switch value and status
00037b f0d0      			brlo	INTRX_SW
                 
                 INTRX_GOSAVE:
00037c c03e      			rjmp	INTRX_SAVE			; Save all other controller # > $50
                 
                 INTRX_KNOB:
                 			; save the value in the MIDI table
00037d e3af      			ldi 	r26,low(MIDICC)			
00037e e0b1        			ldi 	r27,high(MIDICC)
00037f 0fa1        			add 	r26,r17
000380 1db8        			adc 	r27,zero
000381 0f00        			lsl 	r16					; shift MIDI data to 0..254 to match knob value
000382 930c        			st 		x,r16				; store in MIDI CC table
                 
                 			; Get ADC_X and write it into OLD_ADC_X
000383 5310      			subi	r17, $30			; reduce to 0..15
000384 7017      			cbr		r17, $f8			; Clear highest 5 bits, leaving knob 0..7		
                 
000385 e8ae      			ldi 	r26,low(ADC_0)			
000386 e0b0        			ldi 	r27,high(ADC_0)
000387 0fa1        			add 	r26,r17
000388 1db8        			adc 	r27,zero
000389 910c      			ld		r16, x				; Fetch ADC_X into r16
                 
00038a e9a6      			ldi 	r26,low(OLD_ADC_0)			
00038b e0b0        			ldi 	r27,high(OLD_ADC_0)
00038c 0fa1        			add 	r26,r17
00038d 1db8        			adc 	r27,zero
00038e 930c      			st		x, r16				; Store ADC_X in OLD_ADC_X
                 
                 			; Clear KNOBX_STATUS (knob not moved)
00038f e6ac      			ldi 	r26,low(KNOB0_STATUS)			
000390 e0b0        			ldi 	r27,high(KNOB0_STATUS)
000391 0fa1        			add 	r26,r17
000392 1db8        			adc 	r27,zero
000393 e010      			ldi		r17, 0
000394 931c      			st		x, r17				; Clear KNOBX_STATUS
000395 c02b      			rjmp	INTRX_CCEND
                 
                 INTRX_SW:
000396 5410      		subi	r17, $40			; MIDI CC # --> switch offset 0..15
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 		
                 INTRX_SWITCH1:		
                 		
000397 7017      		cbr		r17, $f8			; Clear highest 5 bits, leaving switch 0..7
000398 91a0 0078 		lds		r26, PATCH_SWITCH1
00039a fb06      		bst	    r16, 6 		; load MSB of MIDI CC value into SREG T bit	
                 		
00039b 3010      		cpi		r17, 0 
00039c f411      		brne	INTRX_SW1		
00039d f9a0      		bld		r26, 0			; Set bit in PATCH_SWITCH1
00039e c019      		rjmp	INTRX_SWEXIT
                 INTRX_SW1:
00039f 3011      		cpi		r17, 1 
0003a0 f411      		brne	INTRX_SW2		
0003a1 f9a1      		bld		r26, 1			; Set bit in PATCH_SWITCH1
0003a2 c015      		rjmp	INTRX_SWEXIT
                 INTRX_SW2:
0003a3 3012      		cpi		r17, 2 
0003a4 f411      		brne	INTRX_SW3		
0003a5 f9a2      		bld		r26, 2			; Set bit in PATCH_SWITCH1
0003a6 c011      		rjmp	INTRX_SWEXIT
                 INTRX_SW3:
0003a7 3013      		cpi		r17, 3 
0003a8 f411      		brne	INTRX_SW4		
0003a9 f9a3      		bld		r26, 3			; Set bit in PATCH_SWITCH1
0003aa c00d      		rjmp	INTRX_SWEXIT
                 INTRX_SW4:
0003ab 3014      		cpi		r17, 4 
0003ac f411      		brne	INTRX_SW5		
0003ad f9a4      		bld		r26, 4			; Set bit in PATCH_SWITCH1
0003ae c009      		rjmp	INTRX_SWEXIT
                 INTRX_SW5:
0003af 3015      		cpi		r17, 5 
0003b0 f411      		brne	INTRX_SW6		
0003b1 f9a5      		bld		r26, 5			; Set bit in PATCH_SWITCH1
0003b2 c005      		rjmp	INTRX_SWEXIT
                 INTRX_SW6:
0003b3 3016      		cpi		r17, 6 
0003b4 f411      		brne	INTRX_SW7		
0003b5 f9a6      		bld		r26, 6			; Set bit in PATCH_SWITCH1
0003b6 c001      		rjmp	INTRX_SWEXIT
                 INTRX_SW7:			
0003b7 f9a7      		bld		r26, 7			; Set bit in PATCH_SWITCH1
                 
                 INTRX_SWEXIT:					; Finished switch scan, store updated switch bytes
0003b8 93a0 0078 		sts		PATCH_SWITCH1, r26
0003ba c006      		rjmp	INTRX_CCEND
                 
                 INTRX_SAVE:
0003bb e3af      			ldi 	r26,low(MIDICC)			
0003bc e0b1        			ldi 	r27,high(MIDICC)
0003bd 0fa1        			add 	r26,r17
0003be 1db8        			adc 	r27,zero
0003bf 0f00        			lsl 	r16					; shift MIDI data to 0..254 to match knob value
0003c0 930c        			st 		x,r16				; store in MIDI CC table
                 
                 INTRX_CCEND:
0003c1 91bf      			pop		r27					; reload old contents of r27 and r 26
0003c2 91af      			pop		r26
0003c3 c019      		    rjmp	INTRX_EXIT
                 
                 ;Ex pitch bender:
                 INTRX_PBEND:
0003c4 3e10                  cpi	    r17, 0xE0		    ;\
0003c5 f019      		    breq	INTRX_PB1		    ; \
0003c6 3e11      		    cpi	    r17, 0xE1		    ; / pitch bend
0003c7 f039      		    breq	INTRX_PB2		    ;/
0003c8 c014      			rjmp	INTRX_EXIT
                 
                 INTRX_PB1:
0003c9 9513                  inc     r17			        ;\
0003ca 9310 0060 		    sts	    MIDIPHASE, r17		;/ MIDIPHASE = 0xE1
0003cc 9300 0062 		    sts	    MIDIDATA0, r16		; MIDIDATA0 = dFine	0..127
0003ce c00e      		    rjmp	INTRX_EXIT
                 
                 INTRX_PB2:
0003cf 951a                  dec	    r17			        ;\
0003d0 9310 0060 		    sts	    MIDIPHASE, r17		;/ MIDIPHASE = 0xE0
0003d2 9110 0062 		    lds	    r17,MIDIDATA0		;\
0003d4 0f11      		    lsl	    r17			        ;/ r17 = dFine*2	0..254
0003d5 0f11      		    lsl	    r17			        ;\ r16,r17 = P.B.data
0003d6 1f00      		    rol	    r16			        ;/ 0..255,996
0003d7 5800      		    subi	r16, 128		    ; r16,r17 = -128,000..+127,996
0003d8 9310 0067 		    sts	    MIDIPBEND_L, r17	;\
0003da 9300 0068 		    sts	    MIDIPBEND_H, r16	;/ store P.BEND value
0003dc c000      		    rjmp	INTRX_EXIT
                 
                 INTRX_EXIT:
0003dd 911f                  pop	    r17
0003de 910f      		    pop	    r16			        ;\
0003df bf0f      		    out	    SREG, r16		    ;/ pop SREG
0003e0 910f      		    pop	    r16
0003e1 9a57      		    sbi	    UCR, 7			    ; RXCIE=1
0003e2 9518      
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;		S U B R O U T I N E S
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;		ADC_START			- Get knob value
                 ;		ADC_END				- Finish getting knob value
                 ;		ASr16				- 16 bit arithmetic shift right
                 ;		SHr32				- 32 bit logical shift right
                 ;		SHL32				- 32 bit logical shift left
                 ;		MUL32X16			- 32 bit x 16 bit multiplication (unsigned)
                 ;		LOAD_32BIT			- Load 32 bit phase value from ROM
                 ;		LOAD_DELTA			- Load phase delta from ROM
                 ;		NOTERECALC			- Note number recalculation
                 ;		TAB_BYTE			- Read byte from table
                 ;		TAB_WORD			- Read word from table
                 ;		ADCTORATE			- Time to Rate conversion
                 ;		NONLINPOT			- Nonlinear potentiometer conversion (Oscillator detune)
                 ;		EEPROM_WRITE		- Write byte to non-volatile eeprom memory
                 ;		EEPROM_READ			- Read byte from non-volatile eeprom memory
                 ;		SET_MIDI_CHANNEL	- Set new MIDI channel, reset LED flash
                 ;		CLEAR_KNOB_STATUS	- Set knob status to 'unmoved' and save current knob positions
                 ;		POT_SCAN			- Scan a knob and update its value if it has been moved
                 ;		
                 
                 .INCLUDE "subroutines.inc"
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			I/O subroutines
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;-----------------------------------------------------------------------------
                 ;A/D conversion (start)
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r18 = channel #	        0..7
                 ;Out:	-
                 ;Used:	-
                 ;-----------------------------------------------------------------------------
                 ADC_START:
0003e3 b927                  out	    ADMUX, r18	        ; set multiplexer
0003e4 9a36      		    sbi	    ADCSRA, 6	        ; ADSC=1
0003e5 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ;A/D conversion (end)
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	-
                 ;Out:	    r16 = result		            0..255
                 ;Used:	    SREG,r17
                 ;-----------------------------------------------------------------------------
                 ADC_END:
                 ADCE_LOOP:
0003e6 9b34                  sbis	ADCSRA, 4 	        ;\
0003e7 cffe      		    rjmp	ADCE_LOOP	        ;/ wait for ADIF==1
0003e8 9a34      		    sbi	    ADCSRA, 4 		    ; clear ADIF
0003e9 b104      		    in	    r16, ADCL	        ;\
0003ea b115      		    in	    r17, ADCH	        ;/ r17:r16 = 000000Dd:dddddddd
0003eb 9516      		    lsr	    r17		            ;\
0003ec 9507      		    ror	    r16		            ;/ r17:r16 = 0000000D:dddddddd
0003ed 9516      		    lsr	    r17		            ;\
0003ee 9507      		    ror	    r16		            ;/ r16 = Dddddddd
0003ef 9508      		    ret
                 
                 ;=============================================================================
                 ;			arithmetic subroutines
                 ;=============================================================================
                 
                 ;-----------------------------------------------------------------------------
                 ; 16 bit arithmetical shift right (division by 2^n)
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r17:r16 = x
                 ;	        r18 = n (shift count)		0..16
                 ;Out:	    r17:r16 = x asr n
                 ;Used:	    SREG
                 ;-----------------------------------------------------------------------------
                 ASr16:
0003f0 2322                  tst	    r18
0003f1 f031      		    breq	ASr16_EXIT
0003f2 932f      		    push	r18
                 
                 ASr16_LOOP:
0003f3 9515                  asr	    r17		            ;\
0003f4 9507      		    ror	    r16		            ;/ r17,r16 = r17,r16 asr 1
0003f5 952a      		    dec	    r18
0003f6 f7e1      		    brne	ASr16_LOOP
0003f7 912f      		    pop	    r18
                 
                 ASr16_EXIT:
0003f8 9508                  ret
                 
                 ;-----------------------------------------------------------------------------
                 ; 32 bit logical shift right
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r19:r18:r17:r16 = x
                 ;	        r20 = n (shift count)
                 ;Out:	    r19:r18:r17:r16 = x >> n
                 ;Used:	    SREG
                 ;-----------------------------------------------------------------------------
                 SHr32:
0003f9 2344                  tst	    r20
0003fa f041      		    breq	SHr32_EXIT
0003fb 934f      		    push	r20
                 
                 SHr32_LOOP:
0003fc 9536                  lsr	    r19
0003fd 9527      		    ror	    r18
0003fe 9517      		    ror	    r17
0003ff 9507      		    ror	    r16
000400 954a      		    dec	    r20
000401 f7d1      		    brne	SHr32_LOOP
000402 914f      		    pop	    r20
                 
                 SHr32_EXIT:
000403 9508                  ret
                 
                 ;-----------------------------------------------------------------------------
                 ; 32 bit logical shift left
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r19:r18:r17:r16 = x
                 ;	        r20 = n (shift count)
                 ;Out:	    r19:r18:r17:r16 = x << n
                 ;Used:	    SREG
                 ;-----------------------------------------------------------------------------
                 SHL32:
000404 2344                  tst	    r20
000405 f041      		    breq	SHL32_EXIT
000406 934f      		    push	r20
                 
                 SHL32_LOOP:
000407 0f00                  lsl	    r16
000408 1f11      		    rol	    r17
000409 1f22      		    rol	    r18
00040a 1f33      		    rol	    r19
00040b 954a      		    dec	    r20
00040c f7d1      		    brne	SHL32_LOOP
00040d 914f      		    pop	    r20
                 
                 SHL32_EXIT:
00040e 9508                  ret
                 
                 ;-----------------------------------------------------------------------------
                 ;32 bit x 16 bit multiplication (unsigned)
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	r19:r18:r17:r16 = x		0..2^32-1
                 ;	r23:r22 = y			0,yyyyyyyyyyyyyyyy  0..0,9999847
                 ;Out:	r19:r18:r17:r16 = x * y	0..2^32-1
                 ;Used:	SREG,r20-r29
                 ;-----------------------------------------------------------------------------
                 MUL32X16:
                 
                 ; multiply with high multiplier x
00040f 9f37      		mul		r19, r23		; ax
000410 01e0      		movw	r29:r28, r1:r0
000411 9f27      		mul		r18, r23		; bx
000412 01a0      		movw	r21:r20, r1:r0
000413 9f17      		mul		r17, r23		; cx
000414 01d0      		movw	r27:r26, r1:r0
000415 9f07      		mul		r16, r23		; dx
000416 2d90      		mov		r25, r0
000417 0da1      		add		r26, r1
000418 1fb4      		adc		r27, r20
000419 1fc5      		adc		r28, r21
00041a 1dd8      		adc		r29, ZERO
                 ; multiply with low multiplier y
00041b 9f36      		mul		r19, r22		; ay
00041c 01a0      		movw	r21:r20, r1:r0
00041d 9f16      		mul		r17, r22		; cy
00041e 0d90      		add		r25, r0
00041f 1da1      		adc		r26, r1
000420 1fb4      		adc		r27, r20
000421 1fc5      		adc		r28, r21
000422 1dd8      		adc		r29, ZERO
000423 9f26      		mul		r18, r22		; by
000424 01a0      		movw	r21:r20, r1:r0
000425 9f06      		mul		r16, r22		; dy
000426 2d80      		mov		r24, r0
000427 0d91      		add		r25, r1
000428 1fa4      		adc		r26, r20
000429 1fb5      		adc		r27, r21
00042a 1dc8      		adc		r28, ZERO
00042b 1dd8      		adc		r29, ZERO
                 
00042c 2f0a      		mov		r16,r26			;\
00042d 2f1b      		mov		r17,r27			; \
00042e 2f2c      		mov		r18,r28			; / x * y
00042f 2f3d      		mov		r19,r29			;/
                 
000430 9508      		ret
                 ;-----------------------------------------------------------------------------
                 ; Load 32 bit phase value from ROM
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r30 = index
                 ;Out:	    r19:r18:r17:r16 = value
                 ;Used:	    SREG,r0,r30,r31
                 ;-----------------------------------------------------------------------------
                 LOAD_32BIT:
000431 0fee                  lsl	    r30			        ; r30 *= 2
000432 e0f0      		    ldi	    r31, 0
000433 96bb      		    adiw	r30, DELTA_C	    ; Z = ROM address
000434 0fee      		    add	    r30, r30
000435 1fff          		adc	    r31, r31
000436 9105      			lpm		r16, z+
000437 9115      			lpm		r17, z+
000438 9125      			lpm		r18, z+
000439 9135      			lpm		r19, z+
00043a 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ; Load phase delta from ROM
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r23,r22 = indexs = 0,0..12,0 = n,octave
                 ;Out:	    r19:r18:r17:r16 = delta
                 ;Used:	    SREG,r0,r21,r24-r31
                 ;-----------------------------------------------------------------------------
                 LOAD_DELTA:
00043b 936f                  push	r22
00043c 937f      		    push	r23
00043d 2fe7      		    mov	    r30, r23
00043e dff2          		rcall	LOAD_32BIT
00043f 2f80      		    mov	    r24, r16
000440 2f91      		    mov	    r25, r17
000441 2fa2      		    mov	    r26, r18
000442 2fb3      		    mov	    r27, r19		    ; r27-r24 = delta[n]
000443 2fe7      		    mov	    r30, r23
000444 95e3      		    inc	    r30
000445 dfeb      		    rcall	LOAD_32BIT
000446 1b08      		    sub	    r16, r24
000447 0b19      		    sbc	    r17, r25
000448 0b2a      		    sbc	    r18, r26
000449 0b3b      		    sbc	    r19, r27
00044a 938f      		    push	r24
00044b 939f      		    push	r25
00044c 93af      		    push	r26
00044d 93bf      		    push	r27
00044e 2f76      		    mov	    r23, r22
00044f e060      		    ldi	    r22, 0
000450 934f      		    push	r20
000451 dfbd      		    rcall	MUL32X16
000452 914f      		    pop	    r20
000453 91bf      		    pop	    r27
000454 91af      		    pop	    r26
000455 919f      		    pop	    r25
000456 918f      		    pop	    r24
000457 0f08          		add	    r16, r24
000458 1f19      		    adc	    r17, r25
000459 1f2a          		adc	    r18, r26
00045a 1f3b      		    adc	    r19, r27
00045b 917f      		    pop	    r23
00045c 916f      		    pop	    r22
00045d 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ;note number recalculation
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r23 = n	                    0..139 = m12 + 12*n12
                 ;Out:	    r23 = m12                   0..11
                 ;	        r20 = n12                   0..11
                 ;Used:	    SREG
                 ;-----------------------------------------------------------------------------
                 NOTERECALC:
00045e e040                  ldi	r20,0			        ; n12 = 0
00045f c002      		    rjmp	NRC_2
                 
                 NRC_1:
000460 507c                  subi	r23, 12			    ; m12 -= 12
000461 9543      		    inc	    r20			        ; n12++
                 
                 NRC_2:
000462 307c                  cpi	    r23, 12
000463 f7e0      		    brsh	NRC_1			    ; repeat while m12 >= 12
000464 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ;read a byte from a table
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r16 = i		                0..255
                 ;	        r31:r30 = &Tab
                 ;Out:	    r16 = Tab[i]	                0..255
                 ;Used:	    SREG,r30,r31
                 ;-----------------------------------------------------------------------------
                 TAB_BYTE:
000465 0fee                  add	    r30, r30			;\
000466 1fff      		    adc	    r31, r31		    ;/ Z = 2 * &Tab
000467 0fe0      		    add	    r30, r16
000468 1df8      		    adc	    r31, ZERO
000469 9104      		    lpm		r16, z
00046a 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ;read a word from a table
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r16 = i			            0..255
                 ;	        r31:r30 = &Tab
                 ;Out:	    r19:r18 = Tab[i]            0..65535
                 ;Used:	    SREG,r0,r30,r31
                 ;-----------------------------------------------------------------------------
                 TAB_WORD:
00046b 0fe0                  add	    r30, r16
00046c 1df8      		    adc	    r31, ZERO
00046d 0fee      		    add	    r30, r30		    ;\
00046e 1fff      		    adc	    r31, r31		    ;/ Z = 2 * &Tab
00046f 9125      		    lpm		r18, z+				; LSByte
000470 9134      			lpm		r19, z				; MSByte
000471 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ;"time" --> "rate" conversion
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r16 = time			        0..255
                 ;Out:	    r19:r18:r17:r16 = rate		0x001B0000..0xFFFF0000
                 ;Used:	    SREG,r0,r30,r31
                 ;-----------------------------------------------------------------------------
                 ADCTORATE:
000472 9506                  lsr	    r16
000473 9506      		    lsr	    r16
000474 9506      		    lsr	    r16			        ;0..31
000475 ece5      			ldi		r30, low( TIMETORATE)
000476 e0f0      			ldi		r31, high(TIMETORATE)
000477 dff3      		    rcall	TAB_WORD		    ;r19:r18 = rate
000478 2700      		    clr	    r16
000479 2711      		    clr	    r17
00047a 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ;conversion of the "detune B" potentiometer function
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r16 = x		                0..255
                 ;Out:	    r17,r16 = y	                0,000..255,996
                 ;Used:	    SREG,r18-r30
                 ;-----------------------------------------------------------------------------
                 NONLINPOT:
00047b e060                  ldi	    r22, 0
00047c 2f70      		    mov	    r23, r16
00047d 3770          		cpi	    r23, 112
00047e f018      		    brlo	NLP_I
00047f 3970      		    cpi	    r23, 144
000480 f038      		    brlo	NLP_II
000481 c00c      		    rjmp	NLP_III
                 
                 ; 62.5 kHz calcs.  
                 
                 NLP_I:
000482 e000                  ldi	    r16, 0			    ;\  r18,r17:r16 = m =
000483 e210      		    ldi	    r17, 32			    ; > = 126/112 =
000484 e021      		    ldi	    r18, 1			    ;/  = 1.125
000485 e0e0          		ldi	    r30, 0			    ;\ r31,r30 = n =
000486 e0f0      		    ldi	    r31, 0			    ;/ = 0,0
000487 c00b      		    rjmp	NLP_CONT
                 
                 NLP_II:
000488 e008                  ldi	    r16, 8			    ;\  r18,r17:r16 = m =
000489 e211      		    ldi	    r17, 33			    ; > = (130-126)/(143-112) =
00048a e020          		ldi	    r18, 0			    ;/  = 0.129032258
00048b e8ec      		    ldi	    r30, 140		    ;\ r31,r30 = n =
00048c e6ff      		    ldi	    r31, 111		    ;/ = 126 - m*112 = 111.5483871
00048d c005      		    rjmp	NLP_CONT
                 
                 NLP_III:
00048e eb07                  ldi	    r16, 183		    ;\  r18,r17:r16 = m =
00048f e11d      		    ldi	    r17, 29			    ; > = (255-130)/(255-143) =
000490 e021      		    ldi	    r18, 1			    ;/  = 1.116071429
000491 e6e7          		ldi	    r30, 103		    ;\ r31,r30 = n =
000492 eef2      		    ldi	    r31, 226		    ;/ 255 - m*255 = -29.59821429
                 
                 NLP_CONT:
000493 e030                  ldi	    r19, 0
000494 df7a      		    rcall	MUL32X16
000495 0f0e      		    add	    r16, r30
000496 1f1f      		    adc	    r17, r31
000497 9508      		    ret
                 
                 ;-----------------------------------------------------------------------------
                 ; Write byte to eeprom memory
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r16 	= value		                0..255
                 ;			r18:r17 = eeprom memory address
                 ;Used:	    r16, r17, r18
                 ;-----------------------------------------------------------------------------
                 EEPROM_write:
                 										; Wait for completion of previous write
000498 99e1      			sbic 	EECR,EEWE
000499 cffe      			rjmp 	EEPROM_write
00049a b6bf      			in		temp_SREG, SREG		; save SREG
00049b 94f8      			cli							; disable interrupts during timed eeprom sequence
00049c bb2f      			out 	EEARH, r18 
00049d bb1e      			out 	EEARL, r17			; single byte offset from WRITE_OFFSET
00049e bb0d      			out 	EEDR,  r16			; Write data (r16) to data register
00049f 9ae2      			sbi 	EECR,EEMWE			; Write logical one to EEMWE
0004a0 9ae1      			sbi 	EECR,EEWE			; Start eeprom write by setting EEWE
0004a1 bebf      			out		SREG, temp_SREG		; restore SREG (restarts interrupts if enabled)
0004a2 9508      			ret									
                 
                 ;-----------------------------------------------------------------------------
                 ; Read byte from eeprom memory
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    r18:r17 = eeprom memory address
                 ;Out:		r16 	= value		                0..255
                 ;Used:	    r16, r17, r18
                 ;-----------------------------------------------------------------------------
                 EEPROM_read:
                 										
0004a3 99e1      			sbic 	EECR,EEWE			; Wait for completion of previous write
0004a4 cffe      			rjmp 	EEPROM_read
0004a5 b6bf      			in		temp_SREG, SREG		; save SREG
0004a6 94f8      			cli							; disable interrupts during timed eeprom sequence
0004a7 bb2f      			out 	EEARH, r18			; Set up address (r18:r17) in address register
0004a8 bb1e      			out 	EEARL, r17
0004a9 9ae0      			sbi 	EECR, EERE			; Start eeprom read by writing EERE
0004aa b30d      			in 		r16, EEDR			; Read data from data register
0004ab bebf      			out		SREG, temp_SREG 	; restore SREG (restarts interrupts if enabled)
0004ac 9508      			ret
                 
                 ;-----------------------------------------------------------------------------
                 ; Set new MIDI channel, reset LED flash
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ; In:		r16 = New MIDI Channel
                 ; Out:		NONE
                 ; Used:		r16, r17, r18
                 ;-----------------------------------------------------------------------------
                 SET_MIDI_CHANNEL:
                 
0004ad 9300 007a 			sts	    SETMIDICHANNEL, r16		
0004af e023      			ldi		r18, $03
0004b0 ef1f      			ldi		r17, $FF				; Set eeprom address to $03FF (last byte in memory)
0004b1 dfe6      			rcall   EEPROM_WRITE			; Write r16 to eeprom for recall next time we power on
                 
                 			; Don't simply reset LED. Instead, reset the timer and set the Status to 2 (successfully set)
                 			;sbi	    PORTD, 1		        ; Clear control button parameters and leave the LED on
                 			;ldi		r16, 0					;
                 			;sts		BUTTON_STATUS, r16		; Clear midi set button
                 
                 			; blink LED double fast if midi channel has been set. 
0004b2 e003      			ldi		r16, 3
0004b3 9300 00e8 			sts		BUTTON_STATUS, r16	; Set control status to channel set success, turn on control timer
0004b5 ef0f      			ldi		r16, 255
0004b6 9300 00e6 			sts		LED_TIMER, r16
0004b8 e300      			ldi		r16, 48
0004b9 9300 00e7 			sts		LED_TIMER2, r16
0004bb 9508      			ret
                 
                 ;-----------------------------------------------------------------------------
                 ; Clear knob status
                 ; Set knob status to 'unmoved' and save current knob positions
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                 ;In:	    --
                 ;Out:		--
                 ;Used:	    r16
                 ;-----------------------------------------------------------------------------
                 
                 CLEAR_KNOB_STATUS:						;	set knob status to 'unmoved' and save current knob positions
0004bc 2700      			clr		r16
0004bd 9300 006c 			sts		KNOB0_STATUS, r16	; 
0004bf 9300 006d 			sts		KNOB1_STATUS, r16	; 
0004c1 9300 006e 			sts		KNOB2_STATUS, r16	; 
0004c3 9300 006f 			sts		KNOB3_STATUS, r16	; 
0004c5 9300 0070 			sts		KNOB4_STATUS, r16	; 
0004c7 9300 0071 			sts		KNOB5_STATUS, r16	; 
0004c9 9300 0072 			sts		KNOB6_STATUS, r16	; 
0004cb 9300 0073 			sts		KNOB7_STATUS, r16	; 
0004cd 9100 008e 			lds	    r16, ADC_0			; Save current pot positions for future comparison
0004cf 9300 0096 			sts	    OLD_ADC_0,r16
0004d1 9100 008f 			lds	    r16, ADC_1			 
0004d3 9300 0097 			sts	    OLD_ADC_1,r16
0004d5 9100 0090 			lds	    r16, ADC_2			 
0004d7 9300 0098 			sts	    OLD_ADC_2,r16
0004d9 9100 0091 			lds	    r16, ADC_3			 
0004db 9300 0099 			sts	    OLD_ADC_3,r16
0004dd 9100 0092 			lds	    r16, ADC_4			 
0004df 9300 009a 			sts	    OLD_ADC_4,r16
0004e1 9100 0093 			lds	    r16, ADC_5			 
0004e3 9300 009b 			sts	    OLD_ADC_5,r16
0004e5 9100 0094 			lds	    r16, ADC_6			 
0004e7 9300 009c 			sts	    OLD_ADC_6,r16
0004e9 9100 0095 			lds	    r16, ADC_7			 
0004eb 9300 009d 			sts	    OLD_ADC_7,r16	
0004ed 9508      			ret
                 
                 
                 ;-----------------------------------------------------------------------------
                 ; Scan a pot and update its value if it has been moved
                 ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
                 ; In: r16 - the new pot value
                 ;	  r20 - the current conversion channel (0..7) 
                 ; Out: r17 - 1 if the pot has changed, 0 otherwise
                 ; Used: r16-r20, r28, r29, SREG
                 ;-----------------------------------------------------------------------------
                 POT_SCAN:
0004ee e6cc      			ldi		r28, low(KNOB0_STATUS)
0004ef e0d0      			ldi		r29, high(KNOB0_STATUS)
0004f0 0fc4      			add		r28, r20		
0004f1 1dd8      			adc		r29, ZERO
0004f2 8128      		    ld	    r18, Y			    ; load KNOBN_STATUS value into r18
                 			
0004f3 fd20      			sbrc	r18, 0				; Check bit 0
0004f4 c014      			rjmp	LOAD_ADC			; KNOBN_STATUS is set, so just update parameter
0004f5 2f30      			mov		r19, r16
                 			
0004f6 e9c6      			ldi		r28, low(OLD_ADC_0)
0004f7 e0d0      			ldi		r29, high(OLD_ADC_0)
0004f8 0fc4      			add		r28, r20		
0004f9 1dd8      			adc		r29, ZERO
0004fa 8118      		    ld	    r17, Y			    ; load OLD_ADC_N value into r17
0004fb 1b31      			sub		r19, r17
0004fc f40a      			brpl	DEAD_CHECK
0004fd 9531      			neg		r19		
                 DEAD_CHECK:
0004fe 3035      			cpi		r19, 5				 
0004ff f038      			brlo	NO_CHANGE			; Skip ahead if pot change is < the deadzone limit
000500 6021      			sbr 	r18,1				; Update knob status bit and continue -- pot moved
000501 e6cc      			ldi		r28, low(KNOB0_STATUS)
000502 e0d0      			ldi		r29, high(KNOB0_STATUS)
000503 0fc4      			add		r28, r20		;
000504 1dd8      			adc		r29, ZERO
000505 8328      		    st      Y, r18			    ; save updated KNOBN_STATUS
000506 c002      			rjmp 	LOAD_ADC			; 
                 
                 NO_CHANGE:
000507 e010      			ldi		r17, 0			    ; flag pot unchanged
000508 9508      			ret
                 
                 LOAD_ADC:	
000509 e011      			ldi		r17, 1				; flag pot changed
                 .INCLUDE "LCD.inc"
00050a 9508      
                 ;   LCD-AVR-4d.asm  - Use an HD44780U based LCD with an Atmel ATmega processor
                 ;
                 ;   Copyright (C) 2013 Donald Weiman    (weimandn@alfredstate.edu)
                 ;
                 ;   This program is free software: you can redistribute it and/or modify
                 ;   it under the terms of the GNU General Public License as published by
                 ;   the Free Software Foundation, either version 3 of the License, or
                 ;   (at your option) any later version.
                 ;
                 ;   This program is distributed in the hope that it will be useful,
                 ;   but WITHOUT ANY WARRANTY; without even the implied warranty of
                 ;   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                 ;   GNU General Public License for more details.
                 ;
                 ;   You should have received a copy of the GNU General Public License
                 ;   along with this program.  If not, see <http://www.gnu.org/licenses/>.
                 ;
                 ; ***************************************************************************
                 ;        File:    LCD-AVR-4d.asm
                 ;        Date:    September 8, 2013
                 ;
                 ;      Target:    ATmega328
                 ;   Assembler:    Atmel AvrAssembler2 (AVR Studio 6)
                 ;      Author:    Donald Weiman
                 ;	   Modded by: Marco Lastri (garretlabs.wordpress.com) to be used connected to MeeBlip Anode synthesizer
                 ;
                 ;    Hardware:    Arduino, Boarduino, or equivalent, LCD Module
                 ;
                 ;     Summary:    4-bit data interface, busy flag not implemented.
                 ;                 Any LCD pin can be connected to any available I/O port.
                 ;                 Includes a simple write string routine.
                 ;
                 ; ****************************** Program Notes ******************************
                 ;
                 ;           This program uses a 4-bit data interface but does not use the
                 ;             busy flag to determine when the LCD controller is ready.  The
                 ;             LCD RW line (pin 5) is not connected to the uP and it must be
                 ;             connected to GND for the program to function.
                 ;
                 ;           All time delays are longer than those specified in most datasheets
                 ;             in order to accommodate slower than normal LCD modules.  This
                 ;             requirement is well documented but almost always ignored.  The
                 ;             information is in a note at the bottom of the right hand
                 ;             (Execution Time) column of the instruction set.
                 ;
                 ; ***************************************************************************
                 ;
                 ;           The four data lines as well as the two control lines may be
                 ;             implemented on any available I/O pin of any port.  These are
                 ;             the connections used for this program:
                 ;
                 ;                -----------                   ----------
                 ;               | ATmega644 |                 |   LCD    |
                 ;               |           |                 |          |
                 ;               |        PB3|---------------->|D7        |
                 ;               |        PB2|---------------->|D6        |
                 ;               |        PB1|---------------->|D5        |
                 ;               |        PB0|---------------->|D4        |
                 ;               |           |                 |D3        |
                 ;               |           |                 |D2        |
                 ;               |           |                 |D1        |
                 ;               |           |                 |D0        |
                 ;               |           |                 |          |
                 ;               |        PD6|---------------->|E         |
                 ;               |           |         GND --->|RW        |
                 ;               |        PD5|---------------->|RS        |
                 ;                -----------                   ----------
                 ;
                 ; ***************************************************************************
                  
                  //ML: added to convert integer numbers in strings
                  .include "SimpleAsciiConversion.inc"
                 
                 ; HEX TO ASCII
                 ;-----------------------------------------------
                 ;I think, this was the smallest (only 10 words). 
                                                     
                 ;input: R16 = 8 bit value 0 ... 255 
                 ;output: R18, R17, R16 = digits 
                 ;bytes: 20 
                 ; 
                 HEX_2_ASCII:
                 
                 bcd: 
00050b e22f      	ldi r18, -1 + '0' 
                 _bcd1: 
00050c 9523      	inc r18 
00050d 5604      	subi r16, 100 
00050e f7e8      	brcc _bcd1 
00050f e31a      	ldi r17, 10 + '0' 
                 _bcd2: 
000510 951a      	dec r17 
000511 5f06      	subi r16, -10 
000512 f3e8      	brcs _bcd2 
000513 4d00      	sbci r16, -'0' 
000514 9508      ret  
                 
                  .equ    fclk                = 16000000      ; system clock frequency (for delays)
                 ////ML
                 ; register usage
                 .def    temp_lcd                = R24           ; temporary storage for LCD
                 .def	RAMtemp					= R25
                 
                 ; LCD interface (should agree with the diagram above)
                 ;   make sure that the LCD RW pin is connected to GND
                 .equ    lcd_D7_port         = PORTB         ; lcd D7 connection
                 .equ    lcd_D7_bit          = PORTB3
                 .equ    lcd_D7_ddr          = DDRB
                 
                 .equ    lcd_D6_port         = PORTB         ; lcd D6 connection
                 .equ    lcd_D6_bit          = PORTB2
                 .equ    lcd_D6_ddr          = DDRB
                 
                 .equ    lcd_D5_port         = PORTB         ; lcd D5 connection
                 .equ    lcd_D5_bit          = PORTB1
                 .equ    lcd_D5_ddr          = DDRB
                 
                 .equ    lcd_D4_port         = PORTB         ; lcd D4 connection
                 .equ    lcd_D4_bit          = PORTB0
                 .equ    lcd_D4_ddr          = DDRB
                 
                 .equ    lcd_E_port          = PORTD         ; lcd Enable pin
                 .equ    lcd_E_bit           = PORTD6
                 .equ    lcd_E_ddr           = DDRD
                 
                 .equ    lcd_RS_port         = PORTD         ; lcd Register Select pin
                 .equ    lcd_RS_bit          = PORTD5
                 .equ    lcd_RS_ddr          = DDRD
                 
                 ; LCD module information
                 .equ    lcd_LineOne         = 0x00          ; start of line 1
                 .equ    lcd_LineTwo         = 0x40          ; start of line 2
                 .equ   lcd_LineThree        = 0x14          ; start of line 3 (20x4)
                 .equ   lcd_lineFour         = 0x54          ; start of line 4 (20x4)
                 ;.equ   lcd_LineThree        = 0x10          ; start of line 3 (16x4)
                 ;.equ   lcd_lineFour         = 0x50          ; start of line 4 (16x4)
                 
                 ; LCD instructions
                 .equ    lcd_Clear           = 0b00000001    ; replace all characters with ASCII 'space'
                 .equ    lcd_Home            = 0b00000010    ; return cursor to first position on first line
                 .equ    lcd_EntryMode       = 0b00000110    ; shift cursor from left to right on read/write
                 .equ    lcd_DisplayOff      = 0b00001000    ; turn display off
                 .equ    lcd_DisplayOn       = 0b00001100    ; display on, cursor off, don't blink character
                 .equ    lcd_FunctionReset   = 0b00110000    ; reset the LCD
                 .equ    lcd_FunctionSet4bit = 0b00101000    ; 4-bit data, 2-line display, 5 x 7 font
                 .equ    lcd_SetCursor       = 0b10000000    ; set cursor position
                 
                 
                 ///////////////////////////////////////////////////////////////////////////////////////
                 
                 ///// ML: Main procedure for LCD Update
                 
                 ///////////////////////////////////////////////////////////////////////////////////////
                 MYLCD_UPDATE:
                 			
                 			//time of update
000515 b50c      			in	    r16, TCNT1L		    ;\
000516 b51d      		    in	    r17, TCNT1H		    ;/ r17:r16 = t
000517 9120 00a0 		    lds	    r18, TPREV_KBD_L	;\
000519 9130 00a1 		    lds	    r19, TPREV_KBD_H	;/ r19:r18 = t0
00051b 1b02      		    sub	    r16, r18			;\
00051c 0b13      		    sbc	    r17, r19			;/ r17:r16 = t - t0
00051d 560a      		    subi	r16, LOW(KBDSCAN)	;\
00051e 4118      		    sbci	r17, HIGH(KBDSCAN)	;/ r17:r16 = (t-t0) - 100ms
00051f f408      		    brsh	MLP_LCDUPDATE		    ;\
000520 c0e9      		    rjmp	MLP_SKIPLCDUPDATE		;/ skip scanning if (t-t0) < 100ms
                 MLP_LCDUPDATE:
                 			//status of switches
000521 e030      			ldi		r19, 0
000522 9120 0078 			lds		r18, PATCH_SWITCH1 //take the patch of switches	
                 			//swithc 0
000524 fb20      			bst		r18, 0 //bit 0 to T (which can be 0 or 1)
000525 f930      			bld     r19, 0  //bit 0 of T in r19
000526 e340      			ldi		r20,0x30
000527 0f34      			add		r19,r20 //r19 will be 0x30 or 0x31 (ascii "0" or "1")
000528 9330 0129 			sts     my_LCDstring1, r19 
00052a e030      			ldi		r19, 0
00052b 9330 012a 			sts     my_LCDstring1+1, r19
00052d e0f1      			ldi     ZH, high(my_LCDstring1)        ; point to the information that is to be displayed
00052e e2e9      			ldi     ZL, low(my_LCDstring1)
00052f e083      			ldi     temp_lcd, lcd_LineOne+3         ; point to where the information should be displayed
000530 940e 07eb 			call    lcd_write_string_4d
                 
                 			//swithc 1
000532 fb21      			bst		r18, 1 //bit 1 to T (which can be 0 or 1)
000533 f931      			bld     r19, 1  //bit 1 of T in r19
000534 9536      			lsr		r19 //right shift--->bit 1 is now bit 0
000535 e340      			ldi		r20,0x30 //ascii ofsset for numbers
000536 0f34      			add		r19,r20 //r19 will be 0x30 or 0x31 (ascii "0" or "1")
000537 9330 0129 			sts     my_LCDstring1, r19 
000539 e030      			ldi		r19, 0
00053a 9330 012a 			sts     my_LCDstring1+1, r19
00053c e0f1      			ldi     ZH, high(my_LCDstring1)        ; point to the information that is to be displayed
00053d e2e9      			ldi     ZL, low(my_LCDstring1)
00053e e088      			ldi     temp_lcd, lcd_LineOne+8         ; point to where the information should be displayed
00053f 940e 07eb 			call    lcd_write_string_4d
                 
                 			//swithc 2
000541 fb22      			bst		r18, 2 //bit 2 to T (which can be 0 or 1)
000542 f932      			bld     r19, 2  //bit 2 of T in r19
000543 9536      			lsr		r19
000544 9536      			lsr		r19 //twice right shift--->bit 2 is now bit 0
                 					//save the value of switch 3 in r24...it will be used to display the values of pot Wave/Sweep
000545 9330 013e 					sts		temp_in_RAM,r19
                 					//
000547 e340      			ldi		r20,0x30
000548 0f34      			add		r19,r20 //r19 will be 0x30 or 0x31 (ascii "0" or "1")
000549 9330 0129 			sts     my_LCDstring1, r19 
00054b e030      			ldi		r19, 0
00054c 9330 012a 			sts     my_LCDstring1+1, r19
00054e e0f1      			ldi     ZH, high(my_LCDstring1)        ; point to the information that is to be displayed
00054f e2e9      			ldi     ZL, low(my_LCDstring1)
000550 e08d      			ldi     temp_lcd, lcd_LineOne+13         ; point to where the information should be displayed
000551 940e 07eb 			call    lcd_write_string_4d
                 
                 			//swithc 3
000553 fb23      			bst		r18, 3 //bit 3 to T (which can be 0 or 1)
000554 f933      			bld     r19, 3  //bit 3 of T in r19
000555 9536      			lsr		r19
000556 9536      			lsr		r19
000557 9536      			lsr		r19 //three times right shift--->bit 3 is now bit 0
                 					
000558 e340      			ldi		r20,0x30
000559 0f34      			add		r19,r20 //r19 will be 0x30 or 0x31 (ascii "0" or "1")
00055a 9330 0129 			sts     my_LCDstring1, r19 
00055c e030      			ldi		r19, 0
00055d 9330 012a 			sts     my_LCDstring1+1, r19
00055f e0f1      			ldi     ZH, high(my_LCDstring1)        ; point to the information that is to be displayed
000560 e2e9      			ldi     ZL, low(my_LCDstring1)
000561 e182      			ldi     temp_lcd, lcd_LineOne+18         ; point to where the information should be displayed
000562 940e 07eb 			call    lcd_write_string_4d
                 
                 			
                 
                 			/////status of pots...in this case, since the pots have a value from 0 to 255, we must convert the value to ascii
                 			//LFO Freq
000564 9100 0170 			lds	r16,LFOFREQ //<<<<--value of 1st pot (0-255)
000566 dfa4      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
000567 2f82      			mov     temp_lcd, r18
000568 9380 00ea 			sts		my_LCDstring4,temp_lcd
00056a 2f81      			mov     temp_lcd, r17
00056b 9380 00eb 			sts		my_LCDstring4+1,temp_lcd
00056d 2f80      			mov     temp_lcd, r16
00056e 9380 00ec 			sts		my_LCDstring4+2,temp_lcd
000570 e080      			ldi		temp_lcd,0x0
000571 9380 00ed 			sts		my_LCDstring4+3,temp_lcd
                 
000573 e0f0      			ldi     ZH, high(my_LCDstring4)        ; point to the information that is to be displayed
000574 eeea      			ldi     ZL, low(my_LCDstring4)
000575 e588      			ldi     temp_lcd, lcd_LineFour+4         ; point to where the information should be displayed
000576 940e 07eb 			call    lcd_write_string_4d
                 			
                 
                 			//LFO level
000578 9100 0069 			lds	r16,LFOLEVEL//<<<<--value of 1st pot (0-255)
00057a df90      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
00057b 2f82      			mov     temp_lcd, r18
00057c 9380 00ea 			sts		my_LCDstring4,temp_lcd
00057e 2f81      			mov     temp_lcd, r17
00057f 9380 00eb 			sts		my_LCDstring4+1,temp_lcd
000581 2f80      			mov     temp_lcd, r16
000582 9380 00ec 			sts		my_LCDstring4+2,temp_lcd
000584 e080      			ldi		temp_lcd,0x0
000585 9380 00ed 			sts		my_LCDstring4+3,temp_lcd
                 
000587 e0f0      			ldi     ZH, high(my_LCDstring4)        ; point to the information that is to be displayed
000588 eeea      			ldi     ZL, low(my_LCDstring4)
000589 e680      			ldi     temp_lcd, lcd_LineFour+12         ; point to where the information should be displayed
00058a 940e 07eb 			call    lcd_write_string_4d
                 			
                 
                 			//Attack
00058c 9100 0175 			lds	r16,KNOB_AMP_ATTACK//<<<<--value of 1st pot (0-255)
00058e df7c      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
00058f 2f82      			mov     temp_lcd, r18
000590 9380 0114 			sts		my_LCDstring2,temp_lcd
000592 2f81      			mov     temp_lcd, r17
000593 9380 0115 			sts		my_LCDstring2+1,temp_lcd
000595 2f80      			mov     temp_lcd, r16
000596 9380 0116 			sts		my_LCDstring2+2,temp_lcd
000598 e080      			ldi		temp_lcd,0x0
000599 9380 0117 			sts		my_LCDstring2+3,temp_lcd
                 
00059b e0f1      			ldi     ZH, high(my_LCDstring2)        ; point to the information that is to be displayed
00059c e1e4      			ldi     ZL, low(my_LCDstring2)
00059d e483      			ldi     temp_lcd, lcd_LineTwo+3         ; point to where the information should be displayed
00059e 940e 07eb 			call    lcd_write_string_4d
                 
                 			//Decay
0005a0 9100 0174 			lds	r16,KNOB_AMP_DECAY//<<<<--value of 1st pot (0-255)
0005a2 df68      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
0005a3 2f82      			mov     temp_lcd, r18
0005a4 9380 0114 			sts		my_LCDstring2,temp_lcd
0005a6 2f81      			mov     temp_lcd, r17
0005a7 9380 0115 			sts		my_LCDstring2+1,temp_lcd
0005a9 2f80      			mov     temp_lcd, r16
0005aa 9380 0116 			sts		my_LCDstring2+2,temp_lcd
0005ac e080      			ldi		temp_lcd,0x0
0005ad 9380 0117 			sts		my_LCDstring2+3,temp_lcd
                 
0005af e0f1      			ldi     ZH, high(my_LCDstring2)        ; point to the information that is to be displayed
0005b0 e1e4      			ldi     ZL, low(my_LCDstring2)
0005b1 e48a      			ldi     temp_lcd, lcd_LineTwo+10        ; point to where the information should be displayed
0005b2 940e 07eb 			call    lcd_write_string_4d
                 
                 			//Cutoff
0005b4 9100 0173 			lds	r16,CUTOFF//<<<<--value of 1st pot (0-255)
0005b6 df54      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
0005b7 2f82      			mov     temp_lcd, r18
0005b8 9380 0114 			sts		my_LCDstring2,temp_lcd
0005ba 2f81      			mov     temp_lcd, r17
0005bb 9380 0115 			sts		my_LCDstring2+1,temp_lcd
0005bd 2f80      			mov     temp_lcd, r16
0005be 9380 0116 			sts		my_LCDstring2+2,temp_lcd
0005c0 e080      			ldi		temp_lcd,0x0
0005c1 9380 0117 			sts		my_LCDstring2+3,temp_lcd
                 
0005c3 e0f1      			ldi     ZH, high(my_LCDstring2)        ; point to the information that is to be displayed
0005c4 e1e4      			ldi     ZL, low(my_LCDstring2)
0005c5 e581      			ldi     temp_lcd, lcd_LineTwo+17        ; point to where the information should be displayed
0005c6 940e 07eb 			call    lcd_write_string_4d
                 
                 			//Wavetable or Width
0005c8 9100 013e 			lds		r16,temp_in_RAM
0005ca 3001      			cpi		r16,1
0005cb f0b1      			breq	DISPLAY_SWEEP_VAL		
                 DISPLAY_WAVETABLE_VAL:
0005cc 9100 00d6 			lds	r16,WAVETABLE//<<<<--value of 1st pot (0-255)			
0005ce df3c      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
0005cf 2f82      			mov     temp_lcd, r18
0005d0 9380 00ff 			sts		my_LCDstring3,temp_lcd
0005d2 2f81      			mov     temp_lcd, r17
0005d3 9380 0100 			sts		my_LCDstring3+1,temp_lcd
0005d5 2f80      			mov     temp_lcd, r16
0005d6 9380 0101 			sts		my_LCDstring3+2,temp_lcd
0005d8 e080      			ldi		temp_lcd,0x0
0005d9 9380 0102 			sts		my_LCDstring3+3,temp_lcd
                 
0005db e0f0      			ldi     ZH, high(my_LCDstring3)        ; point to the information that is to be displayed
0005dc efef      			ldi     ZL, low(my_LCDstring3)
0005dd e187      			ldi     temp_lcd, lcd_LineThree+3      ; point to where the information should be displayed
0005de 940e 07eb 			call    lcd_write_string_4d
0005e0 940c 05f6 			jmp     DISPLAY_DETUNE
                 
                 DISPLAY_SWEEP_VAL:
0005e2 9100 00d8 			lds	r16,PULSE_KNOB_LIMITED//<<<<--value of 1st pot (0-255)			
0005e4 df26      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
0005e5 2f82      			mov     temp_lcd, r18
0005e6 9380 00ff 			sts		my_LCDstring3,temp_lcd
0005e8 2f81      			mov     temp_lcd, r17
0005e9 9380 0100 			sts		my_LCDstring3+1,temp_lcd
0005eb 2f80      			mov     temp_lcd, r16
0005ec 9380 0101 			sts		my_LCDstring3+2,temp_lcd
0005ee e080      			ldi		temp_lcd,0x0
0005ef 9380 0102 			sts		my_LCDstring3+3,temp_lcd
                 
0005f1 e0f0      			ldi     ZH, high(my_LCDstring3)        ; point to the information that is to be displayed
0005f2 efef      			ldi     ZL, low(my_LCDstring3)
0005f3 e187      			ldi     temp_lcd, lcd_LineThree+3      ; point to where the information should be displayed
0005f4 940e 07eb 			call    lcd_write_string_4d
                 
                 DISPLAY_DETUNE:
0005f6 9100 0171 			lds	r16,OSC_DETUNE//<<<<--value of 1st pot (0-255)			
0005f8 df12      			rcall HEX_2_ASCII //this function report the values in r18=hundreds, r17=decimal, r16=units
0005f9 2f82      			mov     temp_lcd, r18
0005fa 9380 00ff 			sts		my_LCDstring3,temp_lcd
0005fc 2f81      			mov     temp_lcd, r17
0005fd 9380 0100 			sts		my_LCDstring3+1,temp_lcd
0005ff 2f80      			mov     temp_lcd, r16
000600 9380 0101 			sts		my_LCDstring3+2,temp_lcd
000602 e080      			ldi		temp_lcd,0x0
000603 9380 0102 			sts		my_LCDstring3+3,temp_lcd
                 
000605 e0f0      			ldi     ZH, high(my_LCDstring3)        ; point to the information that is to be displayed
000606 efef      			ldi     ZL, low(my_LCDstring3)
000607 e18e      			ldi     temp_lcd, lcd_LineThree+10      ; point to where the information should be displayed
000608 940e 07eb 			call    lcd_write_string_4d
                 
                 
                 MLP_SKIPLCDUPDATE:
                 
00060a 9508      			ret
                 
                 /////////////////////////////////////////////////////////////////////////////////////////
                 // ML: Procedure to prepare GUI
                 /////////////////////////////////////////////////////////////////////////////////////////
                 MYLCD_PREPARE_GUI:
                 
                 		//first row (====>>> Su:x Oc:x WS:x Lf:x)
00060b e583      		ldi temp_lcd,0x53
00060c 9380 0129 		sts my_LCDstring1, temp_lcd
00060e e785      		ldi temp_lcd,0x75
00060f 9380 012a 		sts my_LCDstring1+1, temp_lcd
000611 e38a      		ldi temp_lcd,0x3A
000612 9380 012b 		sts my_LCDstring1+2, temp_lcd
000614 e280      		ldi temp_lcd,0x20
000615 9380 012c 		sts my_LCDstring1+3, temp_lcd
000617 e280      		ldi temp_lcd,0x20
000618 9380 012d 		sts my_LCDstring1+4, temp_lcd
                 
00061a e48f      		ldi temp_lcd,0x4F
00061b 9380 012e 		sts my_LCDstring1+5, temp_lcd
00061d e683      		ldi temp_lcd,0x63
00061e 9380 012f 		sts my_LCDstring1+6, temp_lcd
000620 e38a      		ldi temp_lcd,0x3A
000621 9380 0130 		sts my_LCDstring1+7, temp_lcd
000623 e280      		ldi temp_lcd,0x20
000624 9380 0131 		sts my_LCDstring1+8, temp_lcd
000626 e280      		ldi temp_lcd,0x20
000627 9380 0132 		sts my_LCDstring1+9, temp_lcd
                 
000629 e587      		ldi temp_lcd,0x57
00062a 9380 0133 		sts my_LCDstring1+10, temp_lcd
00062c e583      		ldi temp_lcd,0x53
00062d 9380 0134 		sts my_LCDstring1+11, temp_lcd
00062f e38a      		ldi temp_lcd,0x3A
000630 9380 0135 		sts my_LCDstring1+12, temp_lcd
000632 e280      		ldi temp_lcd,0x20
000633 9380 0136 		sts my_LCDstring1+13, temp_lcd
000635 e280      		ldi temp_lcd,0x20
000636 9380 0137 		sts my_LCDstring1+14, temp_lcd
                 
000638 e48c      		ldi temp_lcd,0x4C
000639 9380 0138 		sts my_LCDstring1+15, temp_lcd
00063b e686      		ldi temp_lcd,0x66
00063c 9380 0139 		sts my_LCDstring1+16, temp_lcd
00063e e38a      		ldi temp_lcd,0x3A
00063f 9380 013a 		sts my_LCDstring1+17, temp_lcd
000641 e280      		ldi temp_lcd,0x20
000642 9380 013b 		sts my_LCDstring1+18, temp_lcd
                 		
000644 e080      		ldi temp_lcd,0x0
000645 9380 013c 		sts my_LCDstring1+19, temp_lcd
                 
                 		//display the first line of information
000647 e0f1      		ldi     ZH, high(my_LCDstring1)        ; point to the information that is to be displayed
000648 e2e9      		ldi     ZL, low(my_LCDstring1)
000649 e080      		ldi     temp_lcd, lcd_LineOne          ; point to where the information should be displayed
00064a 940e 07eb 		call    lcd_write_string_4d
                 
                 		
                 
                 		
                 		//Second row (====>>> At:xxx Dc:xxx Ct:xxx)
00064c e481      		ldi temp_lcd,0x41
00064d 9380 0114 		sts my_LCDstring2, temp_lcd
00064f e784      		ldi temp_lcd,0x74
000650 9380 0115 		sts my_LCDstring2+1, temp_lcd
000652 e38a      		ldi temp_lcd,0x3A
000653 9380 0116 		sts my_LCDstring2+2, temp_lcd
000655 e280      		ldi temp_lcd,0x20
000656 9380 0117 		sts my_LCDstring2+3, temp_lcd
000658 e280      		ldi temp_lcd,0x20
000659 9380 0118 		sts my_LCDstring2+4, temp_lcd
00065b e280      		ldi temp_lcd,0x20
00065c 9380 0119 		sts my_LCDstring2+5, temp_lcd
00065e e280      		ldi temp_lcd,0x20
00065f 9380 011a 		sts my_LCDstring2+6, temp_lcd
                 
000661 e484      		ldi temp_lcd,0x44
000662 9380 011b 		sts my_LCDstring2+7, temp_lcd
000664 e683      		ldi temp_lcd,0x63
000665 9380 011c 		sts my_LCDstring2+8, temp_lcd
000667 e38a      		ldi temp_lcd,0x3A
000668 9380 011d 		sts my_LCDstring2+9, temp_lcd
00066a e280      		ldi temp_lcd,0x20
00066b 9380 011e 		sts my_LCDstring2+10, temp_lcd
00066d e280      		ldi temp_lcd,0x20
00066e 9380 011f 		sts my_LCDstring2+11, temp_lcd
000670 e280      		ldi temp_lcd,0x20
000671 9380 0120 		sts my_LCDstring2+12, temp_lcd
000673 e280      		ldi temp_lcd,0x20
000674 9380 0121 		sts my_LCDstring2+13, temp_lcd
                 
000676 e483      		ldi temp_lcd,0x43
000677 9380 0122 		sts my_LCDstring2+14, temp_lcd
000679 e784      		ldi temp_lcd,0x74
00067a 9380 0123 		sts my_LCDstring2+15, temp_lcd
00067c e38a      		ldi temp_lcd,0x3A
00067d 9380 0124 		sts my_LCDstring2+16, temp_lcd
00067f e280      		ldi temp_lcd,0x20
000680 9380 0125 		sts my_LCDstring2+17, temp_lcd
000682 e280      		ldi temp_lcd,0x20
000683 9380 0126 		sts my_LCDstring2+18, temp_lcd
000685 e280      		ldi temp_lcd,0x20
000686 9380 0127 		sts my_LCDstring2+19, temp_lcd
                 
000688 e080      		ldi temp_lcd,0x0
000689 9380 0128 		sts my_LCDstring2+20, temp_lcd
                 
                 		//display the second line of information
00068b e0f1      		ldi     ZH, high(my_LCDstring2)        ; point to the information that is to be displayed
00068c e1e4      		ldi     ZL, low(my_LCDstring2)
00068d e480      		ldi     temp_lcd, lcd_LineTwo          ; point to where the information should be displayed
00068e 940e 07eb 		call    lcd_write_string_4d
                 
                 
                 
                 
                 		//Third row (====>>> Wv:xxx Dt:xxx) //Rz is not displayed since it is not managed by cpu (it is a simple resonance resistor)
                 		/* Rez:xxx
                 		ldi temp_lcd,0x52
                 		sts my_LCDstring3, temp_lcd
                 		ldi temp_lcd,0x7A
                 		sts my_LCDstring3+1, temp_lcd
                 		ldi temp_lcd,0x3A
                 		sts my_LCDstring3+2, temp_lcd
                 		ldi temp_lcd,0x20
                 		sts my_LCDstring3+3, temp_lcd
                 		ldi temp_lcd,0x20
                 		sts my_LCDstring3+4, temp_lcd
                 		ldi temp_lcd,0x20
                 		sts my_LCDstring3+5, temp_lcd
                 		ldi temp_lcd,0x20
                 		sts my_LCDstring3+6, temp_lcd
                 		*/
                 
000690 e587      		ldi temp_lcd,0x57
000691 9380 00ff 		sts my_LCDstring3, temp_lcd
000693 e786      		ldi temp_lcd,0x76
000694 9380 0100 		sts my_LCDstring3+1, temp_lcd
000696 e38a      		ldi temp_lcd,0x3A
000697 9380 0101 		sts my_LCDstring3+2, temp_lcd
000699 e280      		ldi temp_lcd,0x20
00069a 9380 0102 		sts my_LCDstring3+3, temp_lcd
00069c e280      		ldi temp_lcd,0x20
00069d 9380 0103 		sts my_LCDstring3+4, temp_lcd
00069f e280      		ldi temp_lcd,0x20
0006a0 9380 0104 		sts my_LCDstring3+5, temp_lcd
0006a2 e280      		ldi temp_lcd,0x20
0006a3 9380 0105 		sts my_LCDstring3+6, temp_lcd
                 
0006a5 e484      		ldi temp_lcd,0x44
0006a6 9380 0106 		sts my_LCDstring3+7, temp_lcd
0006a8 e784      		ldi temp_lcd,0x74
0006a9 9380 0107 		sts my_LCDstring3+8, temp_lcd
0006ab e38a      		ldi temp_lcd,0x3A
0006ac 9380 0108 		sts my_LCDstring3+9, temp_lcd
0006ae e280      		ldi temp_lcd,0x20
0006af 9380 0109 		sts my_LCDstring3+10, temp_lcd
0006b1 e280      		ldi temp_lcd,0x20
0006b2 9380 016e 		sts my_LCDstring3+111, temp_lcd
0006b4 e280      		ldi temp_lcd,0x20
0006b5 9380 010b 		sts my_LCDstring3+12, temp_lcd
                 
0006b7 e080      		ldi temp_lcd,0x0
0006b8 9380 010c 		sts my_LCDstring3+13, temp_lcd
                 
                 		//display the third line of information
0006ba e0f0      		ldi     ZH, high(my_LCDstring3)        ; point to the information that is to be displayed
0006bb efef      		ldi     ZL, low(my_LCDstring3)
0006bc e184      		ldi     temp_lcd, lcd_LineThree          ; point to where the information should be displayed
0006bd 940e 07eb 		call    lcd_write_string_4d
                 
                 
                 
                 		//Fourth row (====>>> LRt:xxx LDp:xxx)
0006bf e48c      		ldi temp_lcd,0x4C
0006c0 9380 00ea 		sts my_LCDstring4, temp_lcd
0006c2 e582      		ldi temp_lcd,0x52
0006c3 9380 00eb 		sts my_LCDstring4+1, temp_lcd
0006c5 e784      		ldi temp_lcd,0x74
0006c6 9380 00ec 		sts my_LCDstring4+2, temp_lcd
0006c8 e38a      		ldi temp_lcd,0x3A
0006c9 9380 00ed 		sts my_LCDstring4+3, temp_lcd
0006cb e280      		ldi temp_lcd,0x20
0006cc 9380 00ee 		sts my_LCDstring4+4, temp_lcd
0006ce e280      		ldi temp_lcd,0x20
0006cf 9380 00ef 		sts my_LCDstring4+5, temp_lcd
0006d1 e280      		ldi temp_lcd,0x20
0006d2 9380 00f0 		sts my_LCDstring4+6, temp_lcd
0006d4 e280      		ldi temp_lcd,0x20
0006d5 9380 00f1 		sts my_LCDstring4+7, temp_lcd
                 
0006d7 e48c      		ldi temp_lcd,0x4C
0006d8 9380 00f2 		sts my_LCDstring4+8, temp_lcd
0006da e484      		ldi temp_lcd,0x44
0006db 9380 00f3 		sts my_LCDstring4+9, temp_lcd
0006dd e780      		ldi temp_lcd,0x70
0006de 9380 00f4 		sts my_LCDstring4+10, temp_lcd
0006e0 e38a      		ldi temp_lcd,0x3A
0006e1 9380 00f5 		sts my_LCDstring4+11, temp_lcd
0006e3 e280      		ldi temp_lcd,0x20
0006e4 9380 00f6 		sts my_LCDstring4+12, temp_lcd
0006e6 e280      		ldi temp_lcd,0x20
0006e7 9380 00f7 		sts my_LCDstring4+13, temp_lcd
0006e9 e280      		ldi temp_lcd,0x20
0006ea 9380 00f8 		sts my_LCDstring4+14, temp_lcd
                 
0006ec e080      		ldi temp_lcd,0x0
0006ed 9380 00f9 		sts my_LCDstring4+15, temp_lcd
                 
                 		//display the fourth line of information
0006ef e0f0      		ldi     ZH, high(my_LCDstring4)        ; point to the information that is to be displayed
0006f0 eeea      		ldi     ZL, low(my_LCDstring4)
0006f1 e584      		ldi     temp_lcd, lcd_LineFour          ; point to where the information should be displayed
0006f2 940e 07eb 		call    lcd_write_string_4d
                 
0006f4 9508      		ret
                 
                 /////////////////////////////////////////////////////////////////////////////////////////
                 /////////////////////////////////////////////////////////////////////////////////////////
                 /////////////////////////////////////////////////////////////////////////////////////////
                 
                 MYLCD_CLEAR:
                 ; Clear Display instruction
0006f5 e081          ldi     temp_lcd, lcd_Clear                 ; clear display RAM
0006f6 940e 0807     call    lcd_write_instruction_4d
0006f8 e084          ldi     temp_lcd, 4                         ; 1.64 mS delay (min)
0006f9 940e 0827     call    delayTx1mS
0006fb 9508      	ret
                 
                 
                 LCD_START:
                 	program_author:
0006fc 2e4d
0006fd 614c
0006fe 7473
0006ff 6972
000700 472d
000701 7261
000702 6572
000703 6c74
000704 6261
000705 2073
000706 0000
000707 0000      	.db         "M.Lastri-Garretlabs ",0,0,0,0
                 
                 	program_version:
000708 654d
000709 4265
00070a 696c
00070b 2070
00070c 6e41
00070d 646f
00070e 0065      	.db         "MeeBlip Anode",0
                 
                 	program_version2:
00070f 4928
000710 6174
000711 696c
000712 6e61
000713 5320
000714 7974
000715 656c
000716 7620
000717 2931
000718 0000      	.db         "(Italian Style v1)",0,0
                 
                 	program_date:
000719 3531
00071a 4120
00071b 7270
00071c 6c69
00071d 3220
00071e 3130
00071f 0036      	.db			"15 April 2016",0
                 
                 	; configure the microprocessor pins for the data lines
000720 9abb          sbi     lcd_D7_ddr, lcd_D7_bit          ; 4 data lines - output
000721 9aba          sbi     lcd_D6_ddr, lcd_D6_bit
000722 9ab9          sbi     lcd_D5_ddr, lcd_D5_bit
000723 9ab8          sbi     lcd_D4_ddr, lcd_D4_bit
                 
                 ; configure the microprocessor pins for the control lines
000724 9a8e          sbi     lcd_E_ddr,  lcd_E_bit           ; E line - output
000725 9a8d          sbi     lcd_RS_ddr, lcd_RS_bit          ; RS line - output
                 
                 ; initialize the LCD controller as determined by the equates (LCD instructions)
000726 940e 07af     call    lcd_init_4d                     ; initialize the LCD display for a 4-bit interface
                 
                 ///ML: I want to read strings from RAM
                 //We initialize them... whith the infos: "Meeblip Anode Italian Way/ Marco Lastri 2016 /version etc. etc."
                 
                 //first row 
000728 e48d      ldi temp_lcd,0x4d
000729 9380 0129 sts my_LCDstring1, temp_lcd
00072b e28e      ldi temp_lcd,0x2e
00072c 9380 012a sts my_LCDstring1+1, temp_lcd
00072e e48c      ldi temp_lcd,0x4c
00072f 9380 012b sts my_LCDstring1+2, temp_lcd
000731 e681      ldi temp_lcd,0x61
000732 9380 012c sts my_LCDstring1+3, temp_lcd
000734 e783      ldi temp_lcd,0x73
000735 9380 012d sts my_LCDstring1+4, temp_lcd
000737 e784      ldi temp_lcd,0x74
000738 9380 012e sts my_LCDstring1+5, temp_lcd
00073a e782      ldi temp_lcd,0x72
00073b 9380 012f sts my_LCDstring1+6, temp_lcd
00073d e689      ldi temp_lcd,0x69
00073e 9380 0130 sts my_LCDstring1+7, temp_lcd
000740 e080      ldi temp_lcd,0x0
000741 9380 0131 sts my_LCDstring1+8, temp_lcd
                 
                 
                 //second row
000743 e487      ldi temp_lcd,0x47
000744 9380 0114 sts my_LCDstring2, temp_lcd
000746 e681      ldi temp_lcd,0x61
000747 9380 0115 sts my_LCDstring2+1, temp_lcd
000749 e782      ldi temp_lcd,0x72
00074a 9380 0116 sts my_LCDstring2+2, temp_lcd
00074c e782      ldi temp_lcd,0x72
00074d 9380 0117 sts my_LCDstring2+3, temp_lcd
00074f e685      ldi temp_lcd,0x65
000750 9380 0118 sts my_LCDstring2+4, temp_lcd
000752 e784      ldi temp_lcd,0x74
000753 9380 0119 sts my_LCDstring2+5, temp_lcd
000755 e68c      ldi temp_lcd,0x6c
000756 9380 011a sts my_LCDstring2+6, temp_lcd
000758 e681      ldi temp_lcd,0x61
000759 9380 011b sts my_LCDstring2+7, temp_lcd
00075b e682      ldi temp_lcd,0x62
00075c 9380 011c sts my_LCDstring2+8, temp_lcd
00075e e783      ldi temp_lcd,0x73
00075f 9380 011d sts my_LCDstring2+9, temp_lcd
000761 e080      ldi temp_lcd,0x0
000762 9380 011e sts my_LCDstring2+10, temp_lcd
                 
                 //third row
000764 e48d      ldi temp_lcd,0x4d
000765 9380 00ff sts my_LCDstring3, temp_lcd
000767 e685      ldi temp_lcd,0x65
000768 9380 0100 sts my_LCDstring3+1, temp_lcd
00076a e685      ldi temp_lcd,0x65
00076b 9380 0101 sts my_LCDstring3+2, temp_lcd
00076d e682      ldi temp_lcd,0x62
00076e 9380 0102 sts my_LCDstring3+3, temp_lcd
000770 e68c      ldi temp_lcd,0x6c
000771 9380 0103 sts my_LCDstring3+4, temp_lcd
000773 e689      ldi temp_lcd,0x69
000774 9380 0104 sts my_LCDstring3+5, temp_lcd
000776 e780      ldi temp_lcd,0x70
000777 9380 0105 sts my_LCDstring3+6, temp_lcd
000779 e280      ldi temp_lcd,0x20
00077a 9380 0106 sts my_LCDstring3+7, temp_lcd
00077c e481      ldi temp_lcd,0x41
00077d 9380 0107 sts my_LCDstring3+8, temp_lcd
00077f e68e      ldi temp_lcd,0x6e
000780 9380 0108 sts my_LCDstring3+9, temp_lcd
000782 e68f      ldi temp_lcd,0x6f
000783 9380 0109 sts my_LCDstring3+10, temp_lcd
000785 e684      ldi temp_lcd,0x64
000786 9380 010a sts my_LCDstring3+11, temp_lcd
000788 e685      ldi temp_lcd,0x65
000789 9380 010b sts my_LCDstring3+12, temp_lcd
00078b e080      ldi temp_lcd,0x0
00078c 9380 010c sts my_LCDstring3+13, temp_lcd
                 
                 //fourth row //----->SW Version
00078e e382      ldi temp_lcd,0x32
00078f 9380 00ea sts my_LCDstring4, temp_lcd
000791 e389      ldi temp_lcd,0x39
000792 9380 00eb sts my_LCDstring4+1, temp_lcd
000794 e080      ldi temp_lcd,0x0
000795 9380 00ec sts my_LCDstring4+2, temp_lcd
000797 e080      ldi temp_lcd,0x0
000798 9380 00ed sts my_LCDstring4+3, temp_lcd
                 
                 
                 
                 ; display the first line of information
00079a e0f1          ldi     ZH, high(my_LCDstring1)        ; point to the information that is to be displayed
00079b e2e9          ldi     ZL, low(my_LCDstring1)
00079c e080          ldi     temp_lcd, lcd_LineOne               ; point to where the information should be displayed
00079d 940e 07eb     call    lcd_write_string_4d
                 
                 ; display the second line of information
00079f e0f1          ldi     ZH, high(my_LCDstring2)       ; point to the information that is to be displayed
0007a0 e1e4          ldi     ZL, low(my_LCDstring2)
0007a1 e480          ldi     temp_lcd, lcd_LineTwo               ; point to where the information should be displayed
0007a2 940e 07eb     call    lcd_write_string_4d
                 
                 ; display the third line of information
0007a4 e0f0          ldi     ZH, high(my_LCDstring3)       ; point to the information that is to be displayed
0007a5 efef          ldi     ZL, low(my_LCDstring3)
0007a6 e184          ldi     temp_lcd, lcd_LineThree               ; point to where the information should be displayed
0007a7 940e 07eb     call    lcd_write_string_4d
                 
                 ////ML posizionamento di due cifre nella quarta riga, alla colonna 8
0007a9 e0f0      	ldi     ZH, high(my_LCDstring4)       ; point to the information that is to be displayed
0007aa eeea          ldi     ZL, low(my_LCDstring4)
0007ab e58c          ldi     temp_lcd,lcd_LineFour+8             ; point to where the information should be displayed
0007ac 940e 07eb     call    lcd_write_string_4d
                 	
0007ae 9508      	ret
                 
                  ; ============================== 4-bit LCD Subroutines ======================
                 ; Name:     lcd_init_4d
                 ; Purpose:  initialize the LCD module for a 4-bit data interface
                 ; Entry:    equates (LCD instructions) set up for the desired operation
                 ; Exit:     no parameters
                 ; Notes:    uses time delays instead of checking the busy flag
                 
                 lcd_init_4d:
                 ; Power-up delay
0007af e684          ldi     temp_lcd, 100                       ; initial 40 mSec delay
0007b0 940e 0827     call    delayTx1mS
                 
                 ; IMPORTANT - At this point the LCD module is in the 8-bit mode and it is expecting to receive  
                 ;    8 bits of data, one bit on each of its 8 data lines, each time the 'E' line is pulsed.
                 ;
                 ;  Since the LCD module is wired for the 4-bit mode, only the upper four data lines are connected to 
                 ;    the microprocessor and the lower four data lines are typically left open.  Therefore, when 
                 ;    the 'E' line is pulsed, the LCD controller will read whatever data has been set up on the upper 
                 ;    four data lines and the lower four data lines will be high (due to internal pull-up circuitry).
                 ;
                 ;  Fortunately the 'FunctionReset' instruction does not care about what is on the lower four bits so  
                 ;    this instruction can be sent on just the four available data lines and it will be interpreted 
                 ;    properly by the LCD controller.  The 'lcd_write_4' subroutine will accomplish this if the 
                 ;    control lines have previously been configured properly.
                 
                 ; Set up the RS and E lines for the 'lcd_write_4' subroutine.
0007b2 9895          cbi     lcd_RS_port, lcd_RS_bit         ; select the Instruction Register (RS low)
0007b3 9896          cbi     lcd_E_port, lcd_E_bit           ; make sure E is initially low
                 
                 ; Reset the LCD controller.
0007b4 e380          ldi     temp_lcd, lcd_FunctionReset         ; first part of reset sequence
0007b5 940e 080f     call    lcd_write_4
0007b7 e08a          ldi     temp_lcd, 10                        ; 4.1 mS delay (min)
0007b8 940e 0827     call    delayTx1mS
                 
0007ba e380          ldi     temp_lcd, lcd_FunctionReset         ; second part of reset sequence
0007bb 940e 080f     call    lcd_write_4
0007bd ec88          ldi     temp_lcd, 200                       ; 100 uS delay (min)
0007be 940e 0835     call    delayTx1uS
                 
0007c0 e380          ldi     temp_lcd, lcd_FunctionReset         ; third part of reset sequence
0007c1 940e 080f     call    lcd_write_4
0007c3 ec88          ldi     temp_lcd, 200                       ; this delay is omitted in the data sheet
0007c4 940e 0835     call    delayTx1uS
                 
                 ; Preliminary Function Set instruction - used only to set the 4-bit mode.
                 ; The number of lines or the font cannot be set at this time since the controller is still in the 
                 ;   8-bit mode, but the data transfer mode can be changed since this parameter is determined by one 
                 ;   of the upper four bits of the instruction.
0007c6 e288          ldi     temp_lcd, lcd_FunctionSet4bit       ; set 4-bit mode
0007c7 940e 080f     call    lcd_write_4
0007c9 e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007ca 940e 0835     call    delayTx1uS
                 
                 ; Function Set instruction
0007cc e288          ldi     temp_lcd, lcd_FunctionSet4bit       ; set mode, lines, and font
0007cd 940e 0807     call    lcd_write_instruction_4d
0007cf e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007d0 940e 0835     call    delayTx1uS
                 
                 ; The next three instructions are specified in the data sheet as part of the initialization routine,
                 ;   so it is a good idea (but probably not necessary) to do them just as specified and then redo them
                 ;   later if the application requires a different configuration.
                 
                 ; Display On/Off Control instruction
0007d2 e088          ldi     temp_lcd, lcd_DisplayOff            ; turn display OFF
0007d3 940e 0807     call    lcd_write_instruction_4d
0007d5 e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007d6 940e 0835     call    delayTx1uS
                 
                 ; Clear Display instruction
0007d8 e081          ldi     temp_lcd, lcd_Clear                 ; clear display RAM
0007d9 940e 0807     call    lcd_write_instruction_4d
0007db e084          ldi     temp_lcd, 4                         ; 1.64 mS delay (min)
0007dc 940e 0827     call    delayTx1mS
                 
                 ; Entry Mode Set instruction
0007de e086          ldi     temp_lcd, lcd_EntryMode             ; set desired shift characteristics
0007df 940e 0807     call    lcd_write_instruction_4d
0007e1 e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007e2 940e 0835     call    delayTx1uS
                 
                 ; This is the end of the LCD controller initialization as specified in the data sheet, but the display
                 ;   has been left in the OFF condition.  This is a good time to turn the display back ON.
                 
                 ; Display On/Off Control instruction
0007e4 e08c          ldi     temp_lcd, lcd_DisplayOn             ; turn the display ON
0007e5 940e 0807     call    lcd_write_instruction_4d
0007e7 e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007e8 940e 0835     call    delayTx1uS
0007ea 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     lcd_write_string_4d
                 ; Purpose:  display a string of characters on the LCD
                 ; Entry:    ZH and ZL pointing to the start of the string
                 ;           (temp_lcd) contains the desired DDRAM address at which to start the display
                 ; Exit:     no parameters
                 ; Notes:    the string must end with a null (0)
                 ;           uses time delays instead of checking the busy flag
                 
                 lcd_write_string_4d:
                 ; preserve registers
0007eb 93ff          push    ZH                              ; preserve pointer registers
0007ec 93ef          push    ZL
                 
                 //ML: rimuovo visto che prendo dati dalla RAM
                 ; fix up the pointers for use with the 'lpm' instruction
                     ;lsl     ZL                              ; shift the pointer one bit left for the lpm instruction
                     ;rol     ZH
                 
                 ; set up the initial DDRAM address
0007ed 6880          ori     temp_lcd, lcd_SetCursor             ; convert the plain address to a set cursor instruction
0007ee 940e 0807     call   lcd_write_instruction_4d         ; set up the first DDRAM address
0007f0 e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007f1 940e 0835     call    delayTx1uS
                 
                 ; write the string of characters
                 lcd_write_string_4d_01:
                     ;lpm     temp_lcd, Z+                        ; ///ML: I remove this since i Read from RAM the data
0007f3 9181      	ld    temp_lcd, Z+							; ////ML ----> so get a character from RAM
0007f4 3080          cpi     temp_lcd,  0                        ; check for end of string
0007f5 f031          breq    lcd_write_string_4d_02          ; done
                 
                 ; arrive here if this is a valid character
0007f6 940e 07ff     call    lcd_write_character_4d          ; display the character
0007f8 e580          ldi     temp_lcd, 80                        ; 40 uS delay (min)
0007f9 940e 0835     call    delayTx1uS
0007fb cff7          rjmp    lcd_write_string_4d_01          ; not done, send another character
                 
                 ; arrive here when all characters in the message have been sent to the LCD module
                 lcd_write_string_4d_02:
0007fc 91ef          pop     ZL                              ; restore pointer registers
0007fd 91ff          pop     ZH
0007fe 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     lcd_write_character_4d
                 ; Purpose:  send a byte of information to the LCD data register
                 ; Entry:    (temp_lcd) contains the data byte
                 ; Exit:     no parameters
                 ; Notes:    does not deal with RW (busy flag is not implemented)
                 
                 lcd_write_character_4d:
0007ff 9a95          sbi     lcd_RS_port, lcd_RS_bit         ; select the Data Register (RS high)
000800 9896          cbi     lcd_E_port, lcd_E_bit           ; make sure E is initially low
000801 940e 080f     call    lcd_write_4                     ; write the upper 4-bits of the data
000803 9582          swap    temp_lcd                            ; swap high and low nibbles
000804 940e 080f     call    lcd_write_4                     ; write the lower 4-bits of the data
000806 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     lcd_write_instruction_4d
                 ; Purpose:  send a byte of information to the LCD instruction register
                 ; Entry:    (temp_lcd) contains the data byte
                 ; Exit:     no parameters
                 ; Notes:    does not deal with RW (busy flag is not implemented)
                 
                 lcd_write_instruction_4d:
000807 9895          cbi     lcd_RS_port, lcd_RS_bit         ; select the Instruction Register (RS low)
000808 9896          cbi     lcd_E_port, lcd_E_bit           ; make sure E is initially low
000809 940e 080f     call    lcd_write_4                     ; write the upper 4-bits of the instruction
00080b 9582          swap    temp_lcd                            ; swap high and low nibbles
00080c 940e 080f     call    lcd_write_4                     ; write the lower 4-bits of the instruction
00080e 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     lcd_write_4
                 ; Purpose:  send a nibble (4-bits) of information to the LCD module
                 ; Entry:    (temp_lcd) contains a byte of data with the desired 4-bits in the upper nibble
                 ;           (RS) is configured for the desired LCD register
                 ;           (E) is low
                 ;           (RW) is low
                 ; Exit:     no parameters
                 ; Notes:    use either time delays or the busy flag
                 
                 lcd_write_4:
                 ; set up D7
00080f 9ac3          sbi     lcd_D7_port, lcd_D7_bit         ; assume that the D7 data is '1'
000810 ff87          sbrs    temp_lcd, 7                         ; check the actual data value
000811 98c3          cbi     lcd_D7_port, lcd_D7_bit         ; arrive here only if the data was actually '0'
                 
                 ; set up D6
000812 9ac2          sbi     lcd_D6_port, lcd_D6_bit         ; repeat for each data bit
000813 ff86          sbrs    temp_lcd, 6
000814 98c2          cbi     lcd_D6_port, lcd_D6_bit
                 
                 ; set up D5
000815 9ac1          sbi     lcd_D5_port, lcd_D5_bit
000816 ff85          sbrs    temp_lcd, 5
000817 98c1          cbi     lcd_D5_port, lcd_D5_bit
                 
                 ; set up D4
000818 9ac0          sbi     lcd_D4_port, lcd_D4_bit
000819 ff84          sbrs    temp_lcd, 4 
00081a 98c0          cbi     lcd_D4_port, lcd_D4_bit
                 
                 ; write the data
                                                             ; 'Address set-up time' (40 nS)
00081b 9a96          sbi     lcd_E_port, lcd_E_bit           ; Enable pin high
00081c 940e 083a     call    delay1uS                        ; implement 'Data set-up time' (80 nS) and 'Enable pulse width' (230 nS)
00081e 9896          cbi     lcd_E_port, lcd_E_bit           ; Enable pin low
00081f 940e 083a     call    delay1uS                        ; implement 'Data hold time' (10 nS) and 'Enable cycle time' (500 nS)
000821 9508          ret
                 
                 ; ============================== End of 4-bit LCD Subroutines ===============
                 
                 ; ============================== Time Delay Subroutines =====================
                 ; Name:     delayYx1mS
                 ; Purpose:  provide a delay of (YH:YL) x 1 mS
                 ; Entry:    (YH:YL) = delay data
                 ; Exit:     no parameters
                 ; Notes:    the 16-bit register provides for a delay of up to 65.535 Seconds
                 ;           requires delay1mS
                 
                 delayYx1mS:
000822 940e 082c     call    delay1mS                        ; delay for 1 mS
000824 9721          sbiw    YH:YL, 1                        ; update the the delay counter
000825 f7e1          brne    delayYx1mS                      ; counter is not zero
                 
                 ; arrive here when delay counter is zero (total delay period is finished)
000826 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     delayTx1mS
                 ; Purpose:  provide a delay of (temp_lcd) x 1 mS
                 ; Entry:    (temp_lcd) = delay data
                 ; Exit:     no parameters
                 ; Notes:    the 8-bit register provides for a delay of up to 255 mS
                 ;           requires delay1mS
                 
                 delayTx1mS:
000827 940e 082c     call    delay1mS                        ; delay for 1 mS
000829 958a          dec     temp_lcd                            ; update the delay counter
00082a f7e1          brne    delayTx1mS                      ; counter is not zero
                 
                 ; arrive here when delay counter is zero (total delay period is finished)
00082b 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     delay1mS
                 ; Purpose:  provide a delay of 1 mS
                 ; Entry:    no parameters
                 ; Exit:     no parameters
                 ; Notes:    chews up fclk/1000 clock cycles (including the 'call')
                 
                 delay1mS:
00082c 93cf          push    YL                              ; [2] preserve registers
00082d 93df          push    YH                              ; [2]
00082e e9cb          ldi     YL, low (((fclk/1000)-18)/4)    ; [1] delay counter
00082f e0df          ldi     YH, high(((fclk/1000)-18)/4)    ; [1]
                 
                 delay1mS_01:
000830 9721          sbiw    YH:YL, 1                        ; [2] update the the delay counter
000831 f7f1          brne    delay1mS_01                     ; [2] delay counter is not zero
                 
                 ; arrive here when delay counter is zero
000832 91df          pop     YH                              ; [2] restore registers
000833 91cf          pop     YL                              ; [2]
000834 9508          ret                                     ; [4]
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     delayTx1uS
                 ; Purpose:  provide a delay of (temp_lcd) x 1 uS with a 16 MHz clock frequency
                 ; Entry:    (temp_lcd) = delay data
                 ; Exit:     no parameters
                 ; Notes:    the 8-bit register provides for a delay of up to 255 uS
                 ;           requires delay1uS
                 
                 delayTx1uS:
000835 940e 083a     call    delay1uS                        ; delay for 1 uS
000837 958a          dec     temp_lcd                            ; decrement the delay counter
000838 f7e1          brne    delayTx1uS                      ; counter is not zero
                 
                 ; arrive here when delay counter is zero (total delay period is finished)
000839 9508          ret
                 
                 ; ---------------------------------------------------------------------------
                 ; Name:     delay1uS
                 ; Purpose:  provide a delay of 1 uS with a 16 MHz clock frequency
                 ; Entry:    no parameters
                 ; Exit:     no parameters
                 ; Notes:    add another push/pop for 20 MHz clock frequency
                 
                 delay1uS:
00083a 938f          push    temp_lcd                            ; [2] these instructions do nothing except consume clock cycles
00083b 918f          pop     temp_lcd                            ; [2]
00083c 938f          push    temp_lcd                            ; [2]
00083d 918f          pop     temp_lcd                            ; [2]
00083e 9508          ret                                     ; [4]
                 
                 ; ============================== End of Time Delay Subroutines ==============
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			M A I N   P R O G R A M
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Main Program Loop
                 ;
                 ; This is where everything but sound generation happens. This loop is interrupted 40,000 times per second by the
                 ; sample interrupt routine. When it's actually allowed to get down to work, it scans the panel switches every 32 ms,
                 ; scans the knobs a lot more than that,  calculates envelopes, processes the LFO and parses MIDI input. 
                 ; 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 
                 .INCLUDE "initialize.inc"				; Initialize variables, constants and start timer interrupts 
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; Initialization
                 ;
                 
                 RESET:
00083f 94f8                  cli				            ; disable interrupts
                 
                 ;JTAG Disable - Set JTD in MCSCSR
000840 9100 0034             lds     r16, MCUCSR         ; Read MCUCSR
000842 6800                  sbr     r16, 1 << JTD       ; Set jtag disable flag
000843 bf04                  out     MCUCSR, r16         ; Write MCUCSR
000844 bf04                  out     MCUCSR, r16         ; and again as per datasheet
                 
                 ;initialize stack:
000845 e50f        			ldi 	r16, low(RAMEND)
000846 e018      			ldi 	r17, high(RAMEND)
000847 bf0d      		    out	    SPL, r16
000848 bf1e      		    out	    SPH, r17
                 
                 ;initialize variables:
000849 2488      		    clr	    ZERO
00084a 2422      		    clr	    PHASEA_0
00084b 2433          		clr	    PHASEA_1
00084c 2444      		    clr	    PHASEA_2
00084d 2455      		    clr	    PHASEB_0
00084e 2466      		    clr	    PHASEB_1
00084f 2477      		    clr	    PHASEB_2
000850 2499      			clr 	a_L					; clear DCF registers
000851 24aa      			clr 	a_H					;
000852 2722      			clr		z_L					;
000853 2733      			clr 	z_H					;
000854 27ee      			clr 	temp				;
000855 27ff      			clr 	temp2				;
000856 e005      			ldi		r16, 5
000857 9300 00cd 			sts 	KNOB_DEADZONE, r16	
000859 e000      		    ldi	    r16, 0
00085a 9300 00e8 			sts		BUTTON_STATUS, r16	; no buttons pressed
00085c 9300 00e9 			sts		FIRMWARE, r16		; Run standard firmware
00085e 9300 0078 			sts		PATCH_SWITCH1, r16	; Default patch is null until loaded from front panel or memory
000860 9300 0074 			sts		SWITCH1, r16
000862 9300 007a 			sts		SETMIDICHANNEL, r16 ; Default MIDI channel to zero (omni)
000864 9300 00da 			sts		FMDEPTH, r16		; FM Depth = 0
000866 9300 009e 		    sts	    GATE, r16		    ; GATE = 0
000868 9300 009f 		    sts	    GATEEDGE, r16	    ; GATEEDGE = 0
00086a 9300 008a 		    sts	    LEVEL, r16		    ; LEVEL = 0
00086c 9300 00a7 		    sts	    ENV_FRAC_L, r16	    ;\
00086e 9300 00a8 		    sts	    ENV_FRAC_H, r16	    ; > ENV = 0
000870 9300 00a9 		    sts	    ENV_INTEGR, r16	    ;/
000872 9300 008c 		    sts	    ADC_CHAN, r16	    ; ADC_CHAN = 0
000874 9300 0085 		    sts	    NOTE_L, r16		    ;\
000876 9300 0086 		    sts	    NOTE_H, r16		    ; >
000878 9300 0087 		    sts	    NOTE_INTG, r16	    ;/
00087a 9300 0067 		    sts	    MIDIPBEND_L, r16    ;\
00087c 9300 0068 		    sts	    MIDIPBEND_H, r16    ;/ P.BEND = 0
00087e 9300 0140 		    sts	    MIDIMODWHEEL, r16   ; MOD.WHEEL = 0
000880 9300 006a 			sts		KNOB_SHIFT, r16		; Initialize panel shift switch = 0 (unshifted)
000882 9300 00e1 			sts		VCF_STATUS, r16		; Flag VCF as off (0)
000884 e002      		    ldi	    r16, 2
000885 9300 0088 		    sts	    PORTACNT, r16	    ; PORTACNT = 2
000887 ef0f      		    ldi	    r16, 255
000888 9300 006b 			sts		POWER_UP, r16		; Set power_up flag to 255 to force first initialization of panel switches
00088a 9300 00db 			sts		WRITE_MODE, r16		; Patch write mode defaults to "off" 
00088c 9300 0089 		    sts	    LPF_I, r16		    ; no DCF
00088e 9300 0064 		    sts	    MIDINOTE, r16	    ; note# = 255
000890 9300 0066 		    sts	    MIDINOTEPREV, r16   ; note# = 255
000892 e50e      		    ldi	    r16, 0x5E		    ;\
000893 eb14      		    ldi	    r17, 0xB4		    ; \
000894 e726      		    ldi	    r18, 0x76		    ;  \ initialising of
000895 9300 00bc 		    sts	    SHIFTREG_0, r16		;  / shift register
000897 9310 00bd 		    sts	    SHIFTREG_1, r17		; /
000899 9320 00be 		    sts	    SHIFTREG_2, r18		;/
00089b e000      		    ldi	    r16, 0			    ;\
00089c e010          		ldi	    r17, 0			    ; > Amin = 0
00089d e020      		    ldi	    r18, 0			    ;/
00089e 9300 00bf 		    sts	    LFOBOTTOM_0, r16	;\
0008a0 9310 00c0 		    sts	    LFOBOTTOM_1, r17	; > store Amin for LFO
0008a2 9320 00c1 		    sts	    LFOBOTTOM_2, r18	;/
0008a4 ef0f      		    ldi	    r16, 255		    ;\
0008a5 ef1f      		    ldi	    r17, 255		    ; > Amax = 255,999
0008a6 ef2f      		    ldi	    r18, 255		    ;/
0008a7 9300 00c2 		    sts	    LFOTOP_0, r16		;\
0008a9 9310 00c3 		    sts	    LFOTOP_1, r17		; > store Amax for LFO
0008ab 9320 00c4 		    sts	    LFOTOP_2, r18		;/
0008ad e124      			ldi		r18, 20
0008ae 9300 00c5 			sts	    LFO2BOTTOM_0, r16	;\
0008b0 9310 00c6 		    sts	    LFO2BOTTOM_1, r17	; > store Amin for LFO2
0008b2 9320 00c7 			sts	    LFO2BOTTOM_2, r18	;/
0008b4 e624      			ldi		r18, 100
0008b5 9300 00c8 			sts	    LFO2TOP_0, r16		;\
0008b7 9310 00c9 		    sts	    LFO2TOP_1, r17		; > store Amax for LFO2
0008b9 9320 00ca 		    sts	    LFO2TOP_2, r18		;/
                 
0008bb e001      			ldi		r16, 1 
0008bc 9300 006c 			sts		KNOB0_STATUS, r16		; Flag all knobs so current panel value is loaded upon power up.  
0008be 9300 006d 			sts		KNOB1_STATUS, r16		; = 1
0008c0 9300 006e 			sts		KNOB2_STATUS, r16		; = 1
0008c2 9300 006f 			sts		KNOB3_STATUS, r16		; = 1
0008c4 9300 0070 			sts		KNOB4_STATUS, r16		; = 1
0008c6 9300 0071 			sts		KNOB5_STATUS, r16		; = 1
0008c8 9300 0072 			sts		KNOB6_STATUS, r16		; = 1
                 					
                 			; default ENV MOD to 24 
0008ca e108      			ldi		r16, 24
0008cb 9300 00ae 			sts		VELOCITY_ENVMOD, r16
                 
0008cd ef0f      			ldi		r16, 255
0008ce 9300 0079 			sts		PATCH_SWITCH2, r16	; Default MIDI set switch to unpressed.
                 
0008d0 eb00      			ldi		r16, 0b10110000
0008d1 9300 00e3 			sts		LEVEL_H, r16
0008d3 e000      			ldi		r16, 0b00000000
0008d4 9300 00e2 			sts		LEVEL_L, r16		; Default envelope level to zero
                 
                 ;initialize sound parameters:
0008d6 e000      			ldi	    r16,0
0008d7 9300 00b0 		    sts	    LFOPHASE, r16		;
0008d9 9300 00b5 			sts	    LFO2PHASE, r16		;
0008db 9300 00a6 		    sts	    ENVPHASE, r16		;
0008dd 9300 007b 		    sts	    DETUNEB_FRAC, r16	;\
0008df 9300 007c 		    sts	    DETUNEB_INTG, r16	;/ detune = 0
0008e1 9300 0069 		    sts	    LFOLEVEL, r16		;
0008e3 9300 0170 			sts		LFOFREQ, r16
0008e5 9300 0176 			sts		PORTAMENTO, r16
0008e7 e604      			ldi		r16, 100
0008e8 9300 0177 			sts		VCFENVMOD, r16		; Default VCFENVMOD to 100 unless overridden by MIDI CC
                 
                 ;initialize port A:
0008ea e000      		    ldi	    r16, 0x00    		;\
0008eb bb0b      			out	    PORTA, r16		    ;/ PA = zzzzzzzz
0008ec e000      		    ldi	    r16, 0x00    		;\
0008ed bb0a      		    out	    DDRA, r16		    ;/ PA = iiiiiiii    all inputs (panel pots)
                 
                 ;initialize port B:
0008ee ef0f      		    ldi	    r16, 0xFF    		;\
0008ef bb08      		    out	    PORTB, r16		    ;/ PB = pppppppp
0008f0 e000      		    ldi	    r16, 0x00    	    ;\
0008f1 bb07      		    out	    DDRB, r16		    ;/ PB = iiiiiiii    all inputs
                 
                 ; SPI outputs on port B
                 
                 ;			ldi		r16,(1<<DDB5)|(1<<DDB7) ; MOSI and SCK as outputs
0008f2 eb00      			ldi		r16,(1<<DDB5)|(1<<DDB7)|(1<<DDB4) ; MOSI, SS and SCK as outputs
0008f3 bb07      			out		DDRB, r16
                 
                 			; Enable SPI, Master, set clock rate fck/2
0008f4 e500      			ldi		r16,(1<<SPE)|(1<<MSTR)	; fck/4
0008f5 b90d      			out		SPCR, r16
                 
0008f6 e001      			ldi		r16, (1<<SPI2X)			; fck/2 (double SPI speed)
0008f7 b90e      			out		SPSR, r16
                 
                 ;initialize port C:
0008f8 e000      		    ldi	    r16, 0x00    	    ;\
0008f9 bb04      		    out	    DDRC, r16		    ;/ PB = iiiiiiii    all inputs, pull-ups enabled
0008fa ef0f      		    ldi	    r16, 0xFF    		;\
0008fb bb05      		    out	    PORTC, r16		    ;/ PB = pppppppp
                 
                 
                 ;initialize port D:
0008fc ef0e      		    ldi	    r16, 0b11111110    		;\
0008fd bb01      		    out	    DDRD, r16		    ;/ PD = oooooooi    all outputs except PD0 (MIDI-IN) 
                 			;ldi	    r16, 0b11111110    		;\
0008fe e000      			ldi		r16, 0b00000000
0008ff bb02      		    out	    PORTD, r16		    ;/ Disable pull-ups for Port D
                 ; Turn Power/MIDI LED on at power up
                 			
000900 9a91      			sbi	    PORTD, 1		    ; LED on
                 
                 ;initialize Timer0:
                 
000901 e301                  ldi     r16, 49             ;\  ; Set sample rate to 40.00 kHz
000902 bf0c                  out     OCr0, r16           ;/ OCr0 = 49 gives 40000.00 Hz sample rate at 400 cycles per sample loop.
000903 e00a                  ldi     r16, 0x0A           ;\ clear timer on compare,
000904 bf03                  out     TCCr0, r16          ;/ set prescaler = CK/8
                 
                 ;initialize Timer1:
000905 e004      		    ldi	    r16, 0x04    		;\ prescaler = CK/256
000906 bd0e      		    out	    TCCr1B, r16		    ;/ (clock = 32s)
                 
                 ;Timer2 PWM controlling cutoff
000907 e109                  ldi     r16, 25              ; Set filter cutoff to minimum value 
000908 bd03                  out     OCr2, r16			; load output compare register 
000909 e601      			ldi		r16, 0b01100001		; Phase correct PWM, no prescaler
00090a bd05      		    out	    TCCr2, r16			; start PWM
                 
                 ;initialize UART:
00090b e000      		    ldi	    r16, high((cpu_frequency / (baud_rate * 16)) - 1)
00090c bd00      		    out	    UBRRH, r16
00090d e10f          		ldi	    r16, low((cpu_frequency / (baud_rate * 16)) - 1)
00090e b909                  out     UBRRL, r16
                 
                 ; enable receiver and receiver interrupt
00090f e900          		ldi	    r16, (1<<RXCIE)|(1<<RXEN)   ;\
000910 b90a      		    out	    UCR, r16		            ;/ RXCIE=1, RXEN=1
                 
                 ;initialize ADC:
000911 e806      		    ldi	    r16, 0x86    		;\
000912 b906      		    out	    ADCSRA, r16		    ;/ ADEN=1, clk = 125 kHz
                 
                 ;initialize interrupts:
000913 e002      		    ldi	    r16, 0x02    		;\
000914 bf09      		    out	    TIMSK, r16		    ;/ OCIE0=1
                 
000915 9478          		sei				            ; Interrupt Enable
                 
                 ;start conversion of the first A/D channel:
000916 9120 008c 		    lds	    r18, ADC_CHAN
000918 daca      		    rcall	ADC_START
                 
                 ; Load MIDI channel from eeprom
                 
000919 e023      			ldi		r18, $03
00091a ef1f      			ldi		r17, $FF				; Set eeprom address to $03FF (last byte)
00091b db87      			rcall   EEPROM_READ				; load MIDI CHANNEL into r16
00091c 3005      			cpi		r16, 5					
00091d f008      			brlo	LOAD_MIDI_CHANNEL		; If stored MIDI Channel is not Channel 1-4, set synth into MIDI OMNI mode.
00091e e000      			ldi		r16, 0			
                 LOAD_MIDI_CHANNEL:
00091f 9300 007a 			sts		SETMIDICHANNEL, r16
                 
                 ;initialize the keyboard scan time 
000921 b50c      		    in		r16, TCNT1L		        ;\
000922 b51d      		    in		r17, TCNT1H		        ;/ r17:r16 = TCNT1 = t
000923 9300 00a0 		    sts		TPREV_KBD_L, r16
000925 9310 00a1 		    sts		TPREV_KBD_H, r17
                 
                 ; Alternate firmware check
                 ; Check if MIDI SET button is pressed on back panel at power up. If so, run alternate firmware.
000927 b303      			in		r16, PINC	; Read PORTC pin values (front panel switches)	
000928 fd00      			sbrc	r16, 0				
000929 c00c      			rjmp	STANDARD_FIRMWARE	; skip if MIDI Set button = 1 (not pressed)
                 			
00092a e001      			ldi		r16, 1
00092b 9300 00e9 			sts		FIRMWARE, r16 		; Flag alternate FIRMWARE (set to 1)
                 			
                 			; blink LED double fast if alternate firmware has been selected. 
00092d e003      			ldi		r16, 3
00092e 9300 00e8 			sts		BUTTON_STATUS, r16	; Save flash status, turn on LED flash timer 
000930 ef0f      			ldi		r16, 255
000931 9300 00e6 			sts		LED_TIMER, r16
000933 e300      			ldi		r16, 48
000934 9300 00e7 			sts		LED_TIMER2, r16
                 			
                 
000936 ddc5      rcall LCD_START
                 
                 //---start delay routine
000937 932f      push r18
000938 933f      push r19
000939 934f      push r20
                 ; Generated by delay loop calculator
                 ; at http://www.bretmulvey.com/avrdelay.html
                 ;
                 ; Delay 8 000 000 cycles
                 ; 500ms at 16.0 MHz
                 
00093a e229          ldi  r18, 41
00093b e936          ldi  r19, 150
00093c e840          ldi  r20, 128
00093d 954a      L1: dec  r20
00093e f7f1          brne L1
00093f 953a          dec  r19
000940 f7e1          brne L1
000941 952a          dec  r18
000942 f7d1          brne L1
                 
000943 914f      pop r20
000944 913f      pop r19
000945 912f      pop r18
                 //----end wait routine---
000946 ddae      rcall MYLCD_CLEAR
                 //prepare LCD gui (not to be refreshed at each basic cycle!)
000947 dcc3      rcall MYLCD_PREPARE_GUI
                 
                 
                 MAINLOOP:
                 
                 ; ------------------------------------------------------------------------------------------------------------------------
                 ; Read switch values
                 ; ------------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 .INCLUDE "scan_switches.inc"
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;---------------------
                 ; scan panel switches:
                 ;---------------------
                 ;begin:
                 
000948 b50c      		    in	    r16, TCNT1L		    ;\
000949 b51d      		    in	    r17, TCNT1H		    ;/ r17:r16 = t
00094a 9120 00a0 		    lds	    r18, TPREV_KBD_L	;\
00094c 9130 00a1 		    lds	    r19, TPREV_KBD_H	;/ r19:r18 = t0
00094e 1b02      		    sub	    r16, r18			;\
00094f 0b13      		    sbc	    r17, r19			;/ r17:r16 = t - t0
000950 560a      		    subi	r16, LOW(KBDSCAN)	;\
000951 4118      		    sbci	r17, HIGH(KBDSCAN)	;/ r17:r16 = (t-t0) - 100ms
000952 f408      		    brsh	MLP_SCAN		    ;\
000953 c04b      		    rjmp	MLP_SKIPSCAN		;/ skip scanning if (t-t0) < 100ms
                 
                 MLP_SCAN:
                 
                 
                 ; Read panel switches
                 						
000954 b303      			in		r16, PINC	; Read PORTC pin values (front panel switches)	
000955 9110 0074 		    lds	    r17, SWITCH1
000957 9120 0079 			lds		r18, PATCH_SWITCH2
                 
                 ; MIDI Channel momentary switch (PORT C0)
000959 fb00      			bst		r16, 0
00095a f920      			bld		r18, SW_MIDI		; Copy Port C0 value into MIDI Channel set switch
                 
                 ; LFO Destination 	PATCH_SWITCH1, SW_LFO_DEST (PORT C4)
00095b fb04      			bst		r16, 4
00095c f913      			bld		r17, SW_LFO_DEST	; Copy PORT C4 into SW_LFO_DEST
                 			
                 ; PWM_SWEEP 		PATCH_SWITCH1, SW_PWM_SWEEP (PORT C5)
00095d fb05      			bst		r16, 5
00095e f912      			bld		r17, SW_PWM_SWEEP	; Copy PORT C5 into SW_PWM_SWEEP
                 			
                 ; Octave			PATCH_SWITCH2, SW_OSCB_OCT (PORT C6)
00095f fb06      			bst		r16, 6
000960 f911      			bld		r17, SW_OSCB_OCT	; Copy PORT C6 into SW_OSCB_OCT
                 
                 ; Envelope Sustain	PATCH_SWITCH2, SW_SUSTAIN (PORT C7)
000961 fb07      			bst		r16, 7
000962 f910      			bld		r17, SW_SUSTAIN	; Copy PORT C7 into SW_SUSTAIN
                 			
000963 9310 0074 		    sts	    SWITCH1, r17 ; Store switch settings				
000965 9320 0079 		    sts	    PATCH_SWITCH2, r18 ; Store MIDI switch setting
                 			
                 ; Make sure we capture switch settings at power-up, so we know when they're changed.
                 			
000967 9130 006b 			lds		r19, POWER_UP		; Is this the first time through this code since synth was turned on?
000969 ff30      			sbrs	r19, 0				
00096a c007      			rjmp	MLP_SWITCH
00096b 9310 0076 			sts		OLD_SWITCH1, r17	; Yes: make OLD_SWITCHx = SWITCHx (so we know when they've been flipped)
00096d 9310 0078 			sts	    PATCH_SWITCH1, r17	; Read starup patch switch values from the front panel
00096f 2733      			clr		r19					
000970 9330 006b 			sts		POWER_UP, r19		; Clear the POWER_UP flag so we don't reinitialize
                 
                 
                 ; ---------------------------------------------------------------------------------------------------------------
                 ; Only update switch value if the physical switch has moved, to avoid overwriting MIDI CC parameter changes
                 ; 
                 ; ---------------------------------------------------------------------------------------------------------------
                 MLP_SWITCH:
                 			; Compare SWITCH1 to OLD_SWITCH1. Skip if unchanged.
                 
000972 9100 0074 			lds		r16, SWITCH1
000974 9110 0076 			lds		r17, OLD_SWITCH1	
000976 1701      			cp		r16, r17		
000977 f139      			breq	MLP_SWITCH_EXIT			; Switch 1 unchanged, so leave as is.
000978 9120 0078 			lds		r18, PATCH_SWITCH1	
                 
                 			; Compare bits in OLD_SWITCH1 and SWITCH1. If different, copy SWITCH1 bit to PATCH_SWITCH1 bit.
                 			; Perform an exclusive OR on r17 and r16. Changed bits are flagged as 1's.
00097a 2710      			eor		r17, r16	
                 
                 ;MLP_BIT0:			
00097b ff10      			sbrs	r17, 0				
00097c c002      			rjmp	MLP_BIT1			; Exit if bit is not set
00097d fb00      			bst		r16, 0
00097e f920      			bld		r18, 0				; copy bit from SWITCH1 to PATCH_SWITCH1
                 MLP_BIT1:
                 
00097f ff11      			sbrs	r17, 1				
000980 c002      			rjmp	MLP_BIT2	
000981 fb01      			bst		r16, 1
000982 f921      			bld		r18, 1		
                 							
                 MLP_BIT2:
000983 ff12      			sbrs	r17, 2				
000984 c002      			rjmp	MLP_BIT3			
000985 fb02      			bst		r16, 2
000986 f922      			bld		r18, 2	
                 					
                 MLP_BIT3:
000987 ff13      			sbrs	r17, 3				
000988 c002      			rjmp	MLP_BIT4			
000989 fb03      			bst		r16, 3
00098a f923      			bld		r18, 3
                 		
                 MLP_BIT4:
00098b ff14      			sbrs	r17, 4				
00098c c002      			rjmp	MLP_BIT5			
00098d fb04      			bst		r16, 4
00098e f924      			bld		r18, 4				
                 
                 MLP_BIT5:
00098f ff15      			sbrs	r17, 5				
000990 c002      			rjmp	MLP_BIT6			
000991 fb05      			bst		r16, 5
000992 f925      			bld		r18, 5				
                 
                 MLP_BIT6:
000993 ff16      			sbrs	r17, 6				
000994 c002      			rjmp	MLP_BIT7			
000995 fb06      			bst		r16, 6
000996 f926      			bld		r18, 6					
                 
                 MLP_BIT7:
000997 ff17      			sbrs	r17, 7				
000998 c002      			rjmp	MLP_PATCH1SAVE			
000999 fb07      			bst		r16, 7
00099a f927      			bld		r18, 7		
                 
                 
                 MLP_PATCH1SAVE:	
                 
00099b 9320 0078 			sts		PATCH_SWITCH1, r18		; Store changes	to patch
00099d 9300 0076 			sts		OLD_SWITCH1, r16		; Keep a copy of panel switches so we know if things change next time
                 			
                 MLP_SWITCH_EXIT:			
                 
                 
                 MLP_SKIPSCAN:
                 
                 ; Check MIDI Set switch
00099f 9100 00e8 			lds		r16, BUTTON_STATUS
0009a1 3003      			cpi		r16, 3						; If button has been pressed, allow LED to flash
0009a2 f079      			breq	control_exit
                 
0009a3 9150 0079 			lds		r21, PATCH_SWITCH2
0009a5 fd50      			sbrc	r21, SW_MIDI				; 0(pressed)/1(not pressed)
0009a6 c00b      			rjmp	CONTROL_EXIT				; button not pressed
                 
                 			; blink LED if MIDI button has been pressed
0009a7 e001      			ldi		r16, 1
0009a8 9300 00e8 			sts		BUTTON_STATUS, r16	; Set control status to MIDI, turn on control timer
0009aa ef0f      			ldi		r16, 255
0009ab 9300 00e6 			sts		LED_TIMER, r16
0009ad e600      			ldi		r16, 96
0009ae 9300 00e7 			sts		LED_TIMER2, r16
0009b0 2700      			clr		r16
0009b1 db0a      			rcall	CLEAR_KNOB_STATUS	; Snap to current knob positons, so we know if they're moved to set a new channel
                 
                 control_exit:
0009b2 9100 00e8 			lds		r16, BUTTON_STATUS
0009b4 2300      			tst		r16
0009b5 f0a9      			breq	MLP_LED_END			; button hasn't been pressed, so skip
                 
0009b6 9110 00e6 			lds		r17, LED_TIMER
0009b8 9120 00e7 			lds		r18, LED_TIMER2
0009ba 1b10      			sub		r17, r16			; r16 contains the button flash rate	
0009bb 0928      			sbc		r18, ZERO
                 
0009bc 2322      			tst		r18		; hit zero?
0009bd f049      			breq	hit_zero
0009be 9310 00e6 			sts		LED_TIMER, r17
0009c0 9320 00e7 			sts		LED_TIMER2, r18
                 
                 			; figure out if LED should be on or off. 
0009c2 ff21      			sbrs	r18, 1
0009c3 9891      			cbi		PORTD, 1			; LED off if bit 1 in r18 is zero
0009c4 fd21      			sbrc	r18, 1
0009c5 9a91      			sbi		PORTD, 1			; LED on if bit 1 is one
                 
0009c6 c004      			rjmp	MLP_LED_END
                 hit_zero:	
0009c7 9a91      			sbi	    PORTD, 1		    ; LED on
0009c8 e000      			ldi		r16, 0
0009c9 9300 00e8 			sts		BUTTON_STATUS, r16	; Turn off button
                 
                 
                 ; ------------------------------------------------------------------------------------------------------------------------
                 ; Read potentiometer values
                 ; ------------------------------------------------------------------------------------------------------------------------
                 ;
                 
                 .INCLUDE "scan_knobs.inc"
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;--------------------
                 ;read potentiometers:
                 ;--------------------
                 
0009cb da1a      		    rcall	ADC_END			    ; r16 = AD(i)
0009cc 9120 008c 		    lds	    r18, ADC_CHAN		;\
0009ce 9320 008d 			sts		PREV_ADC_CHAN, r18   ; keep track of which ADC channel we're processing. 
0009d0 e8ce      			ldi		r28, low(ADC_0)
0009d1 e0d0      			ldi		r29, high(ADC_0)
0009d2 0fc2      			add		r28, r18
0009d3 1dd8      			adc		r29, ZERO
0009d4 8308      		    st	    Y, r16			    ; AD(i) --> ADC_i
                 
                 ;next channel:
0009d5 9523      		    inc	    r18
0009d6 7027      		    andi	r18, 0x07
0009d7 9320 008c 		    sts	    ADC_CHAN,r18
0009d9 da09      		    rcall	ADC_START	        ; start conversion of next channel
                 			
                 ; ------------------------------------------------------------------------------------------------------------------------
                 ; Read potentiometer values
                 ; ------------------------------------------------------------------------------------------------------------------------
                 ;
0009da 9140 008d 			lds		r20, PREV_ADC_CHAN	; Only process the most recently scanned pot, store ADC channel 0..7 in r20
                 
                 CHECK_0:
0009dc 3040      			cpi		r20, 0				; Update knob 0, LFO Depth?
0009dd f481      			brne	CHECK_1
0009de db0f      			rcall	POT_SCAN			; If so, check if parameter should be updated with pot value in r16
0009df 2311      			tst		r17					
0009e0 f1a1      			breq	EXIT_POTS			; Skip update if pot hasn't been updated
0009e1 9300 0069 		    sts	    LFOLEVEL,r16		
0009e3 9300 016f 			sts		PANEL_LFOLEVEL, r16	
                 
                 			; Check if MIDI set switch has been pressed. If so, set MIDI CHANNEL
0009e5 9100 00e8 			lds		r16, BUTTON_STATUS
0009e7 2300      			tst		r16
0009e8 f161      			breq	EXIT_POTS				; button hasn't been pressed, so skip
0009e9 3003      			cpi		r16, 3
0009ea f151      			breq	EXIT_POTS
0009eb e004      			ldi		r16, 4					; MIDI CHANNEL 4
0009ec dac0      			rcall	SET_MIDI_CHANNEL
                 
0009ed c074      			rjmp	END_POTS
                 
                 CHECK_1:
0009ee 3041      			cpi		r20, 1				; Update knob 1, LFO rate?
0009ef f471      			brne	CHECK_2
0009f0 dafd      			rcall	POT_SCAN			; If so, check if parameter should be updated with pot value in r16
0009f1 2311      			tst		r17					
0009f2 f111      			breq	EXIT_POTS
0009f3 9300 0170 			sts	    LFOFREQ,r16
                 
                 			; Check if MIDI set switch has been pressed. If so, set MIDI CHANNEL
0009f5 9100 00e8 			lds		r16, BUTTON_STATUS
0009f7 2300      			tst		r16
0009f8 f0e1      			breq	EXIT_POTS				; button hasn't been pressed, so skip
0009f9 3003      			cpi		r16, 3
0009fa f0d1      			breq	EXIT_POTS
0009fb e003      			ldi		r16, 3					; MIDI CHANNEL 3
0009fc dab0      			rcall	SET_MIDI_CHANNEL
0009fd c064      			rjmp	END_POTS
                 
                 CHECK_2:
0009fe 3042      			cpi		r20, 2				; Update knob 2, Detune?
0009ff f4b1      			brne	CHECK_3
000a00 daed      			rcall	POT_SCAN			; If so, check if parameter should be updated with pot value in r16
000a01 2311      			tst		r17					
000a02 f051      			breq	EXIT_CHECK2			; Skip update if pot hasn't been updated
000a03 9300 0171 			sts		OSC_DETUNE, r16
                 
                 			; Check if MIDI set switch has been pressed. If so, set MIDI CHANNEL
000a05 9100 00e8 			lds		r16, BUTTON_STATUS
000a07 2300      			tst		r16
000a08 f021      			breq	EXIT_CHECK2				; button hasn't been pressed, so skip
000a09 3003      			cpi		r16, 3
000a0a f011      			breq	EXIT_CHECK2
000a0b e002      			ldi		r16, 2					; MIDI CHANNEL 2
000a0c daa0      			rcall	SET_MIDI_CHANNEL
                 
                 EXIT_CHECK2:
000a0d 9100 0171 			lds		r16, OSC_DETUNE		; grab the patch value, just in case it hasn't been updated
000a0f da6b      		    rcall	NONLINPOT		    ; AD6.1 --> DCO B detune with non-linear knob (center is tuned)
000a10 5810      		    subi	r17, 128		     
000a11 9300 007b 		    sts	    DETUNEB_FRAC, r16	; Value -128.000..+127.996
000a13 9310 007c 		    sts	    DETUNEB_INTG, r17	
                 EXIT_POTS:
000a15 c04c      			rjmp	END_POTS
                 
                 CHECK_3:
000a16 3043      			cpi		r20, 3				; Update knob 3, Shape (PWM)?
000a17 f4f1      			brne	CHECK_4	
000a18 dad5      			rcall	POT_SCAN			; If so, check if parameter should be updated with pot value in r16
000a19 2311      			tst		r17					
000a1a f089      			breq	EXIT_CHECK3			; Skip update if pot hasn't been updated
000a1b 9300 0172 			sts     PULSE_KNOB, r16
000a1d 9506      			lsr		r16					; 0..127
000a1e 9506      			lsr		r16					; 0..63
000a1f 9506      			lsr		r16					; 0..31
000a20 9506      			lsr		r16					; 0..15
000a21 9506      			lsr		r16					; 0..8
000a22 9300 00d6 			sts		WAVETABLE, r16		; Knob value selects one of 8 wavetables  
                 
                 			; Check if MIDI set switch has been pressed. If so, set MIDI CHANNEL
000a24 9100 00e8 			lds		r16, BUTTON_STATUS
000a26 2300      			tst		r16
000a27 f021      			breq	EXIT_CHECK3				; button hasn't been pressed, so skip
000a28 3003      			cpi		r16, 3
000a29 f011      			breq	EXIT_CHECK3
000a2a e001      			ldi		r16, 1					; MIDI CHANNEL 1
000a2b da81      			rcall	SET_MIDI_CHANNEL
                 
                 EXIT_CHECK3:
000a2c 9100 0172 			lds		r16, PULSE_KNOB		; grab the patch value, just in case it hasn't been updated
000a2e 9506      			lsr		r16					; Divide it by two (we only need 0-50% pulse)
                 										; Limit to 10-127
000a2f 300a      			cpi		r16, 10
000a30 f008      			brlo	CHECK_3LIMIT
000a31 c001      			rjmp	CHECK_3A
                 CHECK_3LIMIT:
000a32 e00a      			ldi		r16, 10				; Limit minimum Pulse width to 10
                 CHECK_3A:
000a33 9300 00d8 			sts		PULSE_KNOB_LIMITED, r16
000a35 c02c      			rjmp	END_POTS
                 
                 CHECK_4:
000a36 3044      			cpi		r20, 4				; Update knob 4, Filter Cutoff?
000a37 f431      			brne	CHECK_5		
000a38 dab5      			rcall	POT_SCAN			; If so, check if parameter should be updated with pot value in r16
000a39 2311      			tst		r17					
000a3a f139      			breq	END_POTS				; Skip update if pot hasn't been updated
000a3b 9300 0173 			sts	    CUTOFF,r16					
000a3d c024      			rjmp	END_POTS
                 
                 CHECK_5:	
000a3e 3045      			cpi		r20, 5				; Update knob 5, Decay?
000a3f f4d9      			brne	CHECK_6	
000a40 daad      			rcall	POT_SCAN			; If so, check if parameter should be updated with pot value in r16	
000a41 2311      			tst		r17					
000a42 f011      			breq	CHECK_5B				; Skip update if pot hasn't been updated		
000a43 9300 0174 			sts	    KNOB_AMP_DECAY, r16	
                 
                 CHECK_5B:
000a45 9100 0174 			lds	    r16, KNOB_AMP_DECAY 		; Grab the value, in case it hasn't been updated (IE: MIDI CC parameter update)
000a47 9130 0078 			lds		r19, PATCH_SWITCH1
000a49 ff30      			sbrs	r19, SW_SUSTAIN				
000a4a c008      			rjmp	DCF_SUSTAIN_OFF		    ; Skip if sustain is off...
000a4b ef3f      			ldi		r19, 255					; Sustain is on, so...
000a4c 9330 007f 			sts		SUSTAINLEVEL, r19			; Set sustain to maximum
000a4e 9330 007e 			sts		DECAYTIME, r19				; Set decay to maximum
000a50 9300 0080 			sts		RELEASETIME, r16			; Set release time to value of decay knob
000a52 c00f      			rjmp	END_POTS
                 
                 DCF_SUSTAIN_OFF:
000a53 e030      			ldi		r19, 0						; Sustain is off, so...		
000a54 9330 007f 			sts		SUSTAINLEVEL, r19			; Set sustain to minimum
000a56 9300 007e 			sts		DECAYTIME, r16				; Set decay time to value of decay knob
000a58 9300 0080 			sts		RELEASETIME, r16			; Set release time to value of decay knob
000a5a c007      			rjmp	END_POTS			
                 			
                 CHECK_6:
000a5b 3046      			cpi		r20, 6					; Update knob 6, Attack?
000a5c f429      			brne	END_POTS
000a5d da90      			rcall	POT_SCAN				; If so, check if parameter should be updated with pot value in r16	
000a5e 2311      			tst		r17					
000a5f f011      			breq	END_POTS				; Skip update if pot hasn't been updated		
000a60 9300 0175 			sts		KNOB_AMP_ATTACK, r16    
                 
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; MIDI velocity 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ; 
                 		
                 MIDI_VELOCITY:
                 
                 			; Velocity control of filter
000a62 9100 0063 			lds 	R16, MIDIVELOCITY		; Value is 0..127
000a64 0f00      			lsl		r16
000a65 9110 0177 			lds		r17, VCFENVMOD
000a67 9f01      			mul		r16, r17
000a68 9210 00ae 			sts		VELOCITY_ENVMOD, r1	
                 		
                 ;-------------------------------------------------------------------------------------------------------------------
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Calculate Time Delta
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
000a6a b56c      		    in	    r22, TCNT1L		    ;\
000a6b b57d      		    in	    r23, TCNT1H		    ;/ r23:r22 = TCNT1 = t
000a6c 2f26      		    mov	    r18, r22		    ;\
000a6d 2f37          		mov	    r19, r23		    ;/ r19:r18 = t
000a6e 9100 00a2 		    lds	    r16, TPREV_L	    ;\
000a70 9110 00a3 		    lds	    r17, TPREV_H	    ;/ r17:r16 = t0
000a72 1b60      		    sub	    r22, r16		    ;\ r23:r22 = t - t0 = dt
000a73 0b71      		    sbc	    r23, r17		    ;/ (1 bit = 32 s)
000a74 9320 00a2 		    sts	    TPREV_L, r18	    ;\
000a76 9330 00a3 		    sts	    TPREV_H, r19	    ;/ t0 = t
000a78 9360 00a4     		sts	    DELTAT_L, r22		;\
000a7a 9370 00a5 		    sts	    DELTAT_H, r23		;/ r23:r22 = dT
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			LFO  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;			LFO1 : 	modulates oscillator pitch or filter cutoff
                 ;			LFO2 :  sweeps PWM waveform duty cycle
                 
                 .INCLUDE "lfo.inc"
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			LFO Generation 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;			LFO	 : 	modulates oscillator pitch or filter cutoff
                 ;			LFO2 :  sweeps PWM waveform duty cycle
                 
                 ;calculate dA:
000a7c 9100 0170 			lds	    r16, LFOFREQ	    ;\
                 
000a7e 9110 0078 			lds	    r17, PATCH_SWITCH1	; Check LFO destination bit. 
000a80 ff13      		    sbrs	r17, SW_LFO_DEST	; DCF is 0, DCO is 1
000a81 c003      			rjmp	MLP_LFO_NOLIMIT		; Don't limit knob if destination is oscillators
000a82 3d0c      			cpi		r16, 220			; If VCF LFO rate > 220, limit it
000a83 f008      			brlo	MLP_LFO_NOLIMIT
000a84 ed0c      			ldi		r16, 220			; Set maximum rate for LFO when destination is the VCF
                 
                 MLP_LFO_NOLIMIT:
000a85 9500      		    com	    r16			        ;/ r16 = 255 - ADC0
000a86 d9eb      		    rcall	ADCTORATE           ; r19:r18:r17:r16 = rate of rise/fall
000a87 9160 00a4 		    lds	    r22, DELTAT_L		;\
000a89 9170 00a5     		lds	    r23, DELTAT_H		;/ r23:r22 = dT
000a8b d983      		    rcall	MUL32X16		    ; r18:r17:r16 = dA
000a8c 9130 00b1 		    lds	    r19, LFO_FRAC_L
000a8e 9140 00b2 		    lds	    r20, LFO_FRAC_H
000a90 9150 00b3     		lds	    r21, LFO_INTEGR
000a92 5850      		    subi    r21, 128
000a93 e0f0      		    ldi	    r31, 0			    ; flag = 0
000a94 91e0 00b0 		    lds	    r30, LFOPHASE
000a96 23ee      		    tst	    r30
000a97 f4a1      		    brne	MLP_LFOFALL
                 
                 ;rising phase:
                 
                 MLP_LFORISE:
000a98 9160 00c2             lds	    r22, LFOTOP_0		;\
000a9a 9170 00c3 		    lds	    r23, LFOTOP_1		; > r24:r23:r22 = Amax
000a9c 9180 00c4 		    lds	    r24, LFOTOP_2		;/
000a9e 0f30      		    add	    r19, r16		    ;\
000a9f 1f41          		adc	    r20, r17		    ; > A += dA
000aa0 1f52      		    adc	    r21, r18		    ;/
000aa1 f020      		    brcs	MLP_LFOTOP
000aa2 1736      		    cp	    r19, r22		    ;\
000aa3 0747      		    cpc	    r20, r23		    ; > A - Amax
000aa4 0758      		    cpc	    r21, r24		    ;/
000aa5 f0c8      		    brlo	MLP_LFOX		    ; skip when A < Amax
                 
                 ;A reached top limit:
                 
                 MLP_LFOTOP:
000aa6 2f36                  mov	    r19, r22		    ;\
000aa7 2f47      		    mov	    r20, r23		    ; > A = Amax
000aa8 2f58      		    mov	    r21, r24		   	;/
000aa9 e0e1      		    ldi	    r30, 1			    ; begin of falling
000aaa e0f1      		    ldi	    r31, 1			    ; flag = 1
000aab c013      		    rjmp	MLP_LFOX
                 
                 ;falling phase:
                 
                 MLP_LFOFALL:
000aac 9160 00bf             lds	    r22, LFOBOTTOM_0	;\
000aae 9170 00c0 		    lds	    r23, LFOBOTTOM_1	; > r24:r23:r22 = Amin
000ab0 9180 00c1 		    lds	    r24, LFOBOTTOM_2	;/
000ab2 1b30          		sub	    r19, r16		    ;\
000ab3 0b41      		    sbc	    r20, r17		    ; > A -= dA
000ab4 0b52      		    sbc	    r21, r18		    ;/
000ab5 f020      		    brcs	MLP_LFOBOTTOM
000ab6 1763      		    cp	    r22, r19		    ;\
000ab7 0774      		    cpc	    r23, r20		    ; > Amin - A
000ab8 0785      		    cpc 	r24, r21		    ;/
000ab9 f028      		    brlo	MLP_LFOX		    ; skip when A > Amin
                 
                 ;A reached bottom limit:
                 
                 MLP_LFOBOTTOM:
000aba 2f36                  mov	    r19, r22		    ;\
000abb 2f47      		    mov	    r20, r23		    ; > A = Amin
000abc 2f58      		    mov	    r21, r24		    ;/
000abd e0e0      		    ldi	    r30, 0			    ; begin of rising
000abe e0f1      		    ldi	    r31, 1			    ; flag = 1
                 
                 MLP_LFOX:
000abf 93e0 00b0             sts	    LFOPHASE, r30
000ac1 5850      		    subi	r21, 128		    ; r21,r20:r19 = LFO tri wave
000ac2 9330 00b1 		    sts	    LFO_FRAC_L, r19		;\
000ac4 9340 00b2 		    sts	    LFO_FRAC_H, r20		; > store LFO value
000ac6 9350 00b3     		sts	    LFO_INTEGR, r21		;/
                 
                 ;switch norm/rand:
                 
                 ;determine Amin i Amax:
000ac8 e000      		    ldi	    r16, 0			    ;\
000ac9 e010      		    ldi	    r17, 0			    ; > Amin when not LFO==tri
000aca e020          		ldi	    r18, 0			    ;/  and not LFO==rand
                 		    
                 			; LFO random 
000acb 91e0 0078 			lds	    r30, PATCH_SWITCH1
000acd ffe4      			sbrs 	r30, SW_LFO_RANDOM	; LFO random if switch is set
                 
000ace c009          		RJMP	MLP_LFOAWR
000acf 23ff      		    tst	    r31
000ad0 f0b1          		breq	MLP_LFOAX
000ad1 9100 00bc 		    lds	    r16, SHIFTREG_0		;\
000ad3 9110 00bd 		    lds	    r17, SHIFTREG_1		; \ Amin = pseudo-random number
000ad5 9120 00be 		    lds	    r18, SHIFTREG_2		; /	0,000..127,999
000ad7 772f      		    andi	r18, 0x7F		    ;/
                 
                 MLP_LFOAWR:
000ad8 9300 00bf             sts	    LFOBOTTOM_0, r16	;\
000ada 9310 00c0 		    sts	    LFOBOTTOM_1, r17	; > store Amin
000adc 9320 00c1 		    sts	    LFOBOTTOM_2, r18	;/
000ade 9500      		    com	    r16			        ;\
000adf 9510      		    com	    r17			        ; > Amax = 255,999 - Amin
000ae0 9520      		    com	    r18			        ;/	128,000..255,999
000ae1 9300 00c2 		    sts	    LFOTOP_0, r16		;\
000ae3 9310 00c3 		    sts	    LFOTOP_1, r17		; > store Amax
000ae5 9320 00c4 		    sts	    LFOTOP_2, r18		;/
                 
                 
                 MLP_LFOAX:
                 ; Default to normal lfo behaviour (comment out to disable LFO random)
000ae7 9100 0078 		    lds	    r16, PATCH_SWITCH1
000ae9 ff04      		    sbrs 	r16, SW_LFO_RANDOM
000aea c005      		    rjmp	MLP_LFONORM
000aeb 23ff      		    tst	    r31			        ; flag == 1 ?
000aec f029      		    breq	MLP_LFONWR		    ; jump when not
000aed 9150 00be 		    lds	    r21, SHIFTREG_2
000aef c000      		    rjmp	MLP_LFOWR
                 
                 
                 MLP_LFONORM:
                 
                 ;switch tri/squ:
                 /*
                 		    lds	    r16, PATCH_SWITCH1	;\ Z=0: triangle
                 			sbrs 	r16, SW_LFO_WAVE	;/ Z=1: square
                     		rjmp	MLP_LFOWR
                 		    lsl	    r21			        ; Cy = (LFO < 0)
                 		    ldi	    r21, 127		    ;\
                 		    adc	    r21, ZERO		    ;/ r21 = -128 or +127
                 */
                 
                 MLP_LFOWR:
000af0 9350 00b4             sts	    LFOVALUE, r21
                 
                 ; Modulation wheel: Use highest value (Front panel or MIDI)
                 MLP_LFONWR:
                 
000af2 9100 016f 		    lds	    r16, PANEL_LFOLEVEL
000af4 9110 0140 		    lds	    r17, MIDIMODWHEEL
000af6 1701      		    cp	    r16, r17
000af7 f418          		brsh	MLP_LFOLWR
000af8 2f01      		    mov	    r16, r17		    ; MOD.WHEEL is greater
                 
000af9 9100 0140 			lds	    r16, MIDIMODWHEEL
                 
                 
                 MLP_LFOLWR:
000afb 9300 0069             sts	    LFOLEVEL, r16
                 
                 MLP_LFOMWX:
                 
                             ;----
                             ;LFO2 (Used to sweep PWM waveform)
                             ;----
                 
                 ;calculate dA:	
                 			; Load fixed PWM sweep rate
000afd eb04      			ldi		r16, 180
                 
000afe d973      		    rcall	ADCTORATE           ; r19:r18:r17:r16 = rate of rise/fall
000aff 9160 00a4 		    lds	    r22, DELTAT_L		;\
000b01 9170 00a5     		lds	    r23, DELTAT_H		;/ r23:r22 = dT
000b03 d90b      		    rcall	MUL32X16		    ; r18:r17:r16 = dA
000b04 9130 00b6 		    lds	    r19, LFO2_FRAC_L
000b06 9140 00b7 		    lds	    r20, LFO2_FRAC_H
000b08 9150 00b8     		lds	    r21, LFO2_INTEGR
000b0a 5850      		    subi    r21, 128
000b0b e0f0      		    ldi	    r31, 0			    ; flag = 0
000b0c 91e0 00b5 		    lds	    r30, LFO2PHASE
000b0e 23ee      		    tst	    r30
000b0f f4a1      		    brne	MLP_LFO2FALL
                 
                 ;rising phase:
                 
                 MLP_LFO2RISE:
000b10 9160 00c8             lds	    r22, LFO2TOP_0		;\
000b12 9170 00c9 		    lds	    r23, LFO2TOP_1		; > r24:r23:r22 = Amax
000b14 9180 00ca 		    lds	    r24, LFO2TOP_2		;/
000b16 0f30      		    add	    r19, r16		    ;\
000b17 1f41          		adc	    r20, r17		    ; > A += dA
000b18 1f52      		    adc	    r21, r18		    ;/
000b19 f020      		    brcs	MLP_LFO2TOP
000b1a 1736      		    cp	    r19, r22		    ;\
000b1b 0747      		    cpc	    r20, r23		    ; > A - Amax
000b1c 0758      		    cpc	    r21, r24		    ;/
000b1d f0c8      		    brlo	MLP_LFO2X		    ; skip when A < Amax
                 
                 ;A reached top limit:
                 
                 MLP_LFO2TOP:
000b1e 2f36                  mov	    r19, r22		    ;\
000b1f 2f47      		    mov	    r20, r23		    ; > A = Amax
000b20 2f58      		    mov	    r21, r24		   	;/
000b21 e0e1      		    ldi	    r30, 1			    ; begin of falling
000b22 e0f1      		    ldi	    r31, 1			    ; flag = 1
000b23 c013      		    rjmp	MLP_LFO2X
                 
                 ;falling phase:
                 
                 MLP_LFO2FALL:
000b24 9160 00c5             lds	    r22, LFO2BOTTOM_0	;\
000b26 9170 00c6 		    lds	    r23, LFO2BOTTOM_1	; > r24:r23:r22 = Amin
000b28 9180 00c7 		    lds	    r24, LFO2BOTTOM_2	;/
000b2a 1b30          		sub	    r19, r16		    ;\
000b2b 0b41      		    sbc	    r20, r17		    ; > A -= dA
000b2c 0b52      		    sbc	    r21, r18		    ;/
000b2d f020      		    brcs	MLP_LFO2BOTTOM
000b2e 1763      		    cp	    r22, r19		    ;\
000b2f 0774      		    cpc	    r23, r20		    ; > Amin - A
000b30 0785      		    cpc 	r24, r21		    ;/
000b31 f028      		    brlo	MLP_LFO2X		    ; skip when A > Amin
                 
                 ;A reached bottom limit:
                 
                 MLP_LFO2BOTTOM:
000b32 2f36                  mov	    r19, r22		    ;\
000b33 2f47      		    mov	    r20, r23		    ; > A = Amin
000b34 2f58      		    mov	    r21, r24		    ;/
000b35 e0e0      		    ldi	    r30, 0			    ; begin of rising
000b36 e0f1      		    ldi	    r31, 1			    ; flag = 1
                 
                 MLP_LFO2X:
000b37 93e0 00b5             sts	    LFO2PHASE, r30
000b39 5850      		    subi	r21, 128		    ; r21,r20:r19 = LFO2 tri wave
000b3a 9330 00b6 		    sts	    LFO2_FRAC_L, r19	;\
000b3c 9340 00b7 		    sts	    LFO2_FRAC_H, r20	; > store LFO2 value
000b3e 9350 00b8     		sts	    LFO2_INTEGR, r21	;/
                 
000b40 5850      			subi	r21, $80			; remove sign
000b41 9350 00d7 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Envelope Generation  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;			Envelope is routed to amplitude and filter cutoff
                 
                 .INCLUDE "envelope.inc"
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Envelope Generation  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;			Envelope is routed to amplitude and filter cutoff
                 
                 ;check envelope phase:
000b43 9110 00a6 		    lds	    r17, ENVPHASE
000b45 9100 0175 		    lds	    r16, KNOB_AMP_ATTACK
                 
000b47 3011      MLP_PHASE:  cpi	    r17, 1
000b48 f069      		    breq    MLP_ENVAR		    ; when "attack"
000b49 9100 007e 			lds		r16, DECAYTIME
000b4b 3012      			cpi		r17, 2
000b4c f049      			breq	MLP_ENVAR			; when "decay"
000b4d 9100 0080 		    lds	    r16, RELEASETIME
000b4f 3014      		    cpi	    r17, 4
000b50 f029      		    breq	MLP_ENVAR		    ; when "release"
000b51 9160 007f 			lds		r22, SUSTAINLEVEL
000b53 3013      			cpi		r17, 3			; when sustain
000b54 f139      			breq	MLP_ESUSTAIN
000b55 c03a      			rjmp	MLP_EEXIT		    ; when "stop" or "sustain"
                 
                 ;calculate dL:
                 
                 MLP_ENVAR:
000b56 d91b                  rcall	ADCTORATE           ; r19:r18:r17:r16 = rate of rise/fall
000b57 9160 00a4 		    lds	    r22, DELTAT_L		;\
000b59 9170 00a5 		    lds	    r23, DELTAT_H		;/ r23:r22 = dT
000b5b d8b3      		    rcall	MUL32X16		    ; r18:r17:r16 = dL
                 
                 ;add/subtract dL to/from L:
000b5c 9130 00a7 		    lds	    r19, ENV_FRAC_L		;\
000b5e 9140 00a8 		    lds	    r20, ENV_FRAC_H		; > r21:r20:r19 = L
000b60 9150 00a9     		lds	    r21, ENV_INTEGR		;/
000b62 9160 00a6 		    lds	    r22, ENVPHASE
000b64 3064      		    cpi	    r22, 4
000b65 f0d1      		    breq    MLP_ERELEASE
                 
                 MLP_EATTACK:
000b66 3062      			cpi	    r22, 2				
000b67 f049      		    breq    MLP_EDECAY			
000b68 0f30      		    add	    r19, r16		    ;\
000b69 1f41      		    adc	    r20, r17		    ; > r21:r20:r19 = L + dL
000b6a 1f52      		    adc	    r21, r18		    ;/
000b6b f4f0      		    brcc	MLP_ESTORE
                 
                 ;L reached top limit:
000b6c ef3f      		    ldi	    r19, 255		    ;\
000b6d ef4f      		    ldi	    r20, 255		    ; > L = Lmax
000b6e ef5f      		    ldi	    r21, 255		    ;/
000b6f e002      		    ldi	    r16, 2			    ; now decay
000b70 c017      		    rjmp	MLP_ESTOREP
                 
                 MLP_EDECAY:
000b71 1b30                  sub	    r19, r16		    ;\
000b72 0b41      		    sbc	    r20, r17		    ; > r21:r20:r19 = L - dL
000b73 0b52      		    sbc	    r21, r18		    ;/		
000b74 f078      			brcs	MLP_BOTTOM 			; Exit if we went past bottom level
000b75 9160 007f 			lds 	r22, SUSTAINLEVEL
000b77 1765      			cp		r22, r21				
000b78 f088      			brlo 	MLP_ESTORE			; Keep going if we haven't hit sustain level
000b79 e003      			ldi		r16, 3			; now sustain
000b7a 9300 00a6 			sts		ENVPHASE, r16		; store phase
                 MLP_ESUSTAIN:
000b7c 2733      			clr		r19			; correct sustain level after decay is done
000b7d 2744      			clr		r20
000b7e 2f56      			mov		r21, r22
000b7f c00a      			rjmp	MLP_ESTORE
                 			
                 MLP_ERELEASE:
000b80 1b30                  sub	    r19, r16		    ;\
000b81 0b41      		    sbc	    r20, r17		    ; > r21:r20:r19 = L - dL
000b82 0b52      		    sbc	    r21, r18		    ;/
000b83 f430      		    brcc	MLP_ESTORE
                 
                 ;L reached bottom limit:
                 MLP_BOTTOM:
000b84 e030      		    ldi	    r19, 0			    ;\
000b85 e040      		    ldi	    r20, 0			    ; > L = 0
000b86 e050      		    ldi	    r21, 0			    ;/
000b87 e000      		    ldi	    r16, 0			    ; stop
                 
                 MLP_ESTOREP:
000b88 9300 00a6             sts	ENVPHASE, r16		    ; store phase
                 
                 MLP_ESTORE:
000b8a 9330 00a7             sts	    ENV_FRAC_L, r19		;\
000b8c 9340 00a8 		    sts	    ENV_FRAC_H, r20		; > store L
000b8e 9350 00a9 		    sts	    ENV_INTEGR, r21		;/
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Note Handler  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Processes note gating, portamento, note pitch
                 
                 .INCLUDE "note_handler.inc"
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Note Handler  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Processes note gating, portamento, note pitch
                 			
                 			;-----
                             ;GATE:
                             ;-----
000b90 9100 009e 		    lds	    r16, GATE
000b92 2300      		    tst	    r16			        ; check GATE
000b93 f439      		    brne	MLP_KEYON
                 
                 ;no key is pressed:
                 
                 MLP_KEYOFF:
000b94 e004                  ldi	    r16,4			    ;\
                 
                 			; don't restart envelope release if it's already stopped.
000b95 9110 00a6 			lds		r17, ENVPHASE
000b97 2311      			tst		r17
000b98 f119      			breq	MLP_NOTEON			; Don't put envelope 1 in release mode if it is already stopped	
                 
000b99 9300 00a6 		    sts	    ENVPHASE, r16		; "release"
                 
                 ;key is pressed:
                 
                 MLP_KEYON:
000b9b 9100 009f             lds	    r16, GATEEDGE
000b9d 2300      		    tst	    r16		            ; Z=0 when key has just been pressed
000b9e f0e9      		    breq	MLP_NOTEON
                 
                 ;key has just been pressed:
000b9f e000      		    ldi	    r16, 0			    ;\
000ba0 9300 009f 		    sts	    GATEEDGE, r16		;/ GATEEDGE = 0			
000ba2 9100 0088 		    lds	    r16, PORTACNT		;\
000ba4 2300      		    tst	    r16			        ; \
000ba5 f019      		    breq	MLP_KEYON1		    ;  > if ( PORTACNT != 0 )
000ba6 950a      		    dec	    r16			        ; /    PORTACNT--
000ba7 9300 0088 		    sts	    PORTACNT, r16		;/
                 
                 MLP_KEYON1:
                 
                 ;envelope starts:	   
000ba9 e001      			ldi		r16, 1
000baa 9300 00a6 		    sts	    ENVPHASE, r16		; attack
                 
                 			;ldi	    R16, 0
                 		    ;sts	    ENV_FRAC_L, R16		;\
                 		    ;sts	    ENV_FRAC_H, R16		; > ENV = 0
                 		    ;sts	    ENV_INTEGR, R16		;/
                  
                 
                 ; LFO starts when note triggered if SW_LFO_RETRIGGER = 0 (defaults to ON)
                 
                 
000bac 9100 0078 		    lds	    r16, PATCH_SWITCH1
000bae fd05      		    sbrc 	r16, SW_LFO_RETRIGGER	
000baf c00c      		    rjmp	MLP_NOTEON
                 
000bb0 ef0f      		    ldi	    r16, 255		    ;\
000bb1 ef1f      		    ldi	    r17, 255		    ; > A = Amax
000bb2 e72f      		    ldi	    r18, 127		    ;/
000bb3 9300 00b1 		    sts	    LFO_FRAC_L, r16		;\
000bb5 9310 00b2 		    sts	    LFO_FRAC_H, r17		; > store A
000bb7 9320 00b3 		    sts	    LFO_INTEGR, r18		;/
000bb9 e001      		    ldi	    r16, 1			    ;\
000bba 9300 00b0 		    sts	    LFOPHASE, r16		;/ begin falling
                 
                 
                 MLP_NOTEON:
                             ;-------------
                             ;DCO A, DCO B:
                             ;-------------
000bbc e090      		    ldi	    r25, 0			    ;\
000bbd e060      		    ldi	    r22, 0			    ; > r23,r22:r25 = note# 0..127
000bbe 9170 0065 		    lds	    r23, LFONOTE		;/
000bc0 3f7f      		    cpi	    r23, 255
000bc1 f411      			brne	MLP_NLIM2
000bc2 c0b8      		    rjmp	MLP_VCOX
                 
                 ;note# limited to 36..96:
                 
                 MLP_NLIM1:
000bc3 507c                  subi	r23, 12
                 
                 MLP_NLIM2:
000bc4 3671                  cpi	    r23, 97
000bc5 f7e8      		    brsh	MLP_NLIM1
000bc6 c001      		    rjmp	MLP_NLIM4
                 
                 MLP_NLIM3:
000bc7 5f74                  subi	r23, 244
                 
                 MLP_NLIM4:
000bc8 3274                  cpi	    r23, 36
000bc9 f3e8      		    brlo	MLP_NLIM3
                 
                 ;transpose 1 octave down:
000bca 507c      		    subi	r23, 12			    ; n -= 12		Note range limited to 24..84
                 
                 ;portamento:
000bcb 9190 0085 		    lds	    r25, NOTE_L		    ;\
000bcd 91a0 0086 		    lds	    r26, NOTE_H		    ; > r27,r26:r25 = nCurr
000bcf 91b0 0087 		    lds	    r27, NOTE_INTG		;/
000bd1 9100 0088 		    lds	    r16, PORTACNT		;\
000bd3 2300          		tst	    r16			        ; > jump when it's the first note
000bd4 f581      		    brne	MLP_PORTAWR	        ;/  (PORTACNT != 0)
000bd5 9100 0176 		    lds	    r16, PORTAMENTO						
000bd7 d89a          		rcall	ADCTORATE
000bd8 936f      		    push    r22
000bd9 937f      		    push	r23
000bda 2f62      		    mov	    r22, r18		    ;\ r23:r22 = portamento rate
000bdb 2f73      		    mov	    r23, r19		    ;/ 65535..27
000bdc e000      		    ldi	    r16, 0
000bdd e010      		    ldi	    r17, 0
000bde 9120 00a4 		    lds	    r18, DELTAT_L
000be0 9130 00a5 		    lds	    r19, DELTAT_H
000be2 e043      		    ldi	    r20, 3
000be3 d815      		    rcall	SHR32
000be4 d82a      		    rcall	MUL32X16		    ; r18,r17:r16 = nDelta
000be5 917f      		    pop	    r23
000be6 916f      		    pop	    r22
000be7 2f30      		    mov	    r19, r16		    ;\
000be8 2f41      		    mov	    r20, r17		    ; > r21,r20:r19 = nDelta
000be9 2f52      		    mov	    r21, r18		    ;/
000bea 9190 0085 		    lds	    r25, NOTE_L		    ;\
000bec 91a0 0086 		    lds	    r26, NOTE_H		    ; > r27,r26:r25 = nCurr
000bee 91b0 0087 		    lds	    r27, NOTE_INTG		;/
000bf0 176a      		    cp	    r22, r26		    ;\ nEnd - nCurr
000bf1 077b      		    cpc	    r23, r27		    ;/ Cy = (nEnd < nCurr)
000bf2 f438      		    brsh	MLP_PORTAADD
                 
                 MLP_PORTAMIN:
000bf3 1b93                  sub	    r25, r19			;\
000bf4 0ba4      		    sbc	    r26, r20			; > nCurr -= nDelta
000bf5 0bb5      		    sbc	    r27, r21			;/
000bf6 176a      		    cp	    r22, r26			;\ nEnd - nCurr;
000bf7 077b      		    cpc	    r23, r27		    ;/ Cy = (nEnd < nCurr)
000bf8 f050      		    brlo	MLP_PORTA1
000bf9 c006      		    rjmp	MLP_PORTAEND
                 
                 MLP_PORTAADD:
000bfa 0f93                  add	    r25, r19		    ;\
000bfb 1fa4      		    adc	    r26, r20		    ; > nCurr += nDelta
000bfc 1fb5      		    adc	    r27, r21		    ;/
000bfd 176a      		    cp	    r22, r26		    ;\ nEnd - nCurr;
000bfe 077b      		    cpc	    r23, r27		    ;/ Cy = (nEnd < nCurr)
000bff f418      		    brsh	MLP_PORTA1
                 
                 MLP_PORTAEND:
000c00 e090                  ldi	    r25, 0			    ;\
000c01 2fa6      		    mov	    r26, r22			; > nCurr = nEnd
000c02 2fb7          		mov	    r27, r23			;/
                 
                 MLP_PORTA1:
000c03 2f6a                  mov	    r22, r26
000c04 2f7b      		    mov	    r23, r27
                 
                 MLP_PORTAWR:
000c05 9390 0085         	sts	NOTE_L, r25
000c07 9360 0086 		    sts	    NOTE_H, r22
000c09 9370 0087 		    sts	    NOTE_INTG, r23
                 
                 ;pitch bender (-12..+12):
000c0b 9100 0067 		    lds	    r16, MIDIPBEND_L	;\ r17,r16 = P.BEND
000c0d 9110 0068     		lds	    r17, MIDIPBEND_H	;/	-128,000..+127,996
000c0f e025      		    ldi	    r18, 5			    ;\ r17,r16 = P.BEND/32
000c10 940e 03f0 		    call	ASr16			    ;/	-4,000..+3,999 //ML--->>changed rcall in call to avoid error " relative branch out of reach"
000c12 2f20      		    mov	    r18, r16		    ;\ r19,r18 = P.BEND/32
000c13 2f31      		    mov	    r19, r17		    ;/	-4,000..+3,999
000c14 0f02      		    add	    r16, r18		    ;\ r17,r16 = 2/32*P.BEND
000c15 1f13      		    adc	    r17, r19		    ;/	-8,000..+7,999
000c16 0f02      		    add	    r16, r18		    ;\ r17,r16 = 3/32*P.BEND
000c17 1f13      		    adc	    r17, r19		    ;/	-12,000..+11,999
000c18 0f60      		    add	    r22, r16		    ;\
000c19 1f71      		    adc	    r23, r17		    ;/ add P.BEND
                 
                 MLP_PBX:
                 ;for "DCF KBD TRACK":
000c1a 9370 008b 		    sts	    PITCH, r23		    ; n = 0..108
                 
                 
                 ;LFO modulation:
000c1c 9100 0078 		    lds	    r16, PATCH_SWITCH1	; Check LFO destination bit. 
000c1e fd03      		    sbrc	r16, SW_LFO_DEST	; DCF is 0, DCO is 1
000c1f c020      		    rjmp		MLP_VCOLFOX		    ; exit when LFO=DCF
000c20 9100 00b4 		    lds	    r16, LFOVALUE		; r16 = LFO	    -128..+127
000c22 9110 0069     		lds	    r17, LFOLEVEL		; r17 = LFO level	0..255
                 
000c24 9120 0170 			lds		r18, LFOFREQ		; If LFO rate is = 0, turn LFO off
000c26 3020      			cpi		r18, 0
000c27 f009      			breq	LFO_OFF
000c28 c001      			rjmp	LFO_NONLINEAR
                 LFO_OFF:
000c29 e010      			ldi		r17, 0				; Set LFO level to zero if switch is off
                 
                 LFO_NONLINEAR:
                 ;nonlinear potentiometer function:
000c2a 2f21      		    mov	    r18, r17		    ; r18 = LL
000c2b 9516      		    lsr	    r17			        ; r17 = LL/2
000c2c 3820      		    cpi	    r18, 128
000c2d f010      		    brlo	MLP_OM1			    ; skip if LL = 0..127
000c2e 5810      		    subi	r17, 128		    ; r17 = 0,5*LL-128    -64..-1
000c2f 0f12      		    add	    r17, r18		    ; r17 = 1,5*LL-128    +64..254
                 
                 MLP_OM1:
000c30 0301      			mulsu	r16, r17		; LFOVALUE*LFOLEVEL
000c31 0180      			movw	r16, r0
000c32 e024      		    ldi	    r18, 4			    ;\
000c33 940e 03f0 		    call	ASr16			    ;/ r17,r16 = LFO*mod / 16  //ML--->>changed rcall in call to avoid error " relative branch out of reach"
000c35 0f60      		    add	    r22, r16		    ;\
000c36 1f71      		    adc	    r23, r17		    ;/ add LFO to note #
                 
                 ;limiting to 0..108
000c37 2377      		    tst	    r23
000c38 f41a      		    brpl	MLP_VCOLFO1
000c39 e060      		    ldi	    r22, 0
000c3a e070      		    ldi	    r23, 0
000c3b c004      		    rjmp	MLP_VCOLFOX
                 
                 MLP_VCOLFO1:
000c3c 367d                  cpi	    r23, 109
000c3d f010      		    brlo	MLP_VCOLFOX
000c3e e060      		    ldi	    r22, 0
000c3f e67c      		    ldi	    r23, 108
                 
                 MLP_VCOLFOX:
000c40 936f                  push	r22			        ;\ note# = 0..108
000c41 937f      		    push	r23			        ;/ store for phase delta B
                 
                 ; determine the wavetable for osc A: note = 0..108
                 
                 ; Track which wavetable to use:
000c42 2f97      			mov		r25,	r23		; Store a copy of the note number in r25
000c43 509d      			subi	r25,	13			; 13..108
000c44 f408      			brcc	WTA_NOUFL
000c45 2799      			clr		r25
                 WTA_NOUFL:
000c46 9596      			lsr		r25
000c47 9596      			lsr		r25			; (108-12-1)/8 = 11
000c48 9596      			lsr		r25			; 0..11
000c49 9390 00d4 			sts		WAVETABLE_A, r25	; Save wavetable 0..11 for lookup when generating oscillator
                 
                 ;phase delta A:
                 ;octave A:
000c4b d812      		    rcall	NOTERECALC		    ; r23,r22 = m12 (0,0..11,996),
                 						                ; r20 = n12 (0..11)
000c4c 940e 043b 		    call	LOAD_DELTA		    ; r19:r18:r17:r16 = delta //ML--->>changed rcall in call to avoid error " relative branch out of reach"
000c4e 940e 0404 		    call	SHL32			    ; r19:r18:r17:r16 = delta*(2^exp) //ML--->>changed rcall in call to avoid error " relative branch out of reach"
                 
                 			  ; store delta
000c50 9310 00ce   			sts DELTAA_0,r17
000c52 9320 00cf   			sts DELTAA_1,r18
000c54 9330 00d0   			sts DELTAA_2,r19
                 
                 ;phase delta B:
000c56 917f      		    pop	    r23			        ;\
000c57 916f      		    pop	    r22			        ;/ n
                 
                 ;detune B:
000c58 9100 007b 		    lds	    r16, DETUNEB_FRAC	;\ r17,r16 = detuneB
000c5a 9110 007c 		    lds	    r17, DETUNEB_INTG	;/ -128,000..+127,996
000c5c e024      		    ldi	    r18, 4			    ;\ r17,r16 = detuneB / 16
000c5d 940e 03f0     		call	ASR16			    ;/ -8,0000..+7,9998 //ML--->>changed rcall in call to avoid error " relative branch out of reach"
000c5f 0f60      		    add	    r22, r16		    ;\
000c60 1f71      		    adc	    r23, r17		    ;/
                 
                 ;octave B:
000c61 9100 0078             lds	    r16, PATCH_SWITCH1	; octave B: 0=down, 1=up
                 		    
                 			; Shift down
000c63 ef94      			ldi		r25, 244			; store value in temp register
000c64 ff01      			sbrs	r16, SW_OSCB_OCT
000c65 0f79      		    add		r23, r25			; octave shift down
                 
                 			; Shift osc b one octave down
                 			;sbrc	r16, SW_OSCB_OCT
                 			;subi	r23, 244		    ; n += 12
                 
                 ; determine the wavetable for osc B; r23: note = 0..108,
                 ; Track which wavetable to use:
000c66 2f97      			mov		r25, r23			; Store a copy of the note number in r25
000c67 509d      			subi	r25, 13				; 13..108
000c68 f408      			brcc	WTB_NOUFL
000c69 2799      			clr		r25
                 WTB_NOUFL:
000c6a 9596      			lsr		r25
000c6b 9596      			lsr		r25					; (108-12-1)/8 = 11
000c6c 9596      			lsr		r25					; 0..11
000c6d 9390 00d5 			sts		WAVETABLE_B, r25	; Save wavetable 0..15 for lookup when generating oscillator
                 			
000c6f 940e 045e 		    call	NOTERECALC		    ; r23,r22 = m12 (0,0..11,996), //ML--->>changed rcall in call to avoid error " relative branch out of reach"
                 						                ; r20 = n12 (0..11)
000c71 940e 043b 		    call	LOAD_DELTA		    ; r19:r18:r17:r16 = delta  //ML--->>changed rcall in call to avoid error " relative branch out of reach"
000c73 940e 0404 		    call	SHL32			    ; r19:r18:r17:r16 = delta*(2^exp) //ML--->>changed rcall in call to avoid error " relative branch out of reach"
                 
000c75 9310 00d1 			sts DELTAB_0,r17
000c77 9320 00d2   			sts DELTAB_1,r18
000c79 9330 00d3   			sts DELTAB_2,r19
                 
                 
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Filter Modulation  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Processes filter LFO modulation and enveloping
                 
                 .INCLUDE "filter_modulation.inc"
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Filter Modulation  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Processes filter LFO modulation and enveloping
                 
                             ;----
                             ;Filter
                             ;----
                 
                 	        ;LFO mod:
000c7b e0e0      		    ldi	    r30, 0			    ;\
000c7c e0f0      		    ldi	    r31, 0			    ;/ sum = 0
                 
000c7d 9100 0078 		    lds	    r16, PATCH_SWITCH1	; Check LFO destination bit. 
000c7f ff03      		    sbrs	r16, SW_LFO_DEST	; DCF is 0, DCO is 1
000c80 940c 0c94 		    jmp		MLP_DCF0		    ; exit when LFO=DCO
000c82 9100 00b4 		    lds	    r16, LFOVALUE		; r16 = LFO	    -128..+127
000c84 9110 0069 		    lds	    r17, LFOLEVEL		; r17 = DCF LFO MOD	0..255
000c86 3b1a      			cpi		r17, 186
000c87 f008      			brlo	lfo_freq
000c88 eb1a      			ldi		r17, 186			; Limit LFOLEVEL to 186 if destination is VCF
                 LFO_FREQ:
000c89 9120 0170 			lds		r18, LFOFREQ		; If LFO rate is 0, turn LFO off
000c8b 3020      			cpi		r18, 0
000c8c f009      			breq	LFO_OFF_DCF
000c8d c001      			rjmp	MLP_DCF
                 
                 LFO_OFF_DCF:
000c8e e010      			ldi		r17, 0				; Set LFO level to zero if switch is off
                 
                 MLP_DCF:
000c8f 0301      			mulsu	r16, r17
000c90 2de1      			mov		r30, r1
000c91 e0f0      			ldi		r31, 0
000c92 1c11      			rol		r1					; r1.7 --> Cy (sign)
000c93 0bff      			sbc		r31, r31			; sign extension to r31
                 
                 MLP_DCF0:
                 
                 ;ENV mod:
000c94 9100 00a9             lds	    r16, ENV_INTEGR	; Get the integer part of the envelope 
000c96 9110 00ae 			lds		r17, VELOCITY_ENVMOD ; Use MIDI velocity * envmod 			
000c98 9f01      			mul		r16, r17
000c99 0180      			movw 	r16,r0				; r17,r16 = AMPLITUDE ENVELOPE * ENVMOD		    
000c9a 1f00          		rol	    r16			        ; Cy = r16.7 (for rounding)
000c9b 1fe1      		    adc	    r30, r17
000c9c 1df8      		    adc	    r31, ZERO
                 
                 ;KBD TRACK:
                 /*
                 		    lds	    r16, PITCH		    ; r16 = n (12/octave)	0..96
                 		    lsl	    r16			        ; r16 = 2*n (24/octave)	0..192
                 		    subi	r16, 96	        	; r16 = 2*(n-48) (24/octave)   -96..+96
                 		    ldi	    r17, 171
                 			
                 			mulsu	r16, r17
                 			movw	r16, r0
                 		    ldi	    r18, 0			    ;\
                 		    sbrc	r17, 7			    ; > r18 = sign extension
                 		    ldi	    r18, 255		    ;/  of r17
                 		    add	    r30, r17
                 		    adc	    r31, r18
                 */
                 
                 MLP_DCF3:
                 ;CUTOFF:
000c9d 9100 0173 		    lds	    r16, CUTOFF
000c9f 2711      		    clr	    r17
000ca0 0f0e      		    add	    r16, r30
000ca1 1f1f          		adc	    r17, r31
000ca2 2311      		    tst	    r17
000ca3 f412      		    brpl	MLP_DCF1
000ca4 e000      		    ldi	    r16, 0
000ca5 c002      		    rjmp	MLP_DCF2
                 
                 MLP_DCF1:
000ca6 f009                  breq	MLP_DCF2
000ca7 ef0f      		    ldi	    r16, 255
                 
                 MLP_DCF2:
                 				
                 			; disable old/new value check. Just update.
                 			;lds		r17, OLD_CUTOFF
                 			;cp		r16, r17
                 			;breq	MLP_VCAENV
                 
                 mlp_cutoff:
                 			;sts		OLD_CUTOFF, r16
                 
000ca8 9506      			lsr	    r16			        ; 0..127
000ca9 2f10      			mov		r17, r16			; Copy unscaled cutoff to r17
000caa e4e5      			ldi		r30, low( TAB_VCF)	;\
000cab e0f0      			ldi		r31, high( TAB_VCF)	;/ Z = &Tab
000cac 940e 0465 			call	TAB_BYTE		; r16 = 1.. 255 //ML--->>changed rcall in call to avoid error " relative branch out of reach"
000cae 9300 0089 			sts		LPF_I, r16		; Store Lowpass F value (from exponential table)
                 
                 mlp_output_cutoff:
                 
                 			; Scale analog filter so it's slightly open at lowest knob level (avoids low end filter emphasis)
000cb0 2f01      			mov		r16, r17		; Copy unscaled cutoff back to r16
000cb1 e8e5      			ldi		r30, low( TAB_VCF2)	;\
000cb2 e0f0      			ldi		r31, high( TAB_VCF2)	;/ Z = &Tab
000cb3 940e 0465 			call	TAB_BYTE		; r16 = 1.. 255 //ML--->>changed rcall in call to avoid error " relative branch out of reach"
                 
000cb5 bd03      
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			DCA Output  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Look up DCA value and output the DCA level amount to the second channel of the DAC chip. 
                 
                 .INCLUDE "dca_output.inc"	
                 
                 ; Meeblip anode		Version 1.10
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			DCA Output  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Look up DCA value and output the DCA level amount to the second channel of the DAC chip. 
                 
                 
                             ;---------------
                             ;sound level:
                             ;---------------
                 
                 MLP_VCAENV:
000cb6 9100 00a9             lds	    r16, ENV_INTEGR		; 
000cb8 eee5      			ldi		r30, low( TAB_VCA)	;\
000cb9 e0f0      			ldi		r31, high( TAB_VCA)	;/ Z = &Tab
000cba 940e 0465 			call	TAB_BYTE			; r0 = 2..255 (load LEVEL into r16) //ML--->>changed rcall in call to avoid error " relative branch out of reach"
                 MLP_VCAOK:
000cbc 9300 008a 			sts		LEVEL,r16
                 
                 			; Non-zero starting level for DAC B to minimize envelope pop
                 
000cbe e6e0      			ldi		r30, 96		; Add 96 to level
000cbf 0f0e      			add		r16, r30	
000cc0 f408      			brcc	MLP_DCAOUT  ; if value is less than 255, output it
000cc1 ef0f      			ldi		r16, 255	; if carry bit is set, force level to 255
                 
                 
                 MLP_DCAOUT:
                 
                 			; DCA LEVEL is in r16. Now pack it in two bytes for the DCA. 
                 			; Control bit mask 0001 0001
                 			;ldi		r17, 0b00010001 	; Write data to P0
                 
                 			; Control bit mask xxxx1011
000cc2 e01b      			ldi		r17, 0b00001011 		; outputs signal through DACB 
                 
                 ; Shift MSB data word in r17:r16 left 4 bits, so it's packed 1011 dddd dddd xxxx
                 
                 ; Use DACB for DCA LEVEL amount
000cc3 0f00      			lsl	    r16
000cc4 1f11      		    rol	    r17		; shifted 1 bit left
000cc5 0f00      			lsl	    r16
000cc6 1f11      		    rol	    r17		; shifted 2 bits left
000cc7 0f00      			lsl	    r16
000cc8 1f11      		    rol	    r17		; shifted 3 bits left
000cc9 0f00      			lsl	    r16
000cca 1f11      		    rol	    r17		; shifted 4 bits left
                 
                 			; Pack LEVEL into two bytes for output to the DAC in the sample loop
000ccb 9310 00e3 			sts		LEVEL_H, r17
000ccd 9300 00e2 
                 		
                 
                 ;-----------------------------------
                 ;pseudo-random shift register:
                 ;-----------------------------------
                 	        ;BIT = SHIFTREG.23 xor SHIFTREG.18
                 	        ;SHIFTREG = (SHIFTREG << 1) + BIT
000ccf 9100 00bc 		    lds	    r16, SHIFTREG_0
000cd1 9110 00bd 		    lds	    r17, SHIFTREG_1
000cd3 9120 00be 		    lds	    r18, SHIFTREG_2
000cd5 fb27          		bst	    r18, 7			    ;\
000cd6 f930      		    bld	    r19, 0			    ;/ r19.0 = SHIFTREG.23
000cd7 fb22      		    bst	    r18, 2			    ;\
000cd8 f940      		    bld	    r20, 0			    ;/ r20.0 = SHIFTREG.18
000cd9 2734      		    eor	    r19, r20			    ;r19.0 = BIT
000cda 9536      		    lsr	    r19			        ; Cy = BIT
000cdb 1f00      		    rol	    r16			        ;\
000cdc 1f11      		    rol	    r17			        ; > r18:r17:r16 =
000cdd 1f22      		    rol	    r18			        ;/  = (SHIFTREG << 1) + BIT
000cde 9300 00bc 		    sts	    SHIFTREG_0, r16
000ce0 9310 00bd 		    sts	    SHIFTREG_1, r17
000ce2 9320 00be 		    sts	    SHIFTREG_2, r18
                 
                 ;------------------------
                 ;....ML try to refresh display:
                 ;------------------------
                 //rcall MYLCD_CLEAR
000ce4 d830      rcall MYLCD_UPDATE
                 
                 
                 
                 ;------------------------
                 ;back to the main loop:
                 ;------------------------
000ce5 cc62      		    rjmp	MAINLOOP
                 
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;
                 ;			Wavetable data  
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Bandlimited sawtooth wavetables (each table is 256 bytes long, unsigned integer)
                 
                 .INCLUDE "wavetables.inc"
                 
                 ; Meeblip anode		Version 1.00
                 ;
                 ;
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;			Wavetables  
                 ;-------------------------------------------------------------------------------------------------------------------
                 ;            
                 ;			Bandlimited sawtooth wavetables (each table is 256 bytes long, unsigned integer)
                 
                 INV_SAW0:
                 
                 	; base freqency: 25.96 Hz, discretes: 701, rms: 7.95, min: -0.87, max: 0.87
                 
000ce6 1280
000ce7 1511
000ce8 1616
000ce9 1816      	.db	  128,   18,   17,   21,    22,   22,   22,   24
000cea 1919
000ceb 1b1a
000cec 1d1c
000ced 1f1e      	.db	   25,   25,   26,   27,    28,   29,   30,   31
000cee 2020
000cef 2221
000cf0 2423
000cf1 2625      	.db	   32,   32,   33,   34,    35,   36,   37,   38
000cf2 2727
000cf3 2928
000cf4 2b2a
000cf5 2d2c      	.db	   39,   39,   40,   41,    42,   43,   44,   45
                 
000cf6 2e2d
000cf7 302f
000cf8 3231
000cf9 3433      	.db	   45,   46,   47,   48,    49,   50,   51,   52
000cfa 3534
000cfb 3736
000cfc 3938
000cfd 3a3a      	.db	   52,   53,   54,   55,    56,   57,   58,   58
000cfe 3c3b
000cff 3e3d
000d00 403f
000d01 4141      	.db	   59,   60,   61,   62,    63,   64,   65,   65
000d02 4342
000d03 4544
000d04 4746
000d05 4847      	.db	   66,   67,   68,   69,    70,   71,   71,   72
                 
000d06 4a49
000d07 4c4b
000d08 4d4d
000d09 4f4e      	.db	   73,   74,   75,   76,    77,   77,   78,   79
000d0a 5150
000d0b 5352
000d0c 5453
000d0d 5655      	.db	   80,   81,   82,   83,    83,   84,   85,   86
000d0e 5857
000d0f 5959
000d10 5b5a
000d11 5d5c      	.db	   87,   88,   89,   89,    90,   91,   92,   93
000d12 5f5e
000d13 6060
000d14 6261
000d15 6463      	.db	   94,   95,   96,   96,    97,   98,   99,  100
                 
000d16 6665
000d17 6766
000d18 6968
000d19 6b6a      	.db	  101,  102,  102,  103,   104,  105,  106,  107
000d1a 6d6c
000d1b 6e6d
000d1c 706f
000d1d 7271      	.db	  108,  109,  109,  110,   111,  112,  113,  114
000d1e 7373
000d1f 7574
000d20 7776
000d21 7978      	.db	  115,  115,  116,  117,   118,  119,  120,  121
000d22 7a7a
000d23 7c7b
000d24 7e7d
000d25 807f      	.db	  122,  122,  123,  124,   125,  126,  127,  128
                 
000d26 8080
000d27 8281
000d28 8483
000d29 8685      	.db	  128,  128,  129,  130,   131,  132,  133,  134
000d2a 8786
000d2b 8988
000d2c 8b8a
000d2d 8d8c      	.db	  134,  135,  136,  137,   138,  139,  140,  141
000d2e 8e8d
000d2f 908f
000d30 9291
000d31 9393      	.db	  141,  142,  143,  144,   145,  146,  147,  147
000d32 9594
000d33 9796
000d34 9998
000d35 9a9a      	.db	  148,  149,  150,  151,   152,  153,  154,  154
                 
000d36 9c9b
000d37 9e9d
000d38 a09f
000d39 a1a0      	.db	  155,  156,  157,  158,   159,  160,  160,  161
000d3a a3a2
000d3b a5a4
000d3c a7a6
000d3d a8a7      	.db	  162,  163,  164,  165,   166,  167,  167,  168
000d3e aaa9
000d3f acab
000d40 adad
000d41 afae      	.db	  169,  170,  171,  172,   173,  173,  174,  175
000d42 b1b0
000d43 b3b2
000d44 b4b3
000d45 b6b5      	.db	  176,  177,  178,  179,   179,  180,  181,  182
                 
000d46 b8b7
000d47 b9b9
000d48 bbba
000d49 bdbc      	.db	  183,  184,  185,  185,   186,  187,  188,  189
000d4a bfbe
000d4b c0bf
000d4c c2c1
000d4d c4c3      	.db	  190,  191,  191,  192,   193,  194,  195,  196
000d4e c6c5
000d4f c7c6
000d50 c9c8
000d51 cbca      	.db	  197,  198,  198,  199,   200,  201,  202,  203
000d52 cccc
000d53 cecd
000d54 d0cf
000d55 d2d1      	.db	  204,  204,  205,  206,   207,  208,  209,  210
                 
000d56 d3d3
000d57 d5d4
000d58 d7d6
000d59 d9d8      	.db	  211,  211,  212,  213,   214,  215,  216,  217
000d5a dad9
000d5b dcdb
000d5c dedd
000d5d e0df      	.db	  217,  218,  219,  220,   221,  222,  223,  224
000d5e e1e0
000d5f e3e2
000d60 e5e4
000d61 e7e6      	.db	  224,  225,  226,  227,   228,  229,  230,  231
000d62 e8e7
000d63 eaea
000d64 ebea
000d65 eeef      	.db	  231,  232,  234,  234,   234,  235,  239,  238
                 
                 
                 INV_SAW1:
                 	; base freqency: 41.20 Hz, discrets: 442, rms: 7.95, min: -0.88, max: 0.88
                 
000d66 1180
000d67 1510
000d68 1517
000d69 1916      	.db	  128,   17,   16,   21,    23,   21,   22,   25
000d6a 1919
000d6b 1c1a
000d6c 1d1c
000d6d 1f1e      	.db	   25,   25,   26,   28,    28,   29,   30,   31
000d6e 201f
000d6f 2222
000d70 2423
000d71 2625      	.db	   31,   32,   34,   34,    35,   36,   37,   38
000d72 2726
000d73 2928
000d74 2b2a
000d75 2c2c      	.db	   38,   39,   40,   41,    42,   43,   44,   44
                 
000d76 2e2d
000d77 302f
000d78 3231
000d79 3333      	.db	   45,   46,   47,   48,    49,   50,   51,   51
000d7a 3534
000d7b 3736
000d7c 3938
000d7d 3a39      	.db	   52,   53,   54,   55,    56,   57,   57,   58
000d7e 3c3b
000d7f 3e3d
000d80 403f
000d81 4140      	.db	   59,   60,   61,   62,    63,   64,   64,   65
000d82 4342
000d83 4544
000d84 4646
000d85 4847      	.db	   66,   67,   68,   69,    70,   70,   71,   72
                 
000d86 4a49
000d87 4c4b
000d88 4d4c
000d89 4f4e      	.db	   73,   74,   75,   76,    76,   77,   78,   79
000d8a 5150
000d8b 5352
000d8c 5453
000d8d 5655      	.db	   80,   81,   82,   83,    83,   84,   85,   86
000d8e 5857
000d8f 5959
000d90 5b5a
000d91 5d5c      	.db	   87,   88,   89,   89,    90,   91,   92,   93
000d92 5f5e
000d93 6060
000d94 6261
000d95 6463      	.db	   94,   95,   96,   96,    97,   98,   99,  100
                 
000d96 6665
000d97 6766
000d98 6968
000d99 6b6a      	.db	  101,  102,  102,  103,   104,  105,  106,  107
000d9a 6d6c
000d9b 6e6d
000d9c 706f
000d9d 7271      	.db	  108,  109,  109,  110,   111,  112,  113,  114
000d9e 7373
000d9f 7574
000da0 7776
000da1 7978      	.db	  115,  115,  116,  117,   118,  119,  120,  121
000da2 7a7a
000da3 7c7b
000da4 7e7d
000da5 807f      	.db	  122,  122,  123,  124,   125,  126,  127,  128
                 
000da6 8080
000da7 8281
000da8 8483
000da9 8685      	.db	  128,  128,  129,  130,   131,  132,  133,  134
000daa 8786
000dab 8988
000dac 8b8a
000dad 8d8c      	.db	  134,  135,  136,  137,   138,  139,  140,  141
000dae 8e8d
000daf 908f
000db0 9291
000db1 9393      	.db	  141,  142,  143,  144,   145,  146,  147,  147
000db2 9594
000db3 9796
000db4 9998
000db5 9a9a      	.db	  148,  149,  150,  151,   152,  153,  154,  154
                 
000db6 9c9b
000db7 9e9d
000db8 a09f
000db9 a1a0      	.db	  155,  156,  157,  158,   159,  160,  160,  161
000dba a3a2
000dbb a5a4
000dbc a7a6
000dbd a8a7      	.db	  162,  163,  164,  165,   166,  167,  167,  168
000dbe aaa9
000dbf acab
000dc0 adad
000dc1 afae      	.db	  169,  170,  171,  172,   173,  173,  174,  175
000dc2 b1b0
000dc3 b3b2
000dc4 b4b4
000dc5 b6b5      	.db	  176,  177,  178,  179,   180,  180,  181,  182
                 
000dc6 b8b7
000dc7 bab9
000dc8 bbba
000dc9 bdbc      	.db	  183,  184,  185,  186,   186,  187,  188,  189
000dca bfbe
000dcb c0c0
000dcc c2c1
000dcd c4c3      	.db	  190,  191,  192,  192,   193,  194,  195,  196
000dce c6c5
000dcf c7c7
000dd0 c9c8
000dd1 cbca      	.db	  197,  198,  199,  199,   200,  201,  202,  203
000dd2 cdcc
000dd3 cecd
000dd4 d0cf
000dd5 d2d1      	.db	  204,  205,  205,  206,   207,  208,  209,  210
                 
000dd6 d4d3
000dd7 d5d4
000dd8 d7d6
000dd9 d9d8      	.db	  211,  212,  212,  213,   214,  215,  216,  217
000dda dada
000ddb dcdb
000ddc dedd
000ddd e0de      	.db	  218,  218,  219,  220,   221,  222,  222,  224
000dde e1e1
000ddf e3e2
000de0 e4e4
000de1 e7e6      	.db	  225,  225,  226,  227,   228,  228,  230,  231
000de2 e7e7
000de3 ebea
000de4 ebe9
000de5 eff0      	.db	  231,  231,  234,  235,   233,  235,  240,  239
                 
                 
                 INV_SAW2:
                 	; base freqency: 65.41 Hz, discrets: 278, rms: 7.95, min: -0.85, max: 0.85
                 
000de6 1c80
000de7 1416
000de8 1414
000de9 1615      	.db	  128,   28,   22,   20,    20,   20,   21,   22
000dea 1a18
000deb 1c1b
000dec 1d1d
000ded 1e1e      	.db	   24,   26,   27,   28,    29,   29,   30,   30
000dee 201f
000def 2221
000df0 2423
000df1 2625      	.db	   31,   32,   33,   34,    35,   36,   37,   38
000df2 2727
000df3 2928
000df4 2a29
000df5 2c2b      	.db	   39,   39,   40,   41,    41,   42,   43,   44
                 
000df6 2e2d
000df7 302f
000df8 3231
000df9 3332      	.db	   45,   46,   47,   48,    49,   50,   50,   51
000dfa 3534
000dfb 3736
000dfc 3938
000dfd 3a3a      	.db	   52,   53,   54,   55,    56,   57,   58,   58
000dfe 3c3b
000dff 3e3d
000e00 3f3e
000e01 4140      	.db	   59,   60,   61,   62,    62,   63,   64,   65
000e02 4342
000e03 4544
000e04 4646
000e05 4847      	.db	   66,   67,   68,   69,    70,   70,   71,   72
                 
000e06 4a49
000e07 4c4b
000e08 4d4d
000e09 4f4e      	.db	   73,   74,   75,   76,    77,   77,   78,   79
000e0a 5150
000e0b 5252
000e0c 5453
000e0d 5655      	.db	   80,   81,   82,   82,    83,   84,   85,   86
000e0e 5857
000e0f 5959
000e10 5b5a
000e11 5d5c      	.db	   87,   88,   89,   89,    90,   91,   92,   93
000e12 5f5e
000e13 6160
000e14 6261
000e15 6463      	.db	   94,   95,   96,   97,    97,   98,   99,  100
                 
000e16 6565
000e17 6766
000e18 6968
000e19 6b6a      	.db	  101,  101,  102,  103,   104,  105,  106,  107
000e1a 6d6c
000e1b 6e6d
000e1c 706f
000e1d 7271      	.db	  108,  109,  109,  110,   111,  112,  113,  114
000e1e 7473
000e1f 7574
000e20 7776
000e21 7978      	.db	  115,  116,  116,  117,   118,  119,  120,  121
000e22 7a79
000e23 7c7b
000e24 7e7d
000e25 807f      	.db	  121,  122,  123,  124,   125,  126,  127,  128
                 
000e26 8080
000e27 8281
000e28 8483
000e29 8685      	.db	  128,  128,  129,  130,   131,  132,  133,  134
000e2a 8787
000e2b 8988
000e2c 8b8a
000e2d 8c8c      	.db	  135,  135,  136,  137,   138,  139,  140,  140
000e2e 8e8d
000e2f 908f
000e30 9291
000e31 9393      	.db	  141,  142,  143,  144,   145,  146,  147,  147
000e32 9594
000e33 9796
000e34 9998
000e35 9b9a      	.db	  148,  149,  150,  151,   152,  153,  154,  155
                 
000e36 9c9b
000e37 9e9d
000e38 9f9f
000e39 a1a0      	.db	  155,  156,  157,  158,   159,  159,  160,  161
000e3a a3a2
000e3b a5a4
000e3c a7a6
000e3d a8a7      	.db	  162,  163,  164,  165,   166,  167,  167,  168
000e3e aaa9
000e3f acab
000e40 aead
000e41 afae      	.db	  169,  170,  171,  172,   173,  174,  174,  175
000e42 b1b0
000e43 b3b2
000e44 b4b3
000e45 b6b5      	.db	  176,  177,  178,  179,   179,  180,  181,  182
                 
000e46 b8b7
000e47 bab9
000e48 bbba
000e49 bdbc      	.db	  183,  184,  185,  186,   186,  187,  188,  189
000e4a bfbe
000e4b c1c0
000e4c c2c2
000e4d c4c3      	.db	  190,  191,  192,  193,   194,  194,  195,  196
000e4e c6c5
000e4f c7c6
000e50 c9c8
000e51 cbca      	.db	  197,  198,  198,  199,   200,  201,  202,  203
000e52 cdcc
000e53 cece
000e54 d0cf
000e55 d2d1      	.db	  204,  205,  206,  206,   207,  208,  209,  210
                 
000e56 d4d3
000e57 d6d5
000e58 d7d7
000e59 d9d8      	.db	  211,  212,  213,  214,   215,  215,  216,  217
000e5a dad9
000e5b dcdb
000e5c dedd
000e5d e0df      	.db	  217,  218,  219,  220,   221,  222,  223,  224
000e5e e2e1
000e5f e3e2
000e60 e4e3
000e61 e6e5      	.db	  225,  226,  226,  227,   227,  228,  229,  230
000e62 eae8
000e63 eceb
000e64 ecec
000e65 e4ea      	.db	  232,  234,  235,  236,   236,  236,  234,  228
                 
                 
                 INV_SAW3:
                 	; base freqency: 103.83 Hz, discrets: 176, rms: 7.95, min: -0.92, max: 0.92
                 
000e66 0a80
000e67 1a0f
000e68 1315
000e69 1919      	.db	  128,   10,   15,   26,    21,   19,   25,   25
000e6a 1a17
000e6b 1a1c
000e6c 1e1c
000e6d 1e1d      	.db	   23,   26,   28,   26,    28,   30,   29,   30
000e6e 2021
000e6f 2321
000e70 2323
000e71 2625      	.db	   33,   32,   33,   35,    35,   35,   37,   38
000e72 2826
000e73 2929
000e74 2c2a
000e75 2c2c      	.db	   38,   40,   41,   41,    42,   44,   44,   44
                 
000e76 2e2e
000e77 302f
000e78 3131
000e79 3433      	.db	   46,   46,   47,   48,    49,   49,   51,   52
000e7a 3534
000e7b 3737
000e7c 3938
000e7d 3a3a      	.db	   52,   53,   55,   55,    56,   57,   58,   58
000e7e 3c3c
000e7f 3e3d
000e80 3f3f
000e81 4241      	.db	   60,   60,   61,   62,    63,   63,   65,   66
000e82 4342
000e83 4544
000e84 4746
000e85 4847      	.db	   66,   67,   68,   69,    70,   71,   71,   72
                 
000e86 4a49
000e87 4c4b
000e88 4d4d
000e89 504e      	.db	   73,   74,   75,   76,    77,   77,   78,   80
000e8a 5150
000e8b 5352
000e8c 5553
000e8d 5655      	.db	   80,   81,   82,   83,    83,   85,   85,   86
000e8e 5857
000e8f 5a59
000e90 5b5b
000e91 5d5c      	.db	   87,   88,   89,   90,    91,   91,   92,   93
000e92 5f5e
000e93 6160
000e94 6261
000e95 6463      	.db	   94,   95,   96,   97,    97,   98,   99,  100
                 
000e96 6665
000e97 6766
000e98 6969
000e99 6b6a      	.db	  101,  102,  102,  103,   105,  105,  106,  107
000e9a 6c6c
000e9b 6e6e
000e9c 706f
000e9d 7271      	.db	  108,  108,  110,  110,   111,  112,  113,  114
000e9e 7473
000e9f 7574
000ea0 7776
000ea1 7978      	.db	  115,  116,  116,  117,   118,  119,  120,  121
000ea2 7a7a
000ea3 7c7b
000ea4 7e7d
000ea5 7f7f      	.db	  122,  122,  123,  124,   125,  126,  127,  127
                 
000ea6 8180
000ea7 8281
000ea8 8483
000ea9 8685      	.db	  128,  129,  129,  130,   131,  132,  133,  134
000eaa 8786
000eab 8988
000eac 8b8a
000ead 8c8c      	.db	  134,  135,  136,  137,   138,  139,  140,  140
000eae 8e8d
000eaf 908f
000eb0 9291
000eb1 9492      	.db	  141,  142,  143,  144,   145,  146,  146,  148
000eb2 9594
000eb3 9796
000eb4 9997
000eb5 9a9a      	.db	  148,  149,  150,  151,   151,  153,  154,  154
                 
000eb6 9c9b
000eb7 9e9d
000eb8 9f9f
000eb9 a1a0      	.db	  155,  156,  157,  158,   159,  159,  160,  161
000eba a3a2
000ebb a5a4
000ebc a6a5
000ebd a8a7      	.db	  162,  163,  164,  165,   165,  166,  167,  168
000ebe aaa9
000ebf abab
000ec0 adad
000ec1 afae      	.db	  169,  170,  171,  171,   173,  173,  174,  175
000ec2 b0b0
000ec3 b3b2
000ec4 b4b3
000ec5 b6b5      	.db	  176,  176,  178,  179,   179,  180,  181,  182
                 
000ec6 b8b7
000ec7 b9b9
000ec8 bbba
000ec9 bdbc      	.db	  183,  184,  185,  185,   186,  187,  188,  189
000eca bebe
000ecb c1bf
000ecc c2c1
000ecd c4c3      	.db	  190,  190,  191,  193,   193,  194,  195,  196
000ece c6c4
000ecf c7c6
000ed0 c9c8
000ed1 cbc9      	.db	  196,  198,  198,  199,   200,  201,  201,  203
000ed2 cccc
000ed3 cfcd
000ed4 d0cf
000ed5 d2d1      	.db	  204,  204,  205,  207,   207,  208,  209,  210
                 
000ed6 d4d2
000ed7 d4d4
000ed8 d7d6
000ed9 d8d7      	.db	  210,  212,  212,  212,   214,  215,  215,  216
000eda dada
000edb dddb
000edc dddd
000edd e0df      	.db	  218,  218,  219,  221,   221,  221,  223,  224
000ede e2df
000edf e2e3
000ee0 e6e4
000ee1 e6e4      	.db	  223,  226,  227,  226,   228,  230,  228,  230
000ee2 e7e9
000ee3 ede7
000ee4 e6eb
000ee5 f6f1      	.db	  233,  231,  231,  237,   235,  230,  241,  246
                 
                 
                 INV_SAW4:
                 	; base freqency: 164.81 Hz, discrets: 111, rms: 7.95, min: -1.00, max: 1.00
                 
000ee6 0180
000ee7 131b
000ee8 1915
000ee9 1c14      	.db	  128,    1,   27,   19,    21,   25,   20,   28
000eea 1c16
000eeb 1c19
000eec 1c1d
000eed 1d20      	.db	   22,   28,   25,   28,    29,   28,   32,   29
000eee 1f21
000eef 2222
000ef0 2523
000ef1 2724      	.db	   33,   31,   34,   34,    35,   37,   36,   39
000ef2 2826
000ef3 2928
000ef4 2a2b
000ef5 2c2d      	.db	   38,   40,   40,   41,    43,   42,   45,   44
                 
000ef6 2e2e
000ef7 3030
000ef8 3231
000ef9 3432      	.db	   46,   46,   48,   48,    49,   50,   50,   52
000efa 3634
000efb 3736
000efc 3838
000efd 3a3a      	.db	   52,   54,   54,   55,    56,   56,   58,   58
000efe 3c3c
000eff 3e3d
000f00 403f
000f01 4240      	.db	   60,   60,   61,   62,    63,   64,   64,   66
000f02 4342
000f03 4544
000f04 4646
000f05 4848      	.db	   66,   67,   68,   69,    70,   70,   72,   72
                 
000f06 4a4a
000f07 4c4b
000f08 4e4c
000f09 504e      	.db	   74,   74,   75,   76,    76,   78,   78,   80
000f0a 5150
000f0b 5352
000f0c 5454
000f0d 5656      	.db	   80,   81,   82,   83,    84,   84,   86,   86
000f0e 5857
000f0f 5a59
000f10 5c5a
000f11 5d5c      	.db	   87,   88,   89,   90,    90,   92,   92,   93
000f12 5f5e
000f13 6060
000f14 6262
000f15 6463      	.db	   94,   95,   96,   96,    98,   98,   99,  100
                 
000f16 6665
000f17 6866
000f18 6a68
000f19 6b6a      	.db	  101,  102,  102,  104,   104,  106,  106,  107
000f1a 6d6c
000f1b 6e6e
000f1c 7070
000f1d 7271      	.db	  108,  109,  110,  110,   112,  112,  113,  114
000f1e 7473
000f1f 7674
000f20 7776
000f21 7978      	.db	  115,  116,  116,  118,   118,  119,  120,  121
000f22 7a7a
000f23 7c7c
000f24 7e7d
000f25 807f      	.db	  122,  122,  124,  124,   125,  126,  127,  128
                 
000f26 8080
000f27 8281
000f28 8483
000f29 8684      	.db	  128,  128,  129,  130,   131,  132,  132,  134
000f2a 8786
000f2b 8988
000f2c 8a8a
000f2d 8c8c      	.db	  134,  135,  136,  137,   138,  138,  140,  140
000f2e 8e8d
000f2f 908f
000f30 9290
000f31 9392      	.db	  141,  142,  143,  144,   144,  146,  146,  147
000f32 9594
000f33 9696
000f34 9898
000f35 9a9a      	.db	  148,  149,  150,  150,   152,  152,  154,  154
                 
000f36 9c9b
000f37 9e9d
000f38 a09e
000f39 a1a0      	.db	  155,  156,  157,  158,   158,  160,  160,  161
000f3a a3a2
000f3b a4a4
000f3c a6a6
000f3d a8a7      	.db	  162,  163,  164,  164,   166,  166,  167,  168
000f3e aaa9
000f3f acaa
000f40 adac
000f41 afae      	.db	  169,  170,  170,  172,   172,  173,  174,  175
000f42 b0b0
000f43 b2b2
000f44 b4b4
000f45 b6b5      	.db	  176,  176,  178,  178,   180,  180,  181,  182
                 
000f46 b8b6
000f47 bab8
000f48 bbba
000f49 bdbc      	.db	  182,  184,  184,  186,   186,  187,  188,  189
000f4a bebe
000f4b c0c0
000f4c c2c1
000f4d c4c3      	.db	  190,  190,  192,  192,   193,  194,  195,  196
000f4e c6c4
000f4f c8c6
000f50 c9c8
000f51 caca      	.db	  196,  198,  198,  200,   200,  201,  202,  202
000f52 cccc
000f53 cece
000f54 d0cf
000f55 d2d0      	.db	  204,  204,  206,  206,   207,  208,  208,  210
                 
000f56 d4d2
000f57 d6d3
000f58 d7d5
000f59 d8d8      	.db	  210,  212,  211,  214,   213,  215,  216,  216
000f5a d9da
000f5b dbdc
000f5c dedd
000f5d e1de      	.db	  218,  217,  220,  219,   221,  222,  222,  225
000f5e e3df
000f5f e4e0
000f60 e4e3
000f61 e4e7      	.db	  223,  227,  224,  228,   227,  228,  231,  228
000f62 e4ea
000f63 e7ec
000f64 edeb
000f65 ffe5      	.db	  234,  228,  236,  231,   235,  237,  229,  255
                 
                 
                 INV_SAW5:
                 	; base freqency: 261.62 Hz, discrets: 70, rms: 7.95, min: -1.00, max: 1.00
                 
000f66 1a80
000f67 1801
000f68 111e
000f69 1d13      	.db	  128,   26,    1,   24,    30,   17,   19,   29
000f6a 151b
000f6b 1f1a
000f6c 1a1b
000f6d 2120      	.db	   27,   21,   26,   31,    27,   26,   32,   33
000f6e 1f1e
000f6f 2324
000f70 2421
000f71 2527      	.db	   30,   31,   36,   35,    33,   36,   39,   37
000f72 2925
000f73 2829
000f74 2c2a
000f75 2b2c      	.db	   37,   41,   41,   40,    42,   44,   44,   43
                 
000f76 2f2e
000f77 2f2e
000f78 3232
000f79 3332      	.db	   46,   47,   46,   47,    50,   50,   50,   51
000f7a 3535
000f7b 3835
000f7c 3839
000f7d 3b39      	.db	   53,   53,   53,   56,    57,   56,   57,   59
000f7e 3b3c
000f7f 3f3d
000f80 3f3e
000f81 4241      	.db	   60,   59,   61,   63,    62,   63,   65,   66
000f82 4342
000f83 4545
000f84 4745
000f85 4848      	.db	   66,   67,   69,   69,    69,   71,   72,   72
                 
000f86 4b49
000f87 4b4b
000f88 4e4d
000f89 4f4e      	.db	   73,   75,   75,   75,    77,   78,   78,   79
000f8a 5150
000f8b 5251
000f8c 5554
000f8d 5655      	.db	   80,   81,   81,   82,    84,   85,   85,   86
000f8e 5858
000f8f 5a58
000f90 5b5b
000f91 5e5c      	.db	   88,   88,   88,   90,    91,   91,   92,   94
000f92 5e5e
000f93 6160
000f94 6261
000f95 6464      	.db	   94,   94,   96,   97,    97,   98,  100,  100
                 
000f96 6664
000f97 6767
000f98 6968
000f99 6b6a      	.db	  100,  102,  103,  103,   104,  105,  106,  107
000f9a 6d6b
000f9b 6e6e
000f9c 716f
000f9d 7171      	.db	  107,  109,  110,  110,   111,  113,  113,  113
000f9e 7473
000f9f 7574
000fa0 7777
000fa1 7977      	.db	  115,  116,  116,  117,   119,  119,  119,  121
000fa2 7a7a
000fa3 7d7b
000fa4 7d7d
000fa5 807f      	.db	  122,  122,  123,  125,   125,  125,  127,  128
                 
000fa6 8080
000fa7 8381
000fa8 8383
000fa9 8685      	.db	  128,  128,  129,  131,   131,  131,  133,  134
000faa 8786
000fab 8989
000fac 8b89
000fad 8c8c      	.db	  134,  135,  137,  137,   137,  139,  140,  140
000fae 8f8d
000faf 8f8f
000fb0 9291
000fb1 9392      	.db	  141,  143,  143,  143,   145,  146,  146,  147
000fb2 9595
000fb3 9796
000fb4 9998
000fb5 9a99      	.db	  149,  149,  150,  151,   152,  153,  153,  154
                 
000fb6 9c9c
000fb7 9e9c
000fb8 9f9f
000fb9 a2a0      	.db	  156,  156,  156,  158,   159,  159,  160,  162
000fba a2a2
000fbb a5a4
000fbc a6a5
000fbd a8a8      	.db	  162,  162,  164,  165,   165,  166,  168,  168
000fbe aaa8
000fbf abab
000fc0 aeac
000fc1 afaf      	.db	  168,  170,  171,  171,   172,  174,  175,  175
000fc2 b1b0
000fc3 b2b2
000fc4 b5b3
000fc5 b5b5      	.db	  176,  177,  178,  178,   179,  181,  181,  181
                 
000fc6 b8b7
000fc7 b9b8
000fc8 bbbb
000fc9 bdbb      	.db	  183,  184,  184,  185,   187,  187,  187,  189
000fca bebe
000fcb c1bf
000fcc c1c2
000fcd c5c3      	.db	  190,  190,  191,  193,   194,  193,  195,  197
000fce c5c4
000fcf c8c7
000fd0 c8c7
000fd1 cbcb      	.db	  196,  197,  199,  200,   199,  200,  203,  203
000fd2 cdcb
000fd3 cece
000fd4 d1ce
000fd5 d1d2      	.db	  203,  205,  206,  206,   206,  209,  210,  209
                 
000fd6 d5d2
000fd7 d4d4
000fd8 d8d6
000fd9 d7d7      	.db	  210,  213,  212,  212,   214,  216,  215,  215
000fda dbdb
000fdb dcd9
000fdc dddf
000fdd e1dc      	.db	  219,  219,  217,  220,   223,  221,  220,  225
000fde dfe2
000fdf e6e0
000fe0 e1e5
000fe1 ebe6      	.db	  226,  223,  224,  230,   229,  225,  230,  235
000fe2 e3e5
000fe3 efed
000fe4 e8e2
000fe5 e6ff      	.db	  229,  227,  237,  239,   226,  232,  255,  230
                 
                 
                 INV_SAW6:
                 	; base freqency: 415.30 Hz, discrets: 44, rms: 7.95, min: -1.00, max: 1.00
                 
000fe6 3980
000fe7 000b
000fe8 1d0d
000fe9 1b21      	.db	  128,   57,   11,    0,    13,   29,   33,   27
000fea 1313
000feb 2019
000fec 1d21
000fed 1b1a      	.db	   19,   19,   25,   32,    33,   29,   26,   27
000fee 2420
000fef 2124
000ff0 2220
000ff1 2826      	.db	   32,   36,   36,   33,    32,   34,   38,   40
000ff2 2628
000ff3 2826
000ff4 2d2b
000ff5 2b2c      	.db	   40,   38,   38,   40,    43,   45,   44,   43
                 
000ff6 2e2b
000ff7 3231
000ff8 3031
000ff9 3431      	.db	   43,   46,   49,   50,    49,   48,   49,   52
000ffa 3636
000ffb 3535
000ffc 3937
000ffd 3b3b      	.db	   54,   54,   53,   53,    55,   57,   59,   59
000ffe 3b3a
000fff 3f3c
001000 4040
001001 403f      	.db	   58,   59,   60,   63,    64,   64,   63,   64
001002 4442
001003 4545
001004 4545
001005 4947      	.db	   66,   68,   69,   69,    69,   69,   71,   73
                 
001006 4a4a
001007 4b4a
001008 4e4d
001009 4f4f      	.db	   74,   74,   74,   75,    77,   78,   79,   79
00100a 504f
00100b 5452
00100c 5454
00100d 5654      	.db	   79,   80,   82,   84,    84,   84,   84,   86
00100e 5958
00100f 5959
001010 5b5a
001011 5e5d      	.db	   88,   89,   89,   89,    90,   91,   93,   94
001012 5e5e
001013 615f
001014 6362
001015 6363      	.db	   94,   94,   95,   97,    98,   99,   99,   99
                 
001016 6664
001017 6867
001018 6868
001019 6c6a      	.db	  100,  102,  103,  104,   104,  104,  106,  108
00101a 6d6c
00101b 6e6d
00101c 716f
00101d 7271      	.db	  108,  109,  109,  110,   111,  113,  113,  114
00101e 7372
00101f 7675
001020 7777
001021 7877      	.db	  114,  115,  117,  118,   119,  119,  119,  120
001022 7b7a
001023 7c7c
001024 7e7c
001025 807f      	.db	  122,  123,  124,  124,   124,  126,  127,  128
                 
001026 8080
001027 8281
001028 8484
001029 8584      	.db	  128,  128,  129,  130,   132,  132,  132,  133
00102a 8886
00102b 8989
00102c 8a89
00102d 8d8b      	.db	  134,  136,  137,  137,   137,  138,  139,  141
00102e 8e8e
00102f 8f8f
001030 9291
001031 9393      	.db	  142,  142,  143,  143,   145,  146,  147,  147
001032 9494
001033 9896
001034 9898
001035 9a99      	.db	  148,  148,  150,  152,   152,  152,  153,  154
                 
001036 9d9c
001037 9d9d
001038 9f9e
001039 a2a1      	.db	  156,  157,  157,  157,   158,  159,  161,  162
00103a a2a2
00103b a5a3
00103c a7a6
00103d a7a7      	.db	  162,  162,  163,  165,   166,  167,  167,  167
00103e aaa8
00103f acac
001040 acac
001041 b0ae      	.db	  168,  170,  172,  172,   172,  172,  174,  176
001042 b1b1
001043 b2b1
001044 b5b3
001045 b6b6      	.db	  177,  177,  177,  178,   179,  181,  182,  182
                 
001046 b7b6
001047 bbb9
001048 bbbb
001049 bcbb      	.db	  182,  183,  185,  187,   187,  187,  187,  188
00104a c0be
00104b c0c1
00104c c1c0
00104d c5c4      	.db	  190,  192,  193,  192,   192,  193,  196,  197
00104e c5c6
00104f c7c5
001050 cbc9
001051 cacb      	.db	  198,  197,  197,  199,   201,  203,  203,  202
001052 ccca
001053 d0cf
001054 cecf
001055 d2cf      	.db	  202,  204,  207,  208,   207,  206,  207,  210
                 
001056 d5d5
001057 d3d4
001058 d8d5
001059 dada      	.db	  213,  213,  212,  211,   213,  216,  218,  218
00105a d8d8
00105b deda
00105c dfe0
00105d dcdc      	.db	  216,  216,  218,  222,   224,  223,  220,  220
00105e e5e0
00105f e3e6
001060 e0df
001061 ede7      	.db	  224,  229,  230,  227,   223,  224,  231,  237
001062 e5ed
001063 e3df
001064 fff3
001065 c7f5      	.db	  237,  229,  223,  227,   243,  255,  245,  199
                 
                 
                 INV_SAW7:
                 	; base freqency: 659.25 Hz, discrets: 28, rms: 7.95, min: -0.99, max: 0.99
                 
001066 5180
001067 0e29
001068 0302
001069 170c      	.db	  128,   81,   41,   14,     2,    3,   12,   23
00106a 2420
00106b 1d22
00106c 1518
00106d 1a16      	.db	   32,   36,   34,   29,    24,   21,   22,   26
00106e 2420
00106f 2626
001070 2124
001071 2120      	.db	   32,   36,   38,   38,    36,   33,   32,   33
001072 2824
001073 2c2b
001074 2b2c
001075 292a      	.db	   36,   40,   43,   44,    44,   43,   42,   41
                 
001076 2c2a
001077 322f
001078 3333
001079 3233      	.db	   42,   44,   47,   50,    51,   51,   51,   50
00107a 3231
00107b 3734
00107c 3b39
00107d 3a3b      	.db	   49,   50,   52,   55,    57,   59,   59,   58
00107e 3a3a
00107f 3d3b
001080 413f
001081 4242      	.db	   58,   58,   59,   61,    63,   65,   66,   66
001082 4242
001083 4342
001084 4745
001085 4a49      	.db	   66,   66,   66,   67,    69,   71,   73,   74
                 
001086 4a4a
001087 4a4a
001088 4c4b
001089 504e      	.db	   74,   74,   74,   74,    75,   76,   78,   80
00108a 5251
00108b 5152
00108c 5352
00108d 5654      	.db	   81,   82,   82,   81,    82,   83,   84,   86
00108e 5958
00108f 595a
001090 5a59
001091 5c5b      	.db	   88,   89,   90,   89,    89,   90,   91,   92
001092 605e
001093 6161
001094 6161
001095 6362      	.db	   94,   96,   97,   97,    97,   97,   98,   99
                 
001096 6664
001097 6968
001098 6969
001099 6969      	.db	  100,  102,  104,  105,   105,  105,  105,  105
00109a 6c6a
00109b 6f6e
00109c 7170
00109d 7171      	.db	  106,  108,  110,  111,   112,  113,  113,  113
00109e 7271
00109f 7674
0010a0 7877
0010a1 7979      	.db	  113,  114,  116,  118,   119,  120,  121,  121
0010a2 7979
0010a3 7c7a
0010a4 7f7d
0010a5 8080      	.db	  121,  121,  122,  124,   125,  127,  128,  128
                 
0010a6 8080
0010a7 8180
0010a8 8483
0010a9 8786      	.db	  128,  128,  128,  129,   131,  132,  134,  135
0010aa 8787
0010ab 8887
0010ac 8a89
0010ad 8e8c      	.db	  135,  135,  135,  136,   137,  138,  140,  142
0010ae 8f8f
0010af 8f8f
0010b0 9190
0010b1 9492      	.db	  143,  143,  143,  143,   144,  145,  146,  148
0010b2 9796
0010b3 9797
0010b4 9797
0010b5 9a98      	.db	  150,  151,  151,  151,   151,  151,  152,  154
                 
0010b6 9d9c
0010b7 9f9e
0010b8 9f9f
0010b9 a09f      	.db	  156,  157,  158,  159,   159,  159,  159,  160
0010ba a4a2
0010bb a6a5
0010bc a7a7
0010bd a7a6      	.db	  162,  164,  165,  166,   167,  167,  166,  167
0010be aaa8
0010bf adac
0010c0 afae
0010c1 aeae      	.db	  168,  170,  172,  173,   174,  175,  174,  174
0010c2 b0af
0010c3 b4b2
0010c4 b6b5
0010c5 b6b6      	.db	  175,  176,  178,  180,   181,  182,  182,  182
                 
0010c6 b6b6
0010c7 b9b7
0010c8 bdbb
0010c9 bebe      	.db	  182,  182,  183,  185,   187,  189,  190,  190
0010ca bebe
0010cb bfbe
0010cc c3c1
0010cd c6c5      	.db	  190,  190,  190,  191,   193,  195,  197,  198
0010ce c6c6
0010cf c5c5
0010d0 c9c7
0010d1 cecc      	.db	  198,  198,  197,  197,   199,  201,  204,  206
0010d2 cecf
0010d3 cdcd
0010d4 cecd
0010d5 d4d1      	.db	  207,  206,  205,  205,   205,  206,  209,  212
                 
0010d6 d7d6
0010d7 d5d6
0010d8 d4d4
0010d9 d8d5      	.db	  214,  215,  214,  213,   212,  212,  213,  216
0010da dfdc
0010db dfe0
0010dc dadc
0010dd dcda      	.db	  220,  223,  224,  223,   220,  218,  218,  220
0010de e6e0
0010df ebea
0010e0 e3e8
0010e1 dcde      	.db	  224,  230,  234,  235,   232,  227,  222,  220
0010e2 e9e0
0010e3 fdf4
0010e4 f2fe
0010e5 afd7      	.db	  224,  233,  244,  253,   254,  242,  215,  175
                 
                 
                 INV_SAW8:
                 	; base freqency: 1046.50 Hz, discrets: 18, rms: 7.95, min: -0.98, max: 0.98
                 
0010e6 6180
0010e7 2b44
0010e8 0b18
0010e9 0304      	.db	  128,   97,   68,   43,    24,   11,    4,    3
0010ea 0c06
0010eb 1c14
0010ec 2622
0010ed 2728      	.db	    6,   12,   20,   28,    34,   38,   40,   39
0010ee 2225
0010ef 1c1e
0010f0 1b1b
0010f1 211d      	.db	   37,   34,   30,   28,    27,   27,   29,   33
0010f2 2824
0010f3 2e2b
0010f4 2f2f
0010f5 2c2e      	.db	   36,   40,   43,   46,    47,   47,   46,   44
                 
0010f6 2a2b
0010f7 2b2a
0010f8 2f2c
0010f9 3431      	.db	   43,   42,   42,   43,    44,   47,   49,   52
0010fa 3836
0010fb 3939
0010fc 3839
0010fd 3737      	.db	   54,   56,   57,   57,    57,   56,   55,   55
0010fe 3837
0010ff 3c3a
001100 403e
001101 4442      	.db	   55,   56,   58,   60,    62,   64,   66,   68
001102 4544
001103 4444
001104 4444
001105 4544      	.db	   68,   69,   68,   68,    68,   68,   68,   69
                 
001106 4847
001107 4c4a
001108 4f4e
001109 5050      	.db	   71,   72,   74,   76,    78,   79,   80,   80
00110a 5050
00110b 5050
00110c 5251
00110d 5553      	.db	   80,   80,   80,   80,    81,   82,   83,   85
00110e 5957
00110f 5b5a
001110 5c5c
001111 5c5c      	.db	   87,   89,   90,   91,    92,   92,   92,   92
001112 5c5c
001113 5e5d
001114 6160
001115 6563      	.db	   92,   92,   93,   94,    96,   97,   99,  101
                 
001116 6766
001117 6868
001118 6868
001119 6968      	.db	  102,  103,  104,  104,   104,  104,  104,  105
00111a 6b69
00111b 6e6c
00111c 7170
00111d 7473      	.db	  105,  107,  108,  110,   112,  113,  115,  116
00111e 7474
00111f 7474
001120 7575
001121 7776      	.db	  116,  116,  116,  116,   117,  117,  118,  119
001122 7a79
001123 7e7c
001124 807f
001125 8080      	.db	  121,  122,  124,  126,   127,  128,  128,  128
                 
001126 8080
001127 8080
001128 8281
001129 8684      	.db	  128,  128,  128,  128,   129,  130,  132,  134
00112a 8987
00112b 8b8a
00112c 8c8b
00112d 8c8c      	.db	  135,  137,  138,  139,   139,  140,  140,  140
00112e 8c8c
00112f 8f8d
001130 9290
001131 9594      	.db	  140,  140,  141,  143,   144,  146,  148,  149
001132 9797
001133 9898
001134 9898
001135 9998      	.db	  151,  151,  152,  152,   152,  152,  152,  153
                 
001136 9b9a
001137 9f9d
001138 a2a0
001139 a4a3      	.db	  154,  155,  157,  159,   160,  162,  163,  164
00113a a4a4
00113b a4a4
00113c a5a4
00113d a7a6      	.db	  164,  164,  164,  164,   164,  165,  166,  167
00113e aba9
00113f aead
001140 b0af
001141 b0b0      	.db	  169,  171,  173,  174,   175,  176,  176,  176
001142 b0b0
001143 b1b0
001144 b4b2
001145 b8b6      	.db	  176,  176,  176,  177,   178,  180,  182,  184
                 
001146 bbb9
001147 bcbc
001148 bcbc
001149 bbbc      	.db	  185,  187,  188,  188,   188,  188,  188,  187
00114a bcbc
00114b c0be
00114c c4c2
00114d c8c6      	.db	  188,  188,  190,  192,   194,  196,  198,  200
00114e c9c9
00114f c8c9
001150 c7c7
001151 c8c7      	.db	  201,  201,  201,  200,   199,  199,  199,  200
001152 ccca
001153 d1cf
001154 d5d4
001155 d6d6      	.db	  202,  204,  207,  209,   212,  213,  214,  214
                 
001156 d4d5
001157 d1d2
001158 d2d1
001159 d8d5      	.db	  213,  212,  210,  209,   209,  210,  213,  216
00115a dfdc
00115b e5e3
00115c e4e5
00115d dee2      	.db	  220,  223,  227,  229,   229,  228,  226,  222
00115e d9db
00115f dad8
001160 e4de
001161 f4ec      	.db	  219,  217,  216,  218,   222,  228,  236,  244
001162 fdfa
001163 f5fc
001164 d5e8
001165 9fbc      	.db	  250,  253,  252,  245,   232,  213,  188,  159
                 
                 
                 INV_SAW9:
                 	; base freqency: 1661.21 Hz, discrets: 11, rms: 7.95, min: -0.97, max: 0.97
                 
001166 6d80
001167 495a
001168 2a38
001169 141e      	.db	  128,  109,   90,   73,    56,   42,   30,   20
00116a 080c
00116b 0505
00116c 0906
00116d 120d      	.db	   12,    8,    5,    5,     6,    9,   13,   18
00116e 1d18
00116f 2622
001170 2c2a
001171 2f2e      	.db	   24,   29,   34,   38,    42,   44,   46,   47
001172 2d2e
001173 2a2c
001174 2729
001175 2526      	.db	   46,   45,   44,   42,    41,   39,   38,   37
                 
001176 2524
001177 2726
001178 2c29
001179 312f      	.db	   36,   37,   38,   39,    41,   44,   47,   49
00117a 3734
00117b 3b39
00117c 3d3c
00117d 3d3d      	.db	   52,   55,   57,   59,    60,   61,   61,   61
00117e 3d3d
00117f 3b3c
001180 3b3b
001181 3b3b      	.db	   61,   61,   60,   59,    59,   59,   59,   59
001182 3d3c
001183 413f
001184 4543
001185 4947      	.db	   60,   61,   63,   65,    67,   69,   71,   73
                 
001186 4d4b
001187 4f4e
001188 504f
001189 5050      	.db	   75,   77,   78,   79,    79,   80,   80,   80
00118a 4f50
00118b 4f4f
00118c 504f
00118d 5250      	.db	   80,   79,   79,   79,    79,   80,   80,   82
00118e 5453
00118f 5856
001190 5c5a
001191 5f5e      	.db	   83,   84,   86,   88,    90,   92,   94,   95
001192 6260
001193 6362
001194 6363
001195 6363      	.db	   96,   98,   98,   99,    99,   99,   99,   99
                 
001196 6363
001197 6463
001198 6564
001199 6867      	.db	   99,   99,   99,  100,   100,  101,  103,  104
00119a 6b6a
00119b 6f6d
00119c 7271
00119d 7574      	.db	  106,  107,  109,  111,   113,  114,  116,  117
00119e 7675
00119f 7776
0011a0 7777
0011a1 7777      	.db	  117,  118,  118,  119,   119,  119,  119,  119
0011a2 7777
0011a3 7978
0011a4 7b7a
0011a5 7f7d      	.db	  119,  119,  120,  121,   122,  123,  125,  127
                 
0011a6 8180
0011a7 8583
0011a8 8786
0011a9 8988      	.db	  128,  129,  131,  133,   134,  135,  136,  137
0011aa 8989
0011ab 8989
0011ac 8989
0011ad 8a8a      	.db	  137,  137,  137,  137,   137,  137,  138,  138
0011ae 8b8b
0011af 8e8c
0011b0 918f
0011b1 9593      	.db	  139,  139,  140,  142,   143,  145,  147,  149
0011b2 9896
0011b3 9b99
0011b4 9c9c
0011b5 9d9d      	.db	  150,  152,  153,  155,   156,  156,  157,  157
                 
0011b6 9d9d
0011b7 9d9d
0011b8 9d9d
0011b9 9e9e      	.db	  157,  157,  157,  157,   157,  157,  158,  158
0011ba a1a0
0011bb a4a2
0011bc a8a6
0011bd acaa      	.db	  160,  161,  162,  164,   166,  168,  170,  172
0011be aead
0011bf b0b0
0011c0 b1b1
0011c1 b1b1      	.db	  173,  174,  176,  176,   177,  177,  177,  177
0011c2 b0b0
0011c3 b0b0
0011c4 b1b1
0011c5 b3b2      	.db	  176,  176,  176,  176,   177,  177,  178,  179
                 
0011c6 b7b5
0011c7 bbb9
0011c8 bfbd
0011c9 c3c1      	.db	  181,  183,  185,  187,   189,  191,  193,  195
0011ca c5c4
0011cb c5c5
0011cc c5c5
0011cd c3c4      	.db	  196,  197,  197,  197,   197,  197,  196,  195
0011ce c3c3
0011cf c3c3
0011d0 c5c4
0011d1 c9c7      	.db	  195,  195,  195,  195,   196,  197,  199,  201
0011d2 cfcc
0011d3 d4d1
0011d4 d9d7
0011d5 dbda      	.db	  204,  207,  209,  212,   215,  217,  218,  219
                 
0011d6 dbdc
0011d7 d9da
0011d8 d6d7
0011d9 d3d4      	.db	  220,  219,  218,  217,   215,  214,  212,  211
0011da d1d2
0011db d4d2
0011dc dad6
0011dd e3de      	.db	  210,  209,  210,  212,   214,  218,  222,  227
0011de eee8
0011df f7f3
0011e0 fbfa
0011e1 f8fb      	.db	  232,  238,  243,  247,   250,  251,  251,  248
0011e2 ecf4
0011e3 d6e2
0011e4 b7c8
0011e5 93a6      	.db	  244,  236,  226,  214,   200,  183,  166,  147
                 
                 
                 INV_SAW10:
                 	; base freqency: 2637.01 Hz, discrets: 7, rms: 7.95, min: -0.94, max: 0.94
                 
0011e6 7480
0011e7 5b68
0011e8 4550
0011e9 313a      	.db	  128,  116,  104,   91,    80,   69,   58,   49
0011ea 2028
0011eb 141a
0011ec 0c0f
0011ed 080a      	.db	   40,   32,   26,   20,    15,   12,   10,    8
0011ee 0808
0011ef 0b09
0011f0 110e
0011f1 1814      	.db	    8,    8,    9,   11,    14,   17,   20,   24
0011f2 201c
0011f3 2723
0011f4 2e2a
0011f5 3330      	.db	   28,   32,   35,   39,    42,   46,   48,   51
                 
0011f6 3635
0011f7 3838
0011f8 3939
0011f9 3838      	.db	   53,   54,   56,   56,    57,   57,   56,   56
0011fa 3637
0011fb 3536
0011fc 3334
0011fd 3232      	.db	   55,   54,   54,   53,    52,   51,   50,   50
0011fe 3232
0011ff 3333
001200 3534
001201 3937      	.db	   50,   50,   51,   51,    52,   53,   55,   57
001202 3d3b
001203 413f
001204 4543
001205 4a48      	.db	   59,   61,   63,   65,    67,   69,   72,   74
                 
001206 4d4c
001207 504f
001208 5251
001209 5353      	.db	   76,   77,   79,   80,    81,   82,   83,   83
00120a 5353
00120b 5353
00120c 5353
00120d 5253      	.db	   83,   83,   83,   83,    83,   83,   83,   82
00120e 5252
00120f 5353
001210 5454
001211 5655      	.db	   82,   82,   83,   83,    84,   84,   85,   86
001212 5958
001213 5c5b
001214 605e
001215 6462      	.db	   88,   89,   91,   92,    94,   96,   98,  100
                 
001216 6766
001217 6b69
001218 6d6c
001219 6f6e      	.db	  102,  103,  105,  107,   108,  109,  110,  111
00121a 7070
00121b 7171
00121c 7171
00121d 7171      	.db	  112,  112,  113,  113,   113,  113,  113,  113
00121e 7171
00121f 7271
001220 7272
001221 7473      	.db	  113,  113,  113,  114,   114,  114,  115,  116
001222 7674
001223 7877
001224 7b7a
001225 7f7d      	.db	  116,  118,  119,  120,   122,  123,  125,  127
                 
001226 8180
001227 8583
001228 8886
001229 8a89      	.db	  128,  129,  131,  133,   134,  136,  137,  138
00122a 8c8c
00122b 8e8d
00122c 8e8e
00122d 8f8f      	.db	  140,  140,  141,  142,   142,  142,  143,  143
00122e 8f8f
00122f 8f8f
001230 8f8f
001231 908f      	.db	  143,  143,  143,  143,   143,  143,  143,  144
001232 9190
001233 9392
001234 9594
001235 9997      	.db	  144,  145,  146,  147,   148,  149,  151,  153
                 
001236 9c9a
001237 a09e
001238 a4a2
001239 a7a5      	.db	  154,  156,  158,  160,   162,  164,  165,  167
00123a aaa8
00123b acab
00123c adac
00123d aead      	.db	  168,  170,  171,  172,   172,  173,  173,  174
00123e aeae
00123f adad
001240 adad
001241 adad      	.db	  174,  174,  173,  173,   173,  173,  173,  173
001242 adad
001243 aead
001244 b0af
001245 b3b1      	.db	  173,  173,  173,  174,   175,  176,  177,  179
                 
001246 b6b4
001247 bbb8
001248 bfbd
001249 c3c1      	.db	  180,  182,  184,  187,   189,  191,  193,  195
00124a c7c5
00124b cbc9
00124c cdcc
00124d cecd      	.db	  197,  199,  201,  203,   204,  205,  205,  206
00124e cece
00124f cdce
001250 cbcc
001251 caca      	.db	  206,  206,  206,  205,   204,  203,  202,  202
001252 c8c9
001253 c7c8
001254 c8c7
001255 cac8      	.db	  201,  200,  200,  199,   199,  200,  200,  202
                 
001256 cdcb
001257 d2d0
001258 d9d6
001259 e0dd      	.db	  203,  205,  208,  210,   214,  217,  221,  224
00125a e8e4
00125b efec
00125c f5f2
00125d f8f7      	.db	  228,  232,  236,  239,   242,  245,  247,  248
00125e f8f8
00125f f4f6
001260 ecf1
001261 e0e6      	.db	  248,  248,  246,  244,   241,  236,  230,  224
001262 cfd8
001263 bbc6
001264 a5b0
001265 8c98      	.db	  216,  207,  198,  187,   176,  165,  152,  140
                 
                 
                 INV_SAW11:
                 	; base freqency: 4185.98 Hz, discrets: 5, rms: 7.95, min: -0.92, max: 0.92
                 
001266 7780
001267 656e
001268 545d
001269 444c      	.db	  128,  119,  110,  101,    93,   84,   76,   68
00126a 353c
00126b 292f
00126c 1e23
00126d 161a      	.db	   60,   53,   47,   41,    35,   30,   26,   22
00126e 1013
00126f 0c0e
001270 0b0b
001271 0b0b      	.db	   19,   16,   14,   12,    11,   11,   11,   11
001272 0e0c
001273 1210
001274 1714
001275 1d1a      	.db	   12,   14,   16,   18,    20,   23,   26,   29
                 
001276 2320
001277 2926
001278 2f2c
001279 3532      	.db	   32,   35,   38,   41,    44,   47,   50,   53
00127a 3a37
00127b 3d3c
00127c 403f
00127d 4342      	.db	   55,   58,   60,   61,    63,   64,   66,   67
00127e 4443
00127f 4444
001280 4444
001281 4344      	.db	   67,   68,   68,   68,    68,   68,   68,   67
001282 4243
001283 4142
001284 4141
001285 4040      	.db	   67,   66,   66,   65,    65,   65,   64,   64
                 
001286 4040
001287 4140
001288 4241
001289 4443      	.db	   64,   64,   64,   65,    65,   66,   67,   68
00128a 4645
00128b 4948
00128c 4d4b
00128d 514f      	.db	   69,   70,   72,   73,    75,   77,   79,   81
00128e 5553
00128f 5957
001290 5c5b
001291 605e      	.db	   83,   85,   87,   89,    91,   92,   94,   96
001292 6362
001293 6665
001294 6867
001295 6969      	.db	   98,   99,  101,  102,   103,  104,  105,  105
                 
001296 6b6a
001297 6b6b
001298 6b6b
001299 6c6c      	.db	  106,  107,  107,  107,   107,  107,  108,  108
00129a 6b6b
00129b 6b6b
00129c 6c6b
00129d 6c6c      	.db	  107,  107,  107,  107,   107,  108,  108,  108
00129e 6d6c
00129f 6e6d
0012a0 706f
0012a1 7271      	.db	  108,  109,  109,  110,   111,  112,  113,  114
0012a2 7573
0012a3 7876
0012a4 7b79
0012a5 7f7d      	.db	  115,  117,  118,  120,   121,  123,  125,  127
                 
0012a6 8180
0012a7 8583
0012a8 8887
0012a9 8b8a      	.db	  128,  129,  131,  133,   135,  136,  138,  139
0012aa 8e8d
0012ab 908f
0012ac 9291
0012ad 9393      	.db	  141,  142,  143,  144,   145,  146,  147,  147
0012ae 9494
0012af 9494
0012b0 9595
0012b1 9595      	.db	  148,  148,  148,  148,   149,  149,  149,  149
0012b2 9495
0012b3 9594
0012b4 9595
0012b5 9595      	.db	  149,  148,  148,  149,   149,  149,  149,  149
                 
0012b6 9796
0012b7 9897
0012b8 9a99
0012b9 9d9b      	.db	  150,  151,  151,  152,   153,  154,  155,  157
0012ba a09e
0012bb a4a2
0012bc a7a5
0012bd aba9      	.db	  158,  160,  162,  164,   165,  167,  169,  171
0012be afad
0012bf b3b1
0012c0 b7b5
0012c1 bab8      	.db	  173,  175,  177,  179,   181,  183,  184,  186
0012c2 bcbb
0012c3 bebd
0012c4 bfbf
0012c5 c0c0      	.db	  187,  188,  189,  190,   191,  191,  192,  192
                 
0012c6 c0c0
0012c7 bfc0
0012c8 bfbf
0012c9 bebe      	.db	  192,  192,  192,  191,   191,  191,  190,  190
0012ca bdbd
0012cb bcbc
0012cc bcbc
0012cd bcbc      	.db	  189,  189,  188,  188,   188,  188,  188,  188
0012ce bdbd
0012cf c0be
0012d0 c3c1
0012d1 c6c4      	.db	  189,  189,  190,  192,   193,  195,  196,  198
0012d2 cbc9
0012d3 d1ce
0012d4 d7d4
0012d5 ddda      	.db	  201,  203,  206,  209,   212,  215,  218,  221
                 
0012d6 e3e0
0012d7 e9e6
0012d8 eeec
0012d9 f2f0      	.db	  224,  227,  230,  233,   236,  238,  240,  242
0012da f5f4
0012db f5f5
0012dc f4f5
0012dd f0f2      	.db	  244,  245,  245,  245,   245,  244,  242,  240
0012de eaed
0012df e2e6
0012e0 d7dd
0012e1 cbd1      	.db	  237,  234,  230,  226,   221,  215,  209,  203
0012e2 bcc4
0012e3 acb4
0012e4 9ba3
0012e5 8992      	.db	  196,  188,  180,  172,   163,  155,  146,  137
                 
                 ; 16 wavetables. Each is 256 bytes, 16-bit signed samples.
                 WAVES:
                 ; WAVETABLE BANK A
                 ;
                 ; sawtooth
0012e6 0000
0012e7 0100
0012e8 0200
0012e9 02ff
0012ea 03ff
0012eb 04ff
0012ec 0600
0012ed 06ff
0012ee 0801
0012ef 08ff
0012f0 0a00
0012f1 0b00
0012f2 0c00
0012f3 0d00
0012f4 0e00
0012f5 0f00
0012f6 1000
0012f7 10ff
0012f8 1200
0012f9 1300
0012fa 13ff
0012fb 1500
0012fc 1600
0012fd 1701
0012fe 1800
0012ff 1900
001300 1a00
001301 1b00
001302 1c00
001303 1d00
001304 1e00
001305 1f01
001306 2000
001307 2100
001308 2200
001309 2300
00130a 2400
00130b 2500
00130c 2600
00130d 2700
00130e 2800
00130f 2900
001310 29ff
001311 2b00
001312 2bff
001313 2d00
001314 2dff
001315 2eff
001316 2fff
001317 30ff
001318 31ff
001319 32ff
00131a 3401
00131b 34fe
00131c 3601
00131d 36fd
00131e 3802
00131f 38fc
001320 3a03
001321 3afb
001322 3c04
001323 3cfa
001324 3e05
001325 3efa
001326 4007
001327 40f8
001328 4206
001329 42f9
00132a 4405
00132b 44fb
00132c 4603
00132d 46fe
00132e 4800
00132f 4901
001330 49fa
001331 4b08
001332 4bf2
001333 4d10
001334 4dea
001335 4f1b
001336 4fe0
001337 5124
001338 51d5
001339 532f
00133a 53cb
00133b 5536
00133c 55c4
00133d 573c
00133e 57c1
00133f 593d
001340 59c3
001341 5b38
001342 5bcc
001343 5d2a
001344 5dde
001345 5f15
001346 5ff8
001347 60f6
001348 621c
001349 62cd
00134a 6448
00134b 649d
00134c 667d
00134d 6666
00134e 68b5
00134f 682c
001350 6aef
001351 69f4
001352 6d26
001353 6bc0
001354 6f52
001355 6d9b
001356 7170
001357 6f88
001358 7376
001359 7191
00135a 755a
00135b 73c3
00135c 770f
00135d 762c
00135e 7880
00135f 78ed
001360 797b
001361 7c51
001362 7980
001363 7fff
001364 7629
001365 7fff
001366 cba0
001367 8001
001368 8e41
001369 8000
00136a 8abd
00136b 8000
00136c 8a79
00136d 834c
00136e 8b16
00136f 8676
001370 8c15
001371 8957
001372 8d4d
001373 8c09
001374 8eaf
001375 8e94
001376 9035
001377 90ff
001378 91d8
001379 934d
00137a 9397
00137b 9581
00137c 956e
00137d 97a0
00137e 975a
00137f 99aa
001380 9958
001381 9ba6
001382 9b62
001383 9d97
001384 9d74
001385 9f80
001386 9f8e
001387 a166
001388 a1a9
001389 a34b
00138a a3c4
00138b a52f
00138c a5de
00138d a719
00138e a7f4
00138f a906
001390 aa03
001391 aaf7
001392 ac0f
001393 aced
001394 ae18
001395 aee8
001396 b01b
001397 b0e6
001398 b21b
001399 b2e7
00139a b41a
00139b b4e9
00139c b616
00139d b6ee
00139e b812
00139f b8f2
0013a0 ba0d
0013a1 baf6
0013a2 bc09
0013a3 bcfa
0013a4 be05
0013a5 befd
0013a6 c003
0013a7 c0ff
0013a8 c201
0013a9 c302
0013aa c400
0013ab c502
0013ac c5fe
0013ad c702
0013ae c7ff
0013af c903
0013b0 c9ff
0013b1 cb02
0013b2 cbff
0013b3 cd02
0013b4 cdff
0013b5 cf01
0013b6 cfff
0013b7 d101
0013b8 d1ff
0013b9 d301
0013ba d400
0013bb d501
0013bc d600
0013bd d701
0013be d800
0013bf d900
0013c0 da00
0013c1 db00
0013c2 dc00
0013c3 dd01
0013c4 de00
0013c5 df01
0013c6 e001
0013c7 e0ff
0013c8 e200
0013c9 e301
0013ca e400
0013cb e500
0013cc e600
0013cd e700
0013ce e801
0013cf e900
0013d0 ea00
0013d1 eb00
0013d2 ec00
0013d3 ed00
0013d4 ee00
0013d5 ef00
0013d6 f000
0013d7 f100
0013d8 f200
0013d9 f301
0013da f401
0013db f500
0013dc f600
0013dd f701
0013de f800
0013df f900
0013e0 fa00
0013e1 fb00
0013e2 fc00
0013e3 fd01
0013e4 fe00
0013e5 ff00      .dw 0,   256,   512,   767,  1023,  1279,  1536,  1791,  2049,   2303,  2560,  2816,  3072,  3328,  3584,  3840,  4096,  4351,  4608,   4864,  5119,  5376,  5632,  5889,  6144,  6400,  6656,  6912,  7168,   7424,  7680,  7937,  8192,  8448,  8704,  8960,                   9216,  9472,  9728,   9984, 10240, 10496, 10751, 11008, 11263, 11520, 11775, 12031, 12287,  12543, 12799, 13055, 13313, 13566, 13825, 14077, 14338, 14588, 14851,  15099, 15364, 15610, 15877, 16122, 16391, 16632, 16902, 17145, 17413,  17659, 17923, 18174,0013e6 00a2
0013e7 02d6
0013e8 0509
0013e9 073f
0013ea 0978
0013eb 0baf
0013ec 0de9
0013ed 1023
0013ee 1260
0013ef 1499
0013f0 16d7
0013f1 1916
0013f2 1b55
0013f3 1d92
0013f4 1fd5
0013f5 2214
0013f6 2456
0013f7 2696
0013f8 28d9
0013f9 2b1a
0013fa 2d5e
0013fb 2fa0
0013fc 31e7
0013fd 342a
0013fe 366f
0013ff 38b4
001400 3afb
001401 3d3e
001402 3f85
001403 41cc
001404 4410
001405 465a
001406 489e
001407 4ae7
001408 4d2d
001409 4f77
00140a 51bb
00140b 5407
00140c 5649
00140d 5897
00140e 5ad9
00140f 5d28
001410 5f67
001411 61b8
001412 63f8
001413 664b
001414 6889
001415 6adc
001416 6d1b
001417 6f6d
001418 71ac
001419 7400
00141a 763f
00141b 7892
00141c 7acd
00141d 7d3c
00141e 7e2d
00141f 6e49
001420 518a
001421 3ae8
001422 2d62
001423 25a6
001424 211a
001425 1eb1
001426 1d6c
001427 1d00
001428 1cff
001429 1d5e
00142a 1de9
00142b 1ea1
00142c 1f77
00142d 205d
00142e 215f
00142f 2266
001430 238e
001431 24ad
001432 25f1
001433 272a
001434 2889
001435 29d7
001436 2b4c
001437 2cae
001438 2e38
001439 2faf
00143a 314b
00143b 32d6
00143c 3480
00143d 3621
00143e 37d7
00143f 398d
001440 3b4a
001441 3d19
001442 3ed8
001443 40bd
001444 4281
001445 447e
001446 4640
001447 4855
001448 4a14
001449 4c3f
00144a 4dfb
00144b 503f
00144c 51f5
00144d 544f
00144e 55fe
00144f 586c
001450 5a19
001451 5c98
001452 5e42
001453 60cd
001454 6274
001455 6516
001456 6653
001457 59ea
001458 496d
001459 2ee5
00145a 153c
00145b ff01
00145c eca5
00145d df91
00145e d4e9
00145f cd85
001460 c741
001461 c330
001462 bf96
001463 bd82
001464 bb8e
001465 baad
001466 b9c1
001467 b999
001468 b959
001469 b9a2
00146a b9d4
00146b ba62
00146c bae3
00146d bb9e
00146e bc57
00146f bd2e
001470 be10
001471 befd
001472 bfff
001473 c0fd
001474 c217
001475 c323
001476 c452
001477 c56e
001478 c6ac
001479 c7d4
00147a c921
00147b ca57
00147c cbb0
00147d ccf6
00147e ce55
00147f cfa7
001480 d112
001481 d272
001482 d3e5
001483 d553
001484 d6cb
001485 d845
001486 d9c7
001487 db4e
001488 dcd4
001489 de67
00148a dff3
00148b e192
00148c e328
00148d e4cf
00148e e66b
00148f e81b
001490 e9bd
001491 eb76
001492 ed21
001493 eee3
001494 f093
001495 f25d
001496 f415
001497 f5e4
001498 f7a3
001499 f97a
00149a fb3f
00149b fd1c
00149c fee4
00149d 00e0
00149e 0165
00149f f114
0014a0 d3ef
0014a1 bce5
0014a2 af01
0014a3 a6e3
0014a4 a1fb
0014a5 9f36
0014a6 9d99
0014a7 9cd5
0014a8 9c81
0014a9 9c91
0014aa 9ccb
0014ab 9d39
0014ac 9dbd
0014ad 9e61
0014ae 9f16
0014af 9fe2
0014b0 a0bb
0014b1 a1a5
0014b2 a2a0
0014b3 a3a6
0014b4 a4bd
0014b5 a5dd
0014b6 a70e
0014b7 a847
0014b8 a98e
0014b9 aadf
0014ba ac3f
0014bb ada4
0014bc af15
0014bd b08f
0014be b216
0014bf b3a0
0014c0 b539
0014c1 b6d5
0014c2 b87d
0014c3 ba2a
0014c4 bbe1
0014c5 bd9d
0014c6 bf61
0014c7 c129
0014c8 c2f9
0014c9 c4d1
0014ca c6ab
0014cb c88e
0014cc ca72
0014cd cc5e
0014ce ce4e
0014cf d043
0014d0 d23c
0014d1 d439
0014d2 d639
0014d3 d83e
0014d4 da47
0014d5 dc53
0014d6 de61
0014d7 e074
0014d8 e28a
0014d9 e4a2
0014da e6be
0014db e8da
0014dc eaf9
0014dd ed1b
0014de ef40
0014df f166
0014e0 f38e
0014e1 f5b8
0014e2 f7e4
0014e3 fa12
0014e4 fc42
0014e5 fe72       18432, 18689, 18938, 19208, 19442, 19728, 19946,  20251, 20448, 20772, 20949, 21295, 21451, 21814, 21956, 22332, 22465,  22845, 22979, 23352, 23500, 23850, 24030, 24341, 24568, 24822, 25116,  25293, 25672, 25757, 26237, 26214, 26805, 26668, 27375, 27124,                  27942,  27584, 28498, 28059, 29040, 28552, 29558, 29073, 30042, 29635, 30479,  30252, 30848, 30957, 31099, 31825, 31104, 32767, 30249, 32767,-13408, -32767,-29119,-32768,-30019,-32768,-30087,-31924,-29930,-31114,-29675, -30377,-29363,-29687,-29009,-290360014e6 0000
0014e7 7fff
0014e8 75f4
0014e9 7fff
0014ea 7b60
0014eb 7fff
0014ec 7d81
0014ed 7fff
0014ee 7eb5
0014ef 7fff
0014f0 7f7d
0014f1 7fff
0014f2 7fff
0014f3 7fc5
0014f4 7fff
0014f5 7f7a
0014f6 7fff
0014f7 7f4d
0014f8 7fff
0014f9 7f39
0014fa 7fff
0014fb 7f39
0014fc 7fff
0014fd 7f47
0014fe 7fff
0014ff 7f5e
001500 7fff
001501 7f7b
001502 7fff
001503 7f9b
001504 7fff
001505 7fbb
001506 7fff
001507 7fd7
001508 7fff
001509 7ff0
00150a 7fff
00150b 7fff
00150c 7ff3
00150d 7fff
00150e 7fe8
00150f 7fff
001510 7fe0
001511 7fff
001512 7fde
001513 7fff
001514 7fde
001515 7fff
001516 7fe2
001517 7fff
001518 7fe7
001519 7fff
00151a 7fee
00151b 7fff
00151c 7ff3
00151d 7fff
00151e 7ff9
00151f 7fff
001520 7ffd
001521 7ffe
001522 7fff
001523 7ffc
001524 7fff
001525 7ffb
001526 7fff
001527 7ffa
001528 7fff
001529 7ffc
00152a 7fff
00152b 7fff
00152c 7ffe
00152d 7fff
00152e 7ffa
00152f 7fff
001530 7ff4
001531 7fff
001532 7fed
001533 7fff
001534 7fe8
001535 7fff
001536 7fe3
001537 7fff
001538 7fdf
001539 7fff
00153a 7fdd
00153b 7fff
00153c 7fe0
00153d 7fff
00153e 7fe7
00153f 7fff
001540 7ff2
001541 7fff
001542 7fff
001543 7fef
001544 7fff
001545 7fd7
001546 7fff
001547 7fba
001548 7fff
001549 7f9a
00154a 7fff
00154b 7f7b
00154c 7fff
00154d 7f5e
00154e 7fff
00154f 7f46
001550 7fff
001551 7f39
001552 7fff
001553 7f39
001554 7fff
001555 7f4e
001556 7fff
001557 7f7a
001558 7fff
001559 7fc4
00155a 7fff
00155b 7fff
00155c 7f7d
00155d 7fff
00155e 7eb5
00155f 7fff
001560 7d81
001561 7fff
001562 7b61
001563 7fff
001564 75f4
001565 7fff
001566 0000
001567 8001
001568 8a0c
001569 8000
00156a 849f
00156b 8000
00156c 827f
00156d 8001
00156e 814c
00156f 8000
001570 8083
001571 8000
001572 8000
001573 803c
001574 8000
001575 8086
001576 8000
001577 80b2
001578 8000
001579 80c7
00157a 8000
00157b 80c7
00157c 8000
00157d 80bb
00157e 8000
00157f 80a2
001580 8001
001581 8085
001582 8000
001583 8065
001584 8000
001585 8045
001586 8000
001587 8029
001588 8000
001589 8010
00158a 8000
00158b 8000
00158c 800e
00158d 8000
00158e 801a
00158f 8000
001590 801f
001591 8000
001592 8022
001593 8000
001594 8022
001595 8000
001596 801e
001597 8000
001598 8019
001599 8000
00159a 8013
00159b 8000
00159c 800d
00159d 8000
00159e 8007
00159f 8000
0015a0 8002
0015a1 8001
0015a2 8001
0015a3 8004
0015a4 8000
0015a5 8006
0015a6 8000
0015a7 8005
0015a8 8000
0015a9 8005
0015aa 8000
0015ab 8001
0015ac 8002
0015ad 8000
0015ae 8007
0015af 8001
0015b0 800d
0015b1 8000
0015b2 8012
0015b3 8000
0015b4 8018
0015b5 8000
0015b6 801d
0015b7 8000
0015b8 8021
0015b9 8000
0015ba 8022
0015bb 8001
0015bc 801f
0015bd 8001
0015be 8019
0015bf 8000
0015c0 800d
0015c1 8000
0015c2 8000
0015c3 8011
0015c4 8000
0015c5 802a
0015c6 8001
0015c7 8045
0015c8 8000
0015c9 8065
0015ca 8000
0015cb 8085
0015cc 8000
0015cd 80a2
0015ce 8001
0015cf 80ba
0015d0 8000
0015d1 80c7
0015d2 8000
0015d3 80c6
0015d4 8000
0015d5 80b2
0015d6 8000
0015d7 8086
0015d8 8000
0015d9 803c
0015da 8001
0015db 8000
0015dc 8082
0015dd 8001
0015de 814c
0015df 8000
0015e0 827f
0015e1 8000
0015e2 849f
0015e3 8001
0015e4 8a0c
0015e5 8000      ,-28619,-28417,-28200,-27827,-27753, -27263,-27282,-26720,-26790,-26198,-26280,-25690,-25758,-25193,-25228, -24704,-24690,-24218,-24151,-23733,-23612,-23249,-23074,-22759,-22540, -22266,-22013,-21769,-21489,-21267,-20968,-20760,-20453,-20250,-19941, -1973                 7,-19430,-19223,-18922,-18706,-18414,-18190,-17907,-17674,-17399, -17158,-16891,-16643,-16381,-16129,-15871,-15614,-15360,-15102,-14850, -14590,-14337,-14077,-13825,-13566,-13313,-13054,-12801,-12543,-12289, -12031,-11777,-11519,-11264,-11007,-10752,-10490015e6 020f
0015e7 14d6
0015e8 2586
0015e9 32fb
0015ea 3e09
0015eb 4656
0015ec 4ca6
0015ed 50c8
0015ee 5364
0015ef 5434
0015f0 53a4
0015f1 5156
0015f2 4d77
0015f3 478a
0015f4 3f8a
0015f5 34f5
0015f6 27c7
0015f7 17a3
0015f8 04cc
0015f9 ef58
0015fa d820
0015fb c015
0015fc a8ff
0015fd 94d6
0015fe 8651
0015ff 8023
001600 8517
001601 9702
001602 b649
001603 dff8
001604 0e04
001605 3bf0
001606 603d
001607 71f3
001608 6c3e
001609 4ef9
00160a 1eb2
00160b e4ee
00160c ae2c
00160d 8905
00160e 819d
00160f 9ef1
001610 da92
001611 20e9
001612 5bc5
001613 72ed
001614 5cad
001615 21e6
001616 d6dc
001617 985e
001618 800f
001619 9e17
00161a e757
00161b 39ce
00161c 6def
00161d 67b4
00161e 2be3
00161f d7a3
001620 9304
001621 822b
001622 b356
001623 0c77
001624 5b2f
001625 71b0
001626 437a
001627 ed5e
001628 9d3f
001629 8087
00162a ac5e
00162b 07ab
00162c 5a44
00162d 7180
00162e 4089
00162f e7ee
001630 98e6
001631 8169
001632 b350
001633 1027
001634 5f0b
001635 7025
001636 3c26
001637 e46e
001638 9843
001639 8122
00163a af3b
00163b 070b
00163c 5710
00163d 72b6
00163e 4de3
00163f 0072
001640 b06f
001641 831a
001642 8ee6
001643 cef2
001644 21a3
001645 61b3
001646 71df
001647 4f5e
001648 0ce1
001649 c438
00164a 8fc3
00164b 80b7
00164c 9d12
00164d d8ec
00164e 1d4f
00164f 5611
001650 7194
001651 6ab5
001652 4809
001653 145e
001654 dce9
001655 ac92
001656 8c4a
001657 8044
001658 898d
001659 a49f
00165a cbd5
00165b f658
00165c 1ef6
00165d 428a
00165e 5cc9
00165f 6cac
001660 72ca
001661 70c9
001662 68a5
001663 5c60
001664 4dc6
001665 3e54
001666 2f30
001667 2132
001668 14e1
001669 0a9c
00166a 0295
00166b fce3
00166c f991
00166d f8a0
00166e fa11
00166f fde5
001670 0418
001671 0c9e
001672 1760
001673 241e
001674 327e
001675 41d4
001676 5140
001677 5f7c
001678 6af5
001679 71c5
00167a 71d7
00167b 6932
00167c 5655
00167d 38ff
00167e 131d
00167f e94f
001680 be87
001681 99f6
001682 83f5
001683 81b8
001684 9565
001685 bccd
001686 f1bc
001687 29f4
001688 58f1
001689 7153
00168a 6955
00168b 3e24
00168c fc4a
00168d b82b
00168e 88d7
00168f 8350
001690 a93a
001691 ed94
001692 377e
001693 6a10
001694 6d33
001695 398e
001696 e693
001697 9b7b
001698 801e
001699 a31c
00169a f168
00169b 446d
00169c 7170
00169d 5af4
00169e 0a4a
00169f aed9
0016a0 807e
0016a1 9cb8
0016a2 ef6b
0016a3 4853
0016a4 72a0
0016a5 4ece
0016a6 f1cd
0016a7 99b1
0016a8 81ff
0016a9 b965
0016aa 1865
0016ab 64b7
0016ac 6aca
0016ad 22aa
0016ae bde4
0016af 8246
0016b0 98c6
0016b1 ed63
0016b2 4954
0016b3 72bc
0016b4 4aec
0016b5 eba4
0016b6 960c
0016b7 830d
0016b8 bbcc
0016b9 1876
0016ba 62eb
0016bb 6d9f
0016bc 2f9c
0016bd d0c9
0016be 8ae8
0016bf 87b8
0016c0 c3d1
0016c1 1af4
0016c2 606b
0016c3 70bf
0016c4 4198
0016c5 eda2
0016c6 a0c7
0016c7 8000
0016c8 98d1
0016c9 d9ae
0016ca 2691
0016cb 6075
0016cc 7280
0016cd 54c5
0016ce 14e0
0016cf cd2f
0016d0 9532
0016d1 801c
0016d2 9093
0016d3 bd36
0016d4 f7cd
0016d5 3103
0016d6 5c60
0016d7 7163
0016d8 6d1e
0016d9 51ca
0016da 268f
0016db f673
0016dc c8d0
0016dd a2e8
0016de 8ab3
0016df 807a
0016e0 835e
0016e1 901f
0016e2 a429
0016e3 bc11
0016e4 d5c1
0016e5 eeb1      5,-10240, -9984, -9728,  -9472, -9216, -8959, -8704, -8447, -8191, -7937, -7680, -7423, -7168,  -6912, -6656, -6400, -6143, -5888, -5632, -5376, -5120, -4864, -4608,  -4352, -4096, -3840, -3584, -3327, -3071, -2816, -2560, -2303, -2048,  -1792, -1536, -12                 80, -1024,  -767,  -512,  -256
0016e6 1666
0016e7 503b
0016e8 4f2f
0016e9 5f4d
0016ea 6079
0016eb 6ad4
0016ec 6cbd
0016ed 74fd
0016ee 77d3
0016ef 7fa7
0016f0 7f6f
0016f1 7fff
0016f2 7f9b
0016f3 7fff
0016f4 7fcf
0016f5 7fff
0016f6 7ff8
0016f7 7ff4
0016f8 7fff
0016f9 7fda
0016fa 7fff
0016fb 7fc9
0016fc 7fff
0016fd 7fc1
0016fe 7fff
0016ff 7fbe
001700 7fff
001701 7fc0
001702 7fff
001703 7fc8
001704 7fff
001705 7fd1
001706 7fff
001707 7fdb
001708 7fff
001709 7fe6
00170a 7fff
00170b 7fef
00170c 7fff
00170d 7ff8
00170e 7fff
00170f 7fff
001710 7ffc
001711 7fff
001712 7ff8
001713 7fff
001714 7ff5
001715 7fff
001716 7ff4
001717 7fff
001718 7ff4
001719 7fff
00171a 7ff7
00171b 7fff
00171c 7ff8
00171d 7fff
00171e 7ffa
00171f 7fff
001720 7ffc
001721 7fff
001722 7ffe
001723 7fff
001724 7fff
001725 7ffe
001726 7fff
001727 7ffc
001728 7fff
001729 7ffc
00172a 7fff
00172b 7ffd
00172c 7fff
00172d 7ffe
00172e 7fff
00172f 7ffe
001730 7ffe
001731 7fff
001732 7ffa
001733 7fff
001734 7ff8
001735 7fff
001736 7ff4
001737 7fff
001738 7ff0
001739 7fff
00173a 7fec
00173b 7fff
00173c 7fe9
00173d 7fff
00173e 7fe8
00173f 7fff
001740 7fe9
001741 7fff
001742 7fec
001743 7fff
001744 7ff4
001745 7fff
001746 7ffd
001747 7ffb
001748 7fff
001749 7fec
00174a 7fff
00174b 7fdb
00174c 7fff
00174d 7fc7
00174e 7fff
00174f 7fb2
001750 7fff
001751 7f9e
001752 7fff
001753 7f8b
001754 7fff
001755 7f7e
001756 7fff
001757 7f78
001758 7fff
001759 7f79
00175a 7fff
00175b 7f88
00175c 7fff
00175d 7bc0
00175e 7692
00175f 7194
001760 6bf0
001761 6751
001762 5f85
001763 5b0b
001764 4d96
001765 49c0
001766 ea39
001767 afff
001768 b0f3
001769 a0d6
00176a 9f99
00176b 9519
00176c 9329
00176d 8af2
00176e 8811
00176f 8047
001770 8090
001771 8000
001772 8063
001773 8001
001774 802f
001775 8000
001776 8007
001777 800d
001778 8000
001779 8027
00177a 8000
00177b 8037
00177c 8000
00177d 8041
00177e 8000
00177f 8043
001780 8001
001781 803f
001782 8000
001783 8039
001784 8000
001785 802f
001786 8000
001787 8025
001788 8000
001789 801b
00178a 8000
00178b 8010
00178c 8001
00178d 8008
00178e 8001
00178f 8001
001790 8004
001791 8000
001792 8008
001793 8000
001794 800b
001795 8000
001796 800c
001797 8000
001798 800b
001799 8000
00179a 800b
00179b 8000
00179c 8008
00179d 8000
00179e 8006
00179f 8000
0017a0 8004
0017a1 8000
0017a2 8002
0017a3 8001
0017a4 8000
0017a5 8003
0017a6 8000
0017a7 8003
0017a8 8000
0017a9 8004
0017aa 8000
0017ab 8004
0017ac 8000
0017ad 8003
0017ae 8001
0017af 8002
0017b0 8003
0017b1 8000
0017b2 8005
0017b3 8000
0017b4 8008
0017b5 8000
0017b6 800c
0017b7 8000
0017b8 8010
0017b9 8000
0017ba 8014
0017bb 8001
0017bc 8016
0017bd 8001
0017be 8017
0017bf 8000
0017c0 8017
0017c1 8000
0017c2 8014
0017c3 8001
0017c4 800d
0017c5 8001
0017c6 8004
0017c7 8004
0017c8 8000
0017c9 8013
0017ca 8000
0017cb 8025
0017cc 8000
0017cd 8038
0017ce 8001
0017cf 804d
0017d0 8000
0017d1 8062
0017d2 8000
0017d3 8074
0017d4 8000
0017d5 8082
0017d6 8000
0017d7 8089
0017d8 8000
0017d9 8088
0017da 8001
0017db 807a
0017dc 8000
0017dd 8459
0017de 8972
0017df 8e54
0017e0 93fd
0017e1 98a1
0017e2 a05e
0017e3 a4d4
0017e4 b25f
0017e5 b695      ; blended 4 
                 .dw  162,   726,  1289,  1855,  2424,  2991,  3561,  4131,  4704,   5273,  5847,  6422,  6997,  7570,  8149,  8724,  9302,  9878, 10457,  11034, 11614, 12192, 12775, 13354, 13935, 14516, 15099, 15678, 16261,  16844, 17424, 18010, 18590, 19175, 19757, 20340017e6 0287
0017e7 0779
0017e8 0c99
0017e9 1199
0017ea 16bd
0017eb 1bb1
0017ec 20b7
0017ed 2582
0017ee 2a62
0017ef 2ef0
0017f0 3387
0017f1 37cd
0017f2 3c0f
0017f3 4010
0017f4 43f6
0017f5 47ac
0017f6 4b33
0017f7 4e9d
0017f8 51c3
0017f9 54f7
0017fa 57b6
0017fb 5ab6
0017fc 5d12
0017fd 5fe4
0017fe 61e2
0017ff 6491
001800 6636
001801 68c0
001802 6a13
001803 6c7a
001804 6d86
001805 6fc5
001806 709b
001807 72aa
001808 735b
001809 752d
00180a 75d1
00180b 7753
00180c 7800
00180d 791b
00180e 79f2
00180f 7a95
001810 7ba8
001811 7bb8
001812 7d2c
001813 7c93
001814 7e7a
001815 7d26
001816 7f96
001817 7d78
001818 7fff
001819 7d90
00181a 7fff
00181b 7cfc
00181c 7f78
00181d 7937
00181e 7c6f
00181f 7549
001820 7951
001821 7129
001822 7682
001823 6c6c
001824 75ac
001825 5905
001826 9d41
001827 898b
001828 91f0
001829 8b84
00182a 9187
00182b 8c36
00182c 9197
00182d 8ce7
00182e 91e0
00182f 8dd6
001830 9254
001831 8efa
001832 92f0
001833 9056
001834 93c6
001835 91ed
001836 94ce
001837 93b4
001838 961b
001839 95b5
00183a 97a9
00183b 97eb
00183c 9985
00183d 9a5a
00183e 9bb5
00183f 9d0b
001840 9e39
001841 9ffc
001842 a116
001843 a331
001844 a45c
001845 a6bb
001846 a807
001847 aa9d
001848 ac15
001849 aedf
00184a b09d
00184b b390
00184c b59c
00184d b8b2
00184e bb12
00184f be51
001850 c110
001851 c478
001852 c790
001853 cb1e
001854 ce8e
001855 d24e
001856 d611
001857 d9fc
001858 ddfd
001859 e205
00185a e63e
00185b ea61
00185c eeb3
00185d f2da
00185e f723
00185f fb37
001860 ff66
001861 034d
001862 0743
001863 0aca
001864 0e04
001865 1114
001866 1419
001867 16f8
001868 19bc
001869 1c5e
00186a 1ee4
00186b 2152
00186c 239e
00186d 25d4
00186e 27e6
00186f 29e2
001870 2bc4
001871 2d92
001872 2f44
001873 30dd
001874 3266
001875 33ce
001876 3533
001877 366a
001878 37ac
001879 38b1
00187a 39d6
00187b 3aaf
00187c 3bb9
00187d 3c63
00187e 3d51
00187f 3dd6
001880 3eae
001881 3f10
001882 3fcd
001883 4011
001884 40b1
001885 40e6
001886 4161
001887 418d
001888 41e3
001889 420e
00188a 4236
00188b 426b
00188c 4263
00188d 42aa
00188e 426b
00188f 42ce
001890 424d
001891 42d2
001892 4217
001893 42c2
001894 41c5
001895 4291
001896 415d
001897 4250
001898 40e7
001899 41f3
00189a 405a
00189b 4184
00189c 3fb9
00189d 4117
00189e 3ed9
00189f 413b
0018a0 38e1
0018a1 2c44
0018a2 3007
0018a3 2f63
0018a4 32b2
0018a5 317f
0018a6 35e5
0018a7 32f9
0018a8 3a02
0018a9 3261
0018aa 4353
0018ab fa74
0018ac b687
0018ad c5b5
0018ae bb01
0018af c029
0018b0 ba14
0018b1 bc5b
0018b2 b84f
0018b3 b921
0018b4 b653
0018b5 b62b
0018b6 b432
0018b7 b368
0018b8 b213
0018b9 b0da
0018ba affb
0018bb ae77
0018bc adf0
0018bd ac4b
0018be ac01
0018bf aa58
0018c0 aa3c
0018c1 a8a2
0018c2 a8a7
0018c3 a736
0018c4 a74f
0018c5 a619
0018c6 a646
0018c7 a55c
0018c8 a59c
0018c9 a506
0018ca a55f
0018cb a529
0018cc a5ab
0018cd a5de
0018ce a692
0018cf a733
0018d0 a82a
0018d1 a946
0018d2 aa95
0018d3 ac33
0018d4 adec
0018d5 b017
0018d6 b24f
0018d7 b511
0018d8 b7e1
0018d9 bb43
0018da beb0
0018db c2c2
0018dc c6dd
0018dd cba2
0018de d073
0018df d5d6
0018e0 db57
0018e1 e161
0018e2 e77b
0018e3 ee0f
0018e4 f49b
0018e5 fba3      3, 20923, 21511, 22089,  22679, 23257, 23848, 24423, 25016, 25592, 26187, 26761, 27356, 27931,  28525, 29100, 29696, 30271, 30866, 31437, 32060, 32301, 28233, 20874,  15080, 11618,  9638,  8474,  7857,  7532,  7424,  7423,  7518,  7657,   7841,  8055,  82                 85,  8543,  8806,  9102,  9389,  9713, 10026, 10377,  10711, 11084, 11438, 11832, 12207, 12619, 13014, 13440, 13857, 14295,  14733, 15178, 15641, 16088, 16573, 17025, 17534, 17984, 18517, 18964,  19519, 19963, 20543, 20981, 21583, 22014, 22636, 23065, 2370018e6 01e7
0018e7 054f
0018e8 0632
0018e9 05ae
0018ea 05a2
0018eb 06b4
0018ec 0846
0018ed 0967
0018ee 0a9d
0018ef 0ca9
0018f0 0fe1
0018f1 1472
0018f2 1a6e
0018f3 20ff
0018f4 26fe
0018f5 2c15
0018f6 314b
0018f7 37bf
0018f8 3edc
0018f9 44dd
0018fa 49bc
0018fb 4fce
0018fc 58e4
0018fd 63d7
0018fe 6d9c
0018ff 7494
001900 79bf
001901 7e24
001902 7fff
001903 7ccd
001904 73ca
001905 685c
001906 5ed6
001907 594d
001908 574d
001909 587a
00190a 5d89
00190b 65d5
00190c 6d89
00190d 6fda
00190e 6bab
00190f 6506
001910 610b
001911 60a7
001912 6063
001913 5cc5
001914 557f
001915 4c8a
001916 4371
001917 3a7b
001918 31d1
001919 2a45
00191a 24bb
00191b 21b4
00191c 214c
00191d 22ee
00191e 2527
00191f 2646
001920 2561
001921 229b
001922 1e76
001923 198d
001924 1537
001925 135c
001926 1487
001927 169c
001928 1623
001929 10d8
00192a 0732
00192b fbe0
00192c f22b
00192d ec74
00192e eb0d
00192f ebfb
001930 ecc4
001931 ec97
001932 ec5c
001933 ec7e
001934 ebd0
001935 e92e
001936 e583
001937 e32a
001938 e381
001939 e62b
00193a ea82
00193b f047
00193c f655
00193d f9f1
00193e f87a
00193f f261
001940 eb7c
001941 e7f8
001942 e8c1
001943 eb19
001944 eb35
001945 e75b
001946 e0c8
001947 d9c3
001948 d3b5
001949 cf6b
00194a ce98
00194b d363
00194c ddd9
00194d ea26
00194e f2b6
00194f f43c
001950 ef64
001951 e6f3
001952 dd46
001953 d3aa
001954 caf4
001955 c3b7
001956 bde5
001957 b8ee
001958 b441
001959 afb0
00195a abaf
00195b a978
00195c aa7b
00195d af18
00195e b629
00195f bdf3
001960 c544
001961 cb1a
001962 ce08
001963 cce1
001964 c85c
001965 c29b
001966 bd17
001967 b7c7
001968 b2ae
001969 aef4
00196a ad77
00196b ad49
00196c ace8
00196d accc
00196e af2a
00196f b538
001970 be06
001971 c830
001972 d336
001973 de60
001974 e757
001975 eb88
001976 eaa8
001977 e6ff
001978 e316
001979 e038
00197a df0c
00197b e078
00197c e52c
00197d ec97
00197e f4d6
00197f fbcc
001980 0057
001981 02e4
001982 052a
001983 08bf
001984 0da1
001985 123d
001986 14fb
001987 157d
001988 146f
001989 12b6
00198a 1115
00198b 104f
00198c 10df
00198d 12c2
00198e 15d3
00198f 19ef
001990 1e46
001991 2125
001992 2141
001993 1f1a
001994 1c76
001995 1a73
001996 18f2
001997 17d9
001998 17b1
001999 1836
00199a 1786
00199b 13ef
00199c 0e2e
00199d 08f2
00199e 0642
00199f 05ec
0019a0 0683
0019a1 06e0
0019a2 0681
0019a3 0585
0019a4 04e1
0019a5 05a5
0019a6 07a9
0019a7 094a
0019a8 08b1
0019a9 052a
0019aa ff39
0019ab f7e4
0019ac f08e
0019ad eabe
0019ae e700
0019af e463
0019b0 e201
0019b1 e087
0019b2 e169
0019b3 e4de
0019b4 e97e
0019b5 ede6
0019b6 f178
0019b7 f321
0019b8 f12f
0019b9 ebca
0019ba e622
0019bb e3ce
0019bc e51b
0019bd e751
0019be e872
0019bf e973
0019c0 ebed
0019c1 ef50
0019c2 f198
0019c3 f1db
0019c4 f0e5
0019c5 efb5
0019c6 ee43
0019c7 ec45
0019c8 ea8d
0019c9 ea6f
0019ca ebf7
0019cb ed72
0019cc ecff
0019cd eadf
0019ce e9fa
0019cf ed07
0019d0 f339
0019d1 f8a5
0019d2 fa21
0019d3 f7d5
0019d4 f466
0019d5 f1ce
0019d6 f040
0019d7 ef99
0019d8 f00e
0019d9 f0a0
0019da ef9b
0019db ecd2
0019dc ea65
0019dd ea99
0019de ed4c
0019df f00d
0019e0 f178
0019e1 f275
0019e2 f3ac
0019e3 f4fb
0019e4 f78e
0019e5 fc99      04, 24130,  24781, 25204, 25878, 26195, 23018, 18797, 12005,  5436,  -255, -4955,  -8303,-11031,-12923,-14527,-15568,-16490,-17022,-17522,-17747,-17983, -18023,-18087,-18014,-17964,-17822,-17693,-17506,-17321,-17106,-16880, -16643,-16385,-16131,-15849,-15                 581,-15278,-14994,-14676,-14380,-14047, -13737,-13392,-13066,-12715,-12377,-12014,-11662,-11291,-10925,-10549, -10171, -9785, -9394, -9004, -8601, -8205, -7790, -7384, -6961, -6549,  -6117, -5699, -5258, -4831, -4381, -3949, -3491, -3051, -2588, -2141,  -0019e6 001b
0019e7 02a2
0019e8 0547
0019e9 0858
0019ea 0bd4
0019eb 100e
0019ec 14c8
0019ed 1a10
0019ee 1fd4
0019ef 2676
0019f0 2d90
0019f1 3439
0019f2 3abe
0019f3 40e7
0019f4 46af
0019f5 4c87
0019f6 510f
0019f7 54e5
0019f8 5a92
0019f9 5e7b
0019fa 6233
0019fb 6629
0019fc 67b4
0019fd 6a54
0019fe 6ee6
0019ff 7361
001a00 7598
001a01 768e
001a02 7890
001a03 7b2e
001a04 7dbc
001a05 7eaf
001a06 7f61
001a07 7fac
001a08 77d0
001a09 68d4
001a0a 545f
001a0b 3cc4
001a0c 26e0
001a0d 1366
001a0e 042e
001a0f f899
001a10 f2dd
001a11 f360
001a12 f457
001a13 f378
001a14 f6fe
001a15 fece
001a16 02b9
001a17 0219
001a18 0110
001a19 ffe9
001a1a fbef
001a1b f378
001a1c e7f0
001a1d dcb4
001a1e d267
001a1f c964
001a20 c12a
001a21 b9bb
001a22 b566
001a23 b235
001a24 acc4
001a25 a554
001a26 9f73
001a27 9c99
001a28 9b67
001a29 9a50
001a2a 9b1b
001a2b 9f89
001a2c a416
001a2d a701
001a2e a9b7
001a2f ae93
001a30 b6a1
001a31 c018
001a32 c8ec
001a33 d19d
001a34 daf7
001a35 e2bc
001a36 e71d
001a37 e98b
001a38 ec1c
001a39 efef
001a3a f31b
001a3b f408
001a3c f4fa
001a3d f63d
001a3e f70f
001a3f f762
001a40 f7d7
001a41 fab7
001a42 0098
001a43 0884
001a44 1145
001a45 1bb4
001a46 2795
001a47 322c
001a48 3a4e
001a49 402f
001a4a 45cb
001a4b 4bbc
001a4c 5123
001a4d 5613
001a4e 5a55
001a4f 5d56
001a50 5e29
001a51 5bed
001a52 579f
001a53 52d3
001a54 4e1d
001a55 4925
001a56 4432
001a57 3f91
001a58 3b00
001a59 369e
001a5a 3272
001a5b 2f1b
001a5c 2d2a
001a5d 2c71
001a5e 2cdb
001a5f 2d9a
001a60 2e26
001a61 2e6e
001a62 2dc1
001a63 2b6f
001a64 2778
001a65 2272
001a66 1ca4
001a67 166a
001a68 100c
001a69 0a15
001a6a 04ab
001a6b fec3
001a6c f800
001a6d f097
001a6e e884
001a6f e05b
001a70 d87d
001a71 d164
001a72 cb76
001a73 c684
001a74 c272
001a75 bf23
001a76 bc9d
001a77 bafa
001a78 ba55
001a79 ba97
001a7a bbf6
001a7b bec0
001a7c c22b
001a7d c55e
001a7e c854
001a7f caf7
001a80 cd0c
001a81 ce41
001a82 cea2
001a83 ce9e
001a84 ce52
001a85 cdc2
001a86 ccc5
001a87 cb7b
001a88 ca77
001a89 c9fe
001a8a ca08
001a8b cb36
001a8c ce68
001a8d d3a5
001a8e da50
001a8f e1c9
001a90 e9d7
001a91 f22d
001a92 fa19
001a93 014f
001a94 0817
001a95 0e9c
001a96 14c4
001a97 1a3d
001a98 1ec6
001a99 2262
001a9a 24f7
001a9b 269e
001a9c 2782
001a9d 27c2
001a9e 27b5
001a9f 27c1
001aa0 27ca
001aa1 27a9
001aa2 27d0
001aa3 27fd
001aa4 284c
001aa5 28b7
001aa6 2978
001aa7 2af7
001aa8 2d1b
001aa9 2fa1
001aaa 31f4
001aab 33f0
001aac 3580
001aad 365c
001aae 362b
001aaf 3549
001ab0 33d7
001ab1 31fb
001ab2 2f8e
001ab3 2c2b
001ab4 2744
001ab5 1fbc
001ab6 15ff
001ab7 0bfa
001ab8 0293
001ab9 f9b7
001aba f213
001abb eac3
001abc e342
001abd dd3d
001abe d8f7
001abf d55a
001ac0 d271
001ac1 d09a
001ac2 cf60
001ac3 ce7c
001ac4 cdec
001ac5 cdbc
001ac6 cd2f
001ac7 cb73
001ac8 c903
001ac9 c72c
001aca c59f
001acb c42b
001acc c344
001acd c1ee
001ace bfc1
001acf bd72
001ad0 bb9e
001ad1 b9ca
001ad2 b7fc
001ad3 b726
001ad4 b733
001ad5 b795
001ad6 b8db
001ad7 bb5c
001ad8 bed5
001ad9 c2ef
001ada c7da
001adb cdd9
001adc d479
001add db7d
001ade e241
001adf e7cf
001ae0 ec83
001ae1 f10a
001ae2 f4d2
001ae3 f7ec
001ae4 facc
001ae5 fd77      1670, -1217,  -740,  -284,   224,   357, -3820,-11281,-17179,-20735, -22813,-24069,-24778,-25191,-25387,-25471,-25455,-25397,-25287,-25155, -24991,-24810,-24606,-24389,-24155,-23904,-23642,-23363,-23075,-22770, -22457,-22130,-21793,-21441,-21084,-20715,-2                 0337,-19946,-19552,-19143, -18731,-18307,-17878,-17439,-16995,-16543,-16087,-15623,-15151,-14677, -14194,-13710,-13218,-12722,-12221,-11716,-11207,-10695,-10178, -9657,  -9133, -8607, -8076, -7542, -7006, -6466, -5926, -5383, -4837, -4288,  -3738, -3186,                  -2632, -2076, -1518,  -958,  -398
                 ; square
                 .dw 0, 32767, 30196, 32767, 31584, 32767, 32129, 32767, 32437,  32767, 32637, 32767, 32767, 32709, 32767, 32634, 32767, 32589, 32767,  32569, 32767, 32569, 32767, 32583, 32767, 32606, 32767, 32635, 32767,  32667, 32767, 32699, 32767, 32727, 32767, 32752, 001ae6 ca35
001ae7 21ad
001ae8 7d4d
001ae9 7285
001aea 7465
001aeb 76c6
001aec 70c8
001aed 7c8f
001aee 4291
001aef 1c99
001af0 2658
001af1 2171
001af2 2437
001af3 22a0
001af4 2371
001af5 2322
001af6 2310
001af7 235f
001af8 22df
001af9 237a
001afa 22c6
001afb 2382
001afc 22c0
001afd 237c
001afe 22c2
001aff 236c
001b00 22cd
001b01 2358
001b02 22da
001b03 2341
001b04 22e8
001b05 232a
001b06 22f6
001b07 2314
001b08 2302
001b09 2300
001b0a 230a
001b0b 22f0
001b0c 230e
001b0d 22e4
001b0e 230e
001b0f 22de
001b10 2309
001b11 22dc
001b12 2300
001b13 22df
001b14 22f0
001b15 22e4
001b16 22df
001b17 22ee
001b18 22cb
001b19 22fb
001b1a 22b5
001b1b 2308
001b1c 229d
001b1d 2314
001b1e 2287
001b1f 2320
001b20 2275
001b21 2326
001b22 2268
001b23 2326
001b24 2263
001b25 231e
001b26 2269
001b27 2308
001b28 227b
001b29 22e2
001b2a 22a1
001b2b 22aa
001b2c 22dc
001b2d 2259
001b2e 2335
001b2f 21e2
001b30 23b6
001b31 213a
001b32 247a
001b33 2034
001b34 25d4
001b35 1e26
001b36 29ab
001b37 0e3d
001b38 f839
001b39 096e
001b3a e914
001b3b f948
001b3c fece
001b3d ee1c
001b3e f6a4
001b3f 07ad
001b40 f780
001b41 f60b
001b42 0b41
001b43 f035
001b44 f44c
001b45 f90b
001b46 02ab
001b47 fed7
001b48 e921
001b49 ffbb
001b4a f987
001b4b ebda
001b4c 0054
001b4d 038b
001b4e f36f
001b4f fdb4
001b50 080f
001b51 e867
001b52 fef1
001b53 2556
001b54 20af
001b55 23e6
001b56 217d
001b57 2349
001b58 21fb
001b59 22e0
001b5a 224c
001b5b 229a
001b5c 2280
001b5d 226e
001b5e 229a
001b5f 2259
001b60 229e
001b61 2256
001b62 2292
001b63 2262
001b64 227a
001b65 2278
001b66 2257
001b67 2296
001b68 2231
001b69 22b3
001b6a 220a
001b6b 22cf
001b6c 21ea
001b6d 22e5
001b6e 21d3
001b6f 22ed
001b70 21c9
001b71 22e4
001b72 21d3
001b73 22c4
001b74 21f8
001b75 2284
001b76 2244
001b77 2219
001b78 22c2
001b79 2180
001b7a 22ce
001b7b f6b9
001b7c fea8
001b7d eecd
001b7e f47f
001b7f 09ec
001b80 f3ea
001b81 f9c1
001b82 0607
001b83 f5e4
001b84 ec76
001b85 02ad
001b86 f29b
001b87 ef38
001b88 0405
001b89 ff91
001b8a f11f
001b8b 0516
001b8c daf0
001b8d ec27
001b8e fbc0
001b8f f944
001b90 0917
001b91 e93e
001b92 f8a9
001b93 fd61
001b94 f137
001b95 ee28
001b96 df30
001b97 cbcd
001b98 d338
001b99 cf53
001b9a d176
001b9b d068
001b9c d0c0
001b9d d0ef
001b9e d067
001b9f d135
001ba0 d03c
001ba1 d159
001ba2 d02d
001ba3 d167
001ba4 d031
001ba5 d166
001ba6 d042
001ba7 d15c
001ba8 d05b
001ba9 d14c
001baa d078
001bab d138
001bac d097
001bad d124
001bae d0b7
001baf d112
001bb0 d0d4
001bb1 d102
001bb2 d0ed
001bb3 d0f7
001bb4 d103
001bb5 d0ef
001bb6 d115
001bb7 d0ec
001bb8 d123
001bb9 d0ed
001bba d12d
001bbb d0f1
001bbc d134
001bbd d0f8
001bbe d139
001bbf d0fe
001bc0 d13d
001bc1 d108
001bc2 d140
001bc3 d114
001bc4 d143
001bc5 d11f
001bc6 d144
001bc7 d129
001bc8 d145
001bc9 d135
001bca d146
001bcb d142
001bcc d146
001bcd d14d
001bce d146
001bcf d15b
001bd0 d146
001bd1 d168
001bd2 d145
001bd3 d175
001bd4 d145
001bd5 d17e
001bd6 d14e
001bd7 d17d
001bd8 d167
001bd9 d162
001bda d1ac
001bdb d0f5
001bdc d288
001bdd cf40
001bde d732
001bdf a7db
001be0 8000
001be1 8742
001be2 8000
001be3 860b
001be4 8000
001be5 85f1      32767, 32767, 32755,  32767, 32744, 32767, 32736, 32767, 32734, 32767, 32734, 32767, 32738,  32767, 32743, 32767, 32750, 32767, 32755, 32767, 32761, 32767, 32765,  32766, 32767, 32764, 32767, 32763, 32767, 32762, 32767, 32764, 32767,  32767, 32766, 32767,                  32762, 32767, 32756, 32767, 32749, 32767, 32744,  32767, 32739, 32767, 32735, 32767, 32733, 32767, 32736, 32767, 32743,  32767, 32754, 32767, 32767, 32751, 32767, 32727, 32767, 32698, 32767,  32666, 32767, 32635, 32767, 32606, 32767, 32582, 32767, 32569,001be6 0f23
001be7 1ee8
001be8 2af2
001be9 3919
001bea 4237
001beb 3eaf
001bec 40d6
001bed 3f7a
001bee 403a
001bef 3fd7
001bf0 2d52
001bf1 2a3e
001bf2 2a4d
001bf3 2c27
001bf4 1d5a
001bf5 1363
001bf6 1649
001bf7 14de
001bf8 150a
001bf9 0235
001bfa ff06
001bfb 0105
001bfc fea5
001bfd 0239
001bfe f7d2
001bff e9a7
001c00 eae7
001c01 eacf
001c02 ea50
001c03 eb36
001c04 e9fc
001c05 eb86
001c06 e99a
001c07 ec3b
001c08 e681
001c09 d552
001c0a d52e
001c0b d59c
001c0c d502
001c0d d5af
001c0e d4fe
001c0f d5ac
001c10 d508
001c11 d59a
001c12 d51e
001c13 d580
001c14 d53d
001c15 d55b
001c16 d568
001c17 d527
001c18 d5aa
001c19 d4ca
001c1a d645
001c1b d36d
001c1c e070
001c1d ecde
001c1e e96b
001c1f eb95
001c20 e9ea
001c21 eb5f
001c22 e9f3
001c23 eb87
001c24 e965
001c25 ee65
001c26 000d
001c27 0029
001c28 ff8a
001c29 00e6
001c2a fe16
001c2b 0cb7
001c2c 171d
001c2d 14b2
001c2e 1505
001c2f 2480
001c30 2ccd
001c31 293e
001c32 2c0b
001c33 3c59
001c34 41d2
001c35 3e6e
001c36 4199
001c37 3e15
001c38 42e3
001c39 3412
001c3a 29fa
001c3b 19d0
001c3c ff68
001c3d d986
001c3e b443
001c3f a941
001c40 8f30
001c41 8000
001c42 8031
001c43 8007
001c44 8001
001c45 8056
001c46 8000
001c47 9237
001c48 9572
001c49 9a35
001c4a ae02
001c4b a765
001c4c bc29
001c4d bf63
001c4e c42e
001c4f d5c9
001c50 d57d
001c51 d46f
001c52 e574
001c53 ebc1
001c54 ed45
001c55 0339
001c56 fc43
001c57 0fd6
001c58 144b
001c59 2008
001c5a 2c9d
001c5b 2a66
001c5c 3e70
001c5d 4094
001c5e 3f38
001c5f 4173
001c60 3205
001c61 22ba
001c62 06b3
001c63 d755
001c64 b3a4
001c65 96e3
001c66 8683
001c67 8001
001c68 814c
001c69 8000
001c6a 8145
001c6b 8000
001c6c 904f
001c6d 95da
001c6e 984f
001c6f ac99
001c70 a871
001c71 b709
001c72 c258
001c73 bdb4
001c74 c58d
001c75 d544
001c76 d634
001c77 d357
001c78 dd84
001c79 ebe0
001c7a ead1
001c7b e91f
001c7c f5b4
001c7d 01fc
001c7e ff58
001c7f ff7b
001c80 0da7
001c81 180c
001c82 12f0
001c83 1b28
001c84 2b75
001c85 29e6
001c86 2bae
001c87 28c6
001c88 3637
001c89 41e0
001c8a 3ef5
001c8b 40b2
001c8c 3f77
001c8d 406d
001c8e 3f9d
001c8f 405c
001c90 3f98
001c91 407e
001c92 3f39
001c93 4193
001c94 32d7
001c95 2856
001c96 2c40
001c97 2945
001c98 2c16
001c99 28ff
001c9a 2d26
001c9b 2208
001c9c 13f2
001c9d 15cf
001c9e 1535
001c9f 153c
001ca0 159b
001ca1 14d4
001ca2 1630
001ca3 1392
001ca4 1e04
001ca5 2cf4
001ca6 2945
001ca7 2bc6
001ca8 29a2
001ca9 2bc9
001caa 2922
001cab 2eea
001cac 4052
001cad 3fe3
001cae 3ff8
001caf 4017
001cb0 3fda
001cb1 402a
001cb2 3fcb
001cb3 4038
001cb4 3fbb
001cb5 4051
001cb6 3f87
001cb7 40d0
001cb8 2f8f
001cb9 28f0
001cba 2c0c
001cbb 2922
001cbc 2cf9
001cbd 1bb2
001cbe 1444
001cbf 156e
001cc0 15d6
001cc1 03c8
001cc2 ff3f
001cc3 ffe0
001cc4 0148
001cc5 f48d
001cc6 e80a
001cc7 ec6a
001cc8 e931
001cc9 ec08
001cca d77a
001ccb d58b
001ccc d470
001ccd d749
001cce c845
001ccf be50
001cd0 c08f
001cd1 c087
001cd2 b9fb
001cd3 a786
001cd4 ad9e
001cd5 a293
001cd6 938a
001cd7 9741
001cd8 8db9
001cd9 8001
001cda 8155
001cdb 8000
001cdc 80e5
001cdd 8001
001cde 80f0
001cdf 8000
001ce0 852c
001ce1 984b
001ce2 a6fe
001ce3 ba54
001ce4 d159
001ce5 f593       32767,  32569, 32767, 32590, 32767, 32634, 32767, 32708, 32767, 32767, 32637,  32767, 32437, 32767, 32129, 32767, 31585, 32767, 30196, 32767,     0, -32767,-30196,-32768,-31585,-32768,-32129,-32767,-32436,-32768,-32637, -32768,-32768,-32708,-32768,-32634                 ,-32768,-32590,-32768,-32569,-32768, -32569,-32768,-32581,-32768,-32606,-32767,-32635,-32768,-32667,-32768, -32699,-32768,-32727,-32768,-32752,-32768,-32768,-32754,-32768,-32742, -32768,-32737,-32768,-32734,-32768,-32734,-32768,-32738,-32768,-32743, -3276001ce6 2cfd
001ce7 455b
001ce8 3cd3
001ce9 4248
001cea 3e33
001ceb 4177
001cec 3ec3
001ced 410a
001cee 3f1b
001cef 40c2
001cf0 3f58
001cf1 408e
001cf2 3f87
001cf3 4064
001cf4 3fab
001cf5 4044
001cf6 3fc8
001cf7 4029
001cf8 3fe0
001cf9 4014
001cfa 3ff3
001cfb 4001
001cfc 4007
001cfd 3fef
001cfe 401a
001cff 3fda
001d00 4030
001d01 3fc3
001d02 4049
001d03 3fa9
001d04 4065
001d05 3f8b
001d06 4085
001d07 3f69
001d08 40a6
001d09 3f47
001d0a 40c8
001d0b 3f27
001d0c 40e6
001d0d 3f0b
001d0e 40fe
001d0f 3efa
001d10 4108
001d11 3ef7
001d12 4101
001d13 3f0a
001d14 40df
001d15 3f3b
001d16 409b
001d17 3f98
001d18 401f
001d19 403a
001d1a 3f4b
001d1b 415c
001d1c 3daf
001d1d 43d0
001d1e 3960
001d1f 4dc4
001d20 bd6a
001d21 8000
001d22 8972
001d23 8000
001d24 8512
001d25 8001
001d26 834b
001d27 8000
001d28 8238
001d29 8000
001d2a 8175
001d2b 8000
001d2c 80e1
001d2d 8000
001d2e 8070
001d2f 8000
001d30 801b
001d31 8008
001d32 8000
001d33 803b
001d34 8000
001d35 805a
001d36 8000
001d37 8067
001d38 8000
001d39 8069
001d3a 8000
001d3b 8060
001d3c 8000
001d3d 8053
001d3e 8000
001d3f 8044
001d40 8000
001d41 8036
001d42 8000
001d43 802b
001d44 8001
001d45 8029
001d46 8000
001d47 802e
001d48 8000
001d49 803a
001d4a 8000
001d4b 8050
001d4c 8001
001d4d 806d
001d4e 8000
001d4f 8092
001d50 8000
001d51 80c0
001d52 8001
001d53 80f6
001d54 8000
001d55 8144
001d56 8000
001d57 81e8
001d58 8000
001d59 8848
001d5a bed6
001d5b c080
001d5c bf6e
001d5d c0aa
001d5e bf4a
001d5f c0c2
001d60 bf3d
001d61 c0c3
001d62 bf46
001d63 c0b0
001d64 bf61
001d65 c08b
001d66 bf92
001d67 c04f
001d68 bfe0
001d69 bfea
001d6a c064
001d6b bf2e
001d6c c190
001d6d bcc2
001d6e cc48
001d6f 022f
001d70 ff18
001d71 fff2
001d72 0111
001d73 fd72
001d74 05a8
001d75 9e04
001d76 8000
001d77 8540
001d78 8000
001d79 82f8
001d7a 8000
001d7b 8210
001d7c 8000
001d7d 818a
001d7e 8000
001d7f 812b
001d80 8001
001d81 80e1
001d82 8000
001d83 80a0
001d84 8000
001d85 805c
001d86 8000
001d87 8000
001d88 804e
001d89 8000
001d8a b602
001d8b c339
001d8c bdfb
001d8d c191
001d8e beae
001d8f c130
001d90 bee8
001d91 c10a
001d92 bf00
001d93 c0fc
001d94 bf08
001d95 c0fc
001d96 bf02
001d97 c107
001d98 bef1
001d99 c122
001d9a becb
001d9b c15a
001d9c be70
001d9d c1ff
001d9e bce9
001d9f c962
001da0 fff2
001da1 ffe3
001da2 ffea
001da3 003c
001da4 ffa9
001da5 006b
001da6 ff84
001da7 008a
001da8 ff68
001da9 00a6
001daa ff4c
001dab 00c3
001dac ff2a
001dad 00ec
001dae fef8
001daf 012e
001db0 fe9f
001db1 01af
001db2 fdd1
001db3 0322
001db4 fa66
001db5 16a8
001db6 4566
001db7 3d30
001db8 41ce
001db9 3eb9
001dba 40ea
001dbb 3f57
001dbc 406f
001dbd 3fc1
001dbe 400d
001dbf 4021
001dc0 3fa9
001dc1 408f
001dc2 3f2c
001dc3 4124
001dc4 3e76
001dc5 420e
001dc6 3d33
001dc7 43f5
001dc8 39dc
001dc9 4bc1
001dca 0754
001dcb b35a
001dcc c6ee
001dcd bb2e
001dce c3e1
001dcf bc36
001dd0 c757
001dd1 fced
001dd2 012b
001dd3 ff3f
001dd4 0085
001dd5 ffa8
001dd6 0033
001dd7 ffea
001dd8 fffd
001dd9 0016
001dda ffde
001ddb 002b
001ddc ffd3
001ddd 0029
001dde ffe3
001ddf 0009
001de0 0017
001de1 ffbb
001de2 008d
001de3 feff
001de4 01de
001de5 fbf6      8,-32749,-32768,-32755,-32768,-32761,-32768,-32766,-32767,-32767, -32764,-32768,-32762,-32768,-32763,-32768,-32763,-32768,-32767,-32766, -32768,-32761,-32767,-32755,-32768,-32750,-32768,-32744,-32768,-32739, -32768,-32735,-32768,-32734,-32767,-32737,-3276                 7,-32743,-32768,-32755, -32768,-32768,-32751,-32768,-32726,-32767,-32699,-32768,-32667,-32768, -32635,-32768,-32606,-32767,-32582,-32768,-32569,-32768,-32570,-32768, -32590,-32768,-32634,-32768,-32708,-32767,-32768,-32638,-32767,-32436, -32768,-32129,-327001de6 053f
001de7 4c32
001de8 4d35
001de9 5c6e
001dea 5efd
001deb 68b1
001dec 6bf2
001ded 738f
001dee 77bd
001def 7f13
001df0 7fdc
001df1 7fff
001df2 7ff5
001df3 7ff8
001df4 7fff
001df5 7fda
001df6 7fff
001df7 7fc5
001df8 7fff
001df9 7fba
001dfa 7fff
001dfb 7fb6
001dfc 7fff
001dfd 7fb9
001dfe 7fff
001dff 7fbf
001e00 7fff
001e01 7fc9
001e02 7fff
001e03 7fd5
001e04 7fff
001e05 7fe1
001e06 7fff
001e07 7feb
001e08 7fff
001e09 7ff5
001e0a 7fff
001e0b 7ffd
001e0c 7ffe
001e0d 7fff
001e0e 7ff9
001e0f 7fff
001e10 7ff5
001e11 7fff
001e12 7ff3
001e13 7fff
001e14 7ff3
001e15 7fff
001e16 7ff4
001e17 7fff
001e18 7ff5
001e19 7fff
001e1a 7ff8
001e1b 7fff
001e1c 7ff9
001e1d 7fff
001e1e 7ffb
001e1f 7fff
001e20 7ffd
001e21 7fff
001e22 7ffe
001e23 7fff
001e24 7ffe
001e25 7fff
001e26 7fff
001e27 7fff
001e28 7ffe
001e29 7fff
001e2a 7ffd
001e2b 7fff
001e2c 7ffd
001e2d 7fff
001e2e 7ffc
001e2f 7fff
001e30 7ffb
001e31 7fff
001e32 7ff9
001e33 7fff
001e34 7ffa
001e35 7fff
001e36 7ffa
001e37 7fff
001e38 7ffb
001e39 7fff
001e3a 7ffd
001e3b 7ffe
001e3c 7fff
001e3d 7ffa
001e3e 7fff
001e3f 7ff5
001e40 7fff
001e41 7fee
001e42 7fff
001e43 7fe6
001e44 7fff
001e45 7fe0
001e46 7fff
001e47 7fda
001e48 7fff
001e49 7fd5
001e4a 7fff
001e4b 7fd4
001e4c 7fff
001e4d 7fd6
001e4e 7fff
001e4f 7fdd
001e50 7fff
001e51 7fea
001e52 7fff
001e53 7ffc
001e54 7ff5
001e55 7fff
001e56 7fd8
001e57 7fff
001e58 7fb6
001e59 7fff
001e5a 7f8c
001e5b 7fff
001e5c 7f5d
001e5d 7fff
001e5e 7f21
001e5f 7fff
001e60 7ccb
001e61 7a11
001e62 73f3
001e63 7201
001e64 6b08
001e65 68fa
001e66 6088
001e67 5dd1
001e68 523e
001e69 4dd2
001e6a 2f35
001e6b c64c
001e6c b07d
001e6d a9e4
001e6e 9fac
001e6f 9b61
001e70 930c
001e71 8f6a
001e72 87a3
001e73 82f0
001e74 8000
001e75 8114
001e76 8000
001e77 80dd
001e78 8000
001e79 80b1
001e7a 8000
001e7b 8088
001e7c 8000
001e7d 8063
001e7e 8000
001e7f 803f
001e80 8001
001e81 8021
001e82 8000
001e83 8009
001e84 8003
001e85 8000
001e86 8014
001e87 8000
001e88 801f
001e89 8000
001e8a 8024
001e8b 8000
001e8c 8027
001e8d 8000
001e8e 8026
001e8f 8000
001e90 8021
001e91 8000
001e92 801c
001e93 8000
001e94 8016
001e95 8000
001e96 8010
001e97 8000
001e98 800a
001e99 8000
001e9a 8005
001e9b 8000
001e9c 8001
001e9d 8003
001e9e 8000
001e9f 8005
001ea0 8000
001ea1 8006
001ea2 8001
001ea3 8008
001ea4 8000
001ea5 8007
001ea6 8000
001ea7 8006
001ea8 8000
001ea9 8006
001eaa 8000
001eab 8004
001eac 8000
001ead 8002
001eae 8002
001eaf 8001
001eb0 8004
001eb1 8000
001eb2 8007
001eb3 8000
001eb4 800a
001eb5 8000
001eb6 800c
001eb7 8000
001eb8 800e
001eb9 8000
001eba 800f
001ebb 8001
001ebc 800f
001ebd 8001
001ebe 800e
001ebf 8000
001ec0 800b
001ec1 8000
001ec2 8006
001ec3 8001
001ec4 8000
001ec5 800a
001ec6 8001
001ec7 8013
001ec8 8000
001ec9 8021
001eca 8000
001ecb 802f
001ecc 8000
001ecd 803c
001ece 8001
001ecf 8048
001ed0 8000
001ed1 8051
001ed2 8000
001ed3 8057
001ed4 8000
001ed5 8056
001ed6 8000
001ed7 804d
001ed8 8000
001ed9 803c
001eda 8001
001edb 82f8
001edc 8707
001edd 8a5d
001ede 8ec7
001edf 91e9
001ee0 97a0
001ee1 9a91
001ee2 a2bb
001ee3 a554
001ee4 b33c
001ee5 b499      68,-31585,-32767,-30196,-32768
                 ;fm synth 2
001ee6 0726
001ee7 28e0
001ee8 2eb9
001ee9 1998
001eea 0afc
001eeb 2d4f
001eec 43c3
001eed 3825
001eee 2016
001eef 219a
001ef0 3c39
001ef1 4953
001ef2 450a
001ef3 328d
001ef4 3141
001ef5 468a
001ef6 5262
001ef7 4a28
001ef8 3785
001ef9 3cb2
001efa 5045
001efb 5390
001efc 43bc
001efd 3a1a
001efe 4ad8
001eff 55f8
001f00 5046
001f01 4654
001f02 44a6
001f03 486e
001f04 4eb9
001f05 55a6
001f06 532c
001f07 4c5d
001f08 4e1c
001f09 54be
001f0a 5658
001f0b 5a7e
001f0c 5e70
001f0d 5e27
001f0e 5c4b
001f0f 5ee6
001f10 633e
001f11 65ce
001f12 6880
001f13 6b4e
001f14 6ce6
001f15 690f
001f16 69e8
001f17 71b8
001f18 7715
001f19 7226
001f1a 6b78
001f1b 6f80
001f1c 7923
001f1d 78e2
001f1e 753d
001f1f 6f4b
001f20 75e7
001f21 7971
001f22 79a0
001f23 73cb
001f24 7513
001f25 78d1
001f26 782e
001f27 734f
001f28 7323
001f29 7842
001f2a 7604
001f2b 731e
001f2c 6ac5
001f2d 69bc
001f2e 6885
001f2f 7538
001f30 6cc7
001f31 5bc4
001f32 4c99
001f33 7858
001f34 3b3e
001f35 a1cf
001f36 8ffc
001f37 479a
001f38 3d46
001f39 894a
001f3a 81e5
001f3b 924a
001f3c abc0
001f3d 867e
001f3e 8125
001f3f 8261
001f40 8405
001f41 82f9
001f42 8000
001f43 81be
001f44 806e
001f45 8326
001f46 8000
001f47 814e
001f48 8000
001f49 85a8
001f4a 83d2
001f4b 8271
001f4c 8001
001f4d 8663
001f4e 8e6a
001f4f 8d36
001f50 8548
001f51 8978
001f52 94d9
001f53 add1
001f54 aa6f
001f55 9f60
001f56 9fe1
001f57 dba6
001f58 2acf
001f59 03c7
001f5a cfeb
001f5b 11a9
001f5c 4f0c
001f5d 4787
001f5e 1b8b
001f5f 2783
001f60 5278
001f61 53e3
001f62 28b3
001f63 07e7
001f64 30d3
001f65 470c
001f66 21ee
001f67 d999
001f68 ca43
001f69 ec64
001f6a eaf8
001f6b bdd4
001f6c ab85
001f6d b632
001f6e b6f2
001f6f a539
001f70 9e29
001f71 a7a5
001f72 a7ee
001f73 9db9
001f74 9a62
001f75 a14e
001f76 a4e4
001f77 a49b
001f78 a48e
001f79 a7b1
001f7a ac5f
001f7b b215
001f7c b371
001f7d b6fe
001f7e cd77
001f7f f9a0
001f80 f982
001f81 d4a5
001f82 e622
001f83 2a6c
001f84 46b0
001f85 3ea9
001f86 3652
001f87 3b5c
001f88 49f3
001f89 5337
001f8a 57bb
001f8b 5431
001f8c 54a7
001f8d 569b
001f8e 54d4
001f8f 4ba2
001f90 4ea7
001f91 59bc
001f92 59eb
001f93 439a
001f94 2d7c
001f95 4176
001f96 52af
001f97 459a
001f98 1649
001f99 065b
001f9a 242c
001f9b 23f1
001f9c 03b2
001f9d e87e
001f9e e277
001f9f e13d
001fa0 f3ea
001fa1 ea48
001fa2 c7f2
001fa3 c332
001fa4 e439
001fa5 e80d
001fa6 c60c
001fa7 c114
001fa8 d19e
001fa9 daa1
001faa d33f
001fab d15d
001fac d781
001fad e5cc
001fae ebd4
001faf e264
001fb0 e0cf
001fb1 f0d5
001fb2 fe11
001fb3 0a1b
001fb4 153b
001fb5 10ff
001fb6 0b55
001fb7 1811
001fb8 1ff8
001fb9 23ec
001fba 2a19
001fbb 22c3
001fbc 0069
001fbd 01c1
001fbe 2b53
001fbf 397c
001fc0 16fd
001fc1 e01d
001fc2 e5d2
001fc3 15cb
001fc4 2f04
001fc5 fd3a
001fc6 c5d9
001fc7 ca88
001fc8 ff93
001fc9 0485
001fca ce7b
001fcb c3f7
001fcc d7eb
001fcd d554
001fce bf46
001fcf c50a
001fd0 dcf5
001fd1 d7be
001fd2 bcf7
001fd3 b6e0
001fd4 c68a
001fd5 dbc3
001fd6 db07
001fd7 cc5a
001fd8 c2e3
001fd9 c2d6
001fda da05
001fdb f856
001fdc e882
001fdd ccbb
001fde dd35
001fdf 0278
001fe0 f7e2
001fe1 de34
001fe2 fe26
001fe3 1e55
001fe4 0cec
001fe5 ef46      .dw 527,  5334,  9606, 13051, 15881, 18006, 19622, 20680, 21348,  21556, 21412, 20822, 19831, 18314, 16266, 13557, 10183,  6051,  1228,  -4264,-10208,-16363,-22273,-27434,-31151,-32733,-31465,-26878,-18871,  -8200,  3588, 15344, 24637, 29171, 27710, 20217                 ,  7858, -6930,-20948, -30459,-32355,-24847, -9582,  8425, 23493, 29421, 23725,  8678,-10532, -26530,-32753,-25065, -6313, 14798, 28143, 26548, 11235,-10333,-27900, -32213,-19626,  3191, 23343, 29104, 17274, -4770,-25281,-32633,-21410,   1963, 23108, 2905001fe6 0568
001fe7 1977
001fe8 2cb3
001fe9 3ea7
001fea 4e3f
001feb 5b35
001fec 653d
001fed 6c8e
001fee 7162
001fef 7442
001ff0 75ab
001ff1 762d
001ff2 7630
001ff3 7619
001ff4 7610
001ff5 7623
001ff6 761d
001ff7 759e
001ff8 7403
001ff9 707f
001ffa 6a0c
001ffb 5fac
001ffc 5059
001ffd 3b9e
001ffe 2181
001fff 03d2
002000 e3ec
002001 c2fc
002002 a535
002003 8ea4
002004 827d
002005 827f
002006 8eea
002007 a65f
002008 c643
002009 eb0b
00200a 10d0
00200b 33db
00200c 510f
00200d 664b
00200e 7288
00200f 75de
002010 7153
002011 669f
002012 57c2
002013 46ce
002014 3592
002015 2589
002016 17a3
002017 0c77
002018 0434
002019 fee8
00201a fc71
00201b fcb5
00201c ff9a
00201d 0508
00201e 0ce3
00201f 16f8
002020 22ee
002021 303e
002022 3e3c
002023 4c1b
002024 5904
002025 6429
002026 6ce1
002027 72b4
002028 756e
002029 751e
00202a 720f
00202b 6cc3
00202c 65d9
00202d 5e02
00202e 55f3
00202f 4e4d
002030 47a9
002031 4272
002032 3f13
002033 3dbd
002034 3e9f
002035 41b6
002036 46f0
002037 4e03
002038 5682
002039 5fb5
00203a 68a9
00203b 701f
00203c 749f
00203d 7486
00203e 6e42
00203f 6095
002040 4af2
002041 2dfe
002042 0c0f
002043 e889
002044 c4e8
002045 a55d
002046 8e47
002047 81e9
002048 812c
002049 8b40
00204a 9e69
00204b b7fd
00204c d540
00204d f369
00204e 1041
00204f 2a05
002050 3fc6
002051 5109
002052 5e05
002053 671f
002054 6d26
002055 70c5
002056 72d4
002057 73cb
002058 743c
002059 7433
00205a 73ee
00205b 730c
00205c 717d
00205d 6e98
00205e 6a27
00205f 6374
002060 5a5f
002061 4e78
002062 3fec
002063 2ec6
002064 1ba5
002065 0717
002066 f1fb
002067 dd3a
002068 c98a
002069 b7e3
00206a a87b
00206b 9c0b
00206c 921a
00206d 8b21
00206e 8605
00206f 8337
002070 8134
002071 80ae
002072 8000
002073 8053
002074 8013
002075 810d
002076 81dc
002077 84da
002078 88d8
002079 9093
00207a 9ae0
00207b aa5c
00207c bd7d
00207d d5ed
00207e f17a
00207f fd9b
002080 1723
002081 33c6
002082 4cb1
002083 62cc
002084 703e
002085 7559
002086 6de0
002087 5bbb
002088 3e15
002089 1a3d
00208a f394
00208b ce99
00208c acf2
00208d 9453
00208e 850b
00208f 803a
002090 83ae
002091 8e44
002092 9d2e
002093 aece
002094 c0fc
002095 d283
002096 e244
002097 efa4
002098 fa52
002099 020c
00209a 06ff
00209b 08fc
00209c 0857
00209d 04dd
00209e fef6
00209f f674
0020a0 ebde
0020a1 df2d
0020a2 d129
0020a3 c21b
0020a4 b2ff
0020a5 a470
0020a6 9779
0020a7 8cc6
0020a8 852f
0020a9 810c
0020aa 80af
0020ab 83ec
0020ac 8a69
0020ad 9375
0020ae 9e48
0020af a9ee
0020b0 b584
0020b1 c041
0020b2 c974
0020b3 d0a9
0020b4 d579
0020b5 d7b6
0020b6 d734
0020b7 d3ed
0020b8 cde0
0020b9 c539
0020ba ba4b
0020bb adbc
0020bc a074
0020bd 93c1
0020be 8929
0020bf 8263
0020c0 8116
0020c1 869a
0020c2 93c2
0020c3 a892
0020c4 c432
0020c5 e4e0
0020c6 0811
0020c7 2ab7
0020c8 49a2
0020c9 61d7
0020ca 7110
0020cb 75fb
0020cc 706e
0020cd 6179
0020ce 4b25
0020cf 3047
0020d0 13f1
0020d1 f932
0020d2 e0a1
0020d3 cacf
0020d4 b8c9
0020d5 aaa7
0020d6 a021
0020d7 98a8
0020d8 93aa
0020d9 90a4
0020da 8f31
0020db 8f1b
0020dc 9054
0020dd 92f4
0020de 9730
0020df 9d4d
0020e0 a5a1
0020e1 b056
0020e2 bd96
0020e3 cd29
0020e4 decd
0020e5 f17d      6, 16521, -6162,-26394,-32407,-19632,  4135, 24331,  28709, 15398, -7058,-26557,-32478,-20677,  1803, 22288, 29366, 19939,    114,-20369,-31974,-28954,-12558,  8611, 25011, 29151, 20318,  3297, -15304,-28733,-32585,-25326,-10004,  7503, 22033, 29076, 2731                 7, 18441,   5214, -8983,-21358,-29622,-32700,-30323,-23393,-13355, -2472,  7926,  17034, 23753, 27820, 29386, 28873, 26789, 23648, 19910, 15956, 12080,   8498,  5345,  2716,   661,  -797, -1647, -1888, -1519,  -539,  1048,   3230,  5984,  9246, 12926, 1680020e6 0dd3
0020e7 3647
0020e8 5b3d
0020e9 74e0
0020ea 7f96
0020eb 7ca9
0020ec 70b8
0020ed 6163
0020ee 534b
0020ef 49aa
0020f0 45d9
0020f1 47df
0020f2 4e9e
0020f3 586b
0020f4 6331
0020f5 6cf4
0020f6 7470
0020f7 7935
0020f8 7b9e
0020f9 7c2e
0020fa 7ae0
0020fb 76c2
0020fc 6db0
0020fd 5d47
0020fe 4377
0020ff 207d
002100 f77a
002101 ce2c
002102 aabc
002103 9169
002104 83df
002105 8001
002106 8202
002107 85c4
002108 885e
002109 8877
00210a 863d
00210b 830a
00210c 808b
00210d 8027
00210e 823c
00210f 8629
002110 8a57
002111 8d19
002112 8d10
002113 8a02
002114 84f1
002115 80a5
002116 8123
002117 8ae0
002118 a0ca
002119 c2d7
00211a ebb1
00211b 1414
00211c 3836
00211d 53c1
00211e 65ac
00211f 6fdb
002120 7473
002121 7564
002122 7336
002123 6dc1
002124 6457
002125 56fe
002126 469d
002127 3540
002128 25a3
002129 1a27
00212a 148b
00212b 1612
00212c 1f2c
00212d 2fae
00212e 45b2
00212f 5dc8
002130 727b
002131 7e70
002132 7e6c
002133 7286
002134 5e01
002135 45e1
002136 2f0f
002137 1d33
002138 1250
002139 0ee9
00213a 12f1
00213b 1d6e
00213c 2ce0
00213d 3ee9
00213e 511a
00213f 610c
002140 6d1e
002141 74fb
002142 7935
002143 7abe
002144 7a16
002145 76bd
002146 6f32
002147 6168
002148 4c06
002149 2f0c
00214a 0ca5
00214b e910
00214c c89c
00214d aeb6
00214e 9ca4
00214f 9196
002150 8bfd
002151 8a4e
002152 8bcd
002153 90ca
002154 9a2d
002155 a8ca
002156 bc5e
002157 d371
002158 eb6b
002159 0149
00215a 12db
00215b 1e74
00215c 2340
00215d 20e2
00215e 1745
00215f 0690
002160 ef98
002161 d49f
002162 b8f6
002163 a07f
002164 8e71
002165 83f0
002166 8025
002167 80ad
002168 8286
002169 837d
00216a 82b6
00216b 80dc
00216c 800a
00216d 82e0
00216e 8b7f
00216f 9abd
002170 af5b
002171 c684
002172 dccf
002173 ef1b
002174 fb64
002175 00a0
002176 fe5e
002177 f4d3
002178 e4d1
002179 d03b
00217a b977
00217b a3e2
00217c 927f
00217d 8701
00217e 8163
00217f 8000
002180 8089
002181 8100
002182 809c
002183 8000
002184 8146
002185 8731
002186 943d
002187 a91f
002188 c48b
002189 e308
00218a 0091
00218b 19f0
00218c 2ce1
00218d 38bc
00218e 3da1
00218f 3bee
002190 33e1
002191 25be
002192 1266
002193 fb6d
002194 e35d
002195 ccf7
002196 ba46
002197 acbc
002198 a49e
002199 a1c7
00219a a439
00219b ac80
00219c bbc0
00219d d26e
00219e f166
00219f 17b8
0021a0 3de0
0021a1 5c2e
0021a2 702a
0021a3 7abf
0021a4 7ef1
0021a5 7ff1
0021a6 7fff
0021a7 7ffd
0021a8 7f86
0021a9 7d6e
0021aa 7877
0021ab 700e
0021ac 64db
0021ad 58b6
0021ae 4e1a
0021af 4782
0021b0 469d
0021b1 4c3f
0021b2 57d4
0021b3 6718
0021b4 75f0
0021b5 7f0b
0021b6 7dbf
0021b7 6f7c
0021b8 5585
0021b9 341a
0021ba 1151
0021bb f201
0021bc d94c
0021bd c87d
0021be bf24
0021bf bc7f
0021c0 bfc2
0021c1 c84f
0021c2 d555
0021c3 e583
0021c4 f6fa
0021c5 0769
0021c6 14c6
0021c7 1d6c
0021c8 200e
0021c9 1bd3
0021ca 0ffb
0021cb fc88
0021cc e1fc
0021cd c326
0021ce a4a9
0021cf 8ccc
0021d0 80c7
0021d1 836f
0021d2 9373
0021d3 abd3
0021d4 c61e
0021d5 dcb5
0021d6 ecb9
0021d7 f4eb
0021d8 f5b5
0021d9 efd5
0021da e4af
0021db d5eb
0021dc c5de
0021dd b6ed
0021de aaf6
0021df a2f2
0021e0 9f59
0021e1 a05c
0021e2 a6e8
0021e3 b449
0021e4 ca5c
0021e5 e8e3      52, 20800, 24444, 27381, 29125, 29143,  26930, 22101, 14591,  4893, -5809,-16761,-26122,-31755,-32328,-27291, -17203, -3652, 10740, 22769, 29011, 26965, 15908,  -950,-18389,-30505, -31920,-22214, -4716, 14206, 27152, 27955, 14734, -6509,-25733,-32738, -23                 780, -3736, 17517, 29040, 23284,  2634,-20775,-32642,-25416, -4245,  18515, 29344, 20174, -3635,-26191,-32257,-18075,  6245, 25783, 27338,   8874,-16924,-32186,-26426, -4765, 18772, 29372, 19180, -5212,-27124, -31987,-17460,  6262, 25323, 28063, 12188,-120021e6 4b51
0021e7 7a5c
0021e8 66ef
0021e9 7224
0021ea 676c
0021eb 6e6b
0021ec 666a
0021ed 6b6f
0021ee 6506
0021ef 6899
0021f0 6375
0021f1 65ea
0021f2 61bd
0021f3 635d
0021f4 5fe7
0021f5 60de
0021f6 5e02
0021f7 5e76
0021f8 5c06
0021f9 5c24
0021fa 59e9
0021fb 59ed
0021fc 57bd
0021fd 57cd
0021fe 557b
0021ff 55b8
002200 532a
002201 53b3
002202 50d2
002203 51bb
002204 4e69
002205 4fcb
002206 4c01
002207 4de0
002208 4992
002209 4c0a
00220a 46d6
00220b 4b4e
00220c 3c9e
00220d c489
00220e b933
00220f bfc8
002210 bc67
002211 c160
002212 bec3
002213 c340
002214 c10a
002215 c525
002216 c354
002217 c70a
002218 c5a2
002219 c8eb
00221a c7f2
00221b cad2
00221c ca3e
00221d ccbb
00221e cc85
00221f ceae
002220 cec6
002221 d0a7
002222 d0f9
002223 d2ab
002224 d31f
002225 d4c2
002226 d537
002227 d6e1
002228 d741
002229 d90b
00222a d942
00222b db48
00222c db2c
00222d dd95
00222e dcfc
00222f e007
002230 de97
002231 e2f4
002232 dee2
002233 ed1c
002234 1d66
002235 1b3f
002236 1ae2
002237 19a3
002238 186c
002239 17c1
00223a 1617
00223b 15c1
00223c 13e0
00223d 13ac
00223e 11b6
00223f 1188
002240 0f93
002241 0f62
002242 0d79
002243 0d33
002244 0b63
002245 0b02
002246 0951
002247 08cf
002248 0740
002249 069d
00224a 052f
00224b 046d
00224c 031a
00224d 0244
00224e 00f6
00224f 0000
002250 0003
002251 fff9
002252 000a
002253 fff4
002254 000d
002255 fff1
002256 0010
002257 ffef
002258 0012
002259 ffee
00225a 0011
00225b fff0
00225c 000f
00225d fff2
00225e 000d
00225f fff5
002260 000a
002261 fff8
002262 0007
002263 fffa
002264 0003
002265 ffff
002266 ffff
002267 0005
002268 fff7
002269 00a4
00226a 01c3
00226b 02d2
00226c 03df
00226d 04f8
00226e 05fd
00226f 071f
002270 081d
002271 0944
002272 0a39
002273 0b67
002274 0c59
002275 0d89
002276 0e78
002277 0faa
002278 1098
002279 11c9
00227a 12b8
00227b 13e4
00227c 14da
00227d 15fe
00227e 16fd
00227f 1814
002280 1923
002281 1a25
002282 1b4b
002283 1c33
002284 1d72
002285 1e3e
002286 1f9d
002287 204a
002288 21c6
002289 2251
00228a 23ef
00228b 245b
00228c 2615
00228d 2667
00228e 2834
00228f 2879
002290 2a4d
002291 2a91
002292 2c5a
002293 2cb1
002294 2e60
002295 2edf
002296 3055
002297 311b
002298 3236
002299 3368
00229a 3408
00229b 35c9
00229c 35bd
00229d 3848
00229e 3749
00229f 3af6
0022a0 389c
0022a1 3df5
0022a2 396e
0022a3 41e0
0022a4 384b
0022a5 4b60
0022a6 0a74
0022a7 b35a
0022a8 c2b5
0022a9 b8ec
0022aa bd63
0022ab b8aa
0022ac ba12
0022ad b76b
0022ae b756
0022af b5d9
0022b0 b4e1
0022b1 b413
0022b2 b28e
0022b3 b231
0022b4 b05d
0022b5 b038
0022b6 ae45
0022b7 ae2b
0022b8 ac3c
0022b9 ac13
0022ba aa43
0022bb a9f5
0022bc a84e
0022bd a7cf
0022be a663
0022bf a5a8
0022c0 a479
0022c1 a384
0022c2 a289
0022c3 a16a
0022c4 a094
0022c5 9f58
0022c6 9e96
0022c7 9d4f
0022c8 9c8c
0022c9 9b57
0022ca 9a76
0022cb 996f
0022cc 984f
0022cd 9793
0022ce 9620
0022cf 95c6
0022d0 93e8
0022d1 93ff
0022d2 91a2
0022d3 926f
0022d4 9094
0022d5 92c0
0022d6 9063
0022d7 9310
0022d8 9041
0022d9 9359
0022da 9027
0022db 938e
0022dc 901d
0022dd 93af
0022de 903f
0022df 93a4
0022e0 9087
0022e1 934f
0022e2 9131
0022e3 929a
0022e4 927f
0022e5 9348      
                 ;-------------------------------------------------------------------------------------------------------------------
                 


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

"ATmega32A" register use summary:
r0 :  26 r1 :  18 r2 :   2 r3 :   2 r4 :   4 r5 :   2 r6 :   2 r7 :   4 
r8 :  28 r9 :   6 r10:   6 r11:   4 r12:   0 r13:   0 r14:   0 r15:   0 
r16: 491 r17: 291 r18: 176 r19: 123 r20:  85 r21:  61 r22:  83 r23:  75 
r24: 358 r25:  31 r26:  41 r27:  31 r28:  18 r29:  18 r30: 102 r31:  85 
x  :   5 y  :   4 z  :  18 
Registers used: 31 out of 35 (88.6%)

"ATmega32A" instruction use summary:
.lds  :   0 .sts  :   0 adc   :  70 add   :  66 adiw  :   1 and   :   0 
andi  :   4 asr   :   4 bclr  :   0 bld   :  27 brbc  :   0 brbs  :   0 
brcc  :   9 brcs  :   6 break :   0 breq  :  56 brge  :   2 brhc  :   0 
brhs  :   0 brid  :   0 brie  :   0 brlo  :  26 brlt  :   0 brmi  :   0 
brne  :  32 brpl  :   4 brsh  :   7 brtc  :   0 brts  :   0 brvc  :   6 
brvs  :   0 bset  :   0 bst   :  20 call  :  66 cbi   :  16 cbr   :   2 
clc   :   2 clh   :   0 cli   :   3 cln   :   0 clr   :  27 cls   :   0 
clt   :   0 clv   :   0 clz   :   0 com   :   4 cp    :  15 cpc   :  11 
cpi   :  64 cpse  :   0 dec   :  14 eor   :   2 fmul  :   0 fmuls :   0 
fmulsu:   0 icall :   0 ijmp  :   0 in    :  18 inc   :  11 jmp   :  25 
ld    :  10 ldd   :   0 ldi   : 445 lds   : 166 lpm   :  33 lsl   :  17 
lsr   :  28 mov   :  93 movw  :  14 mul   :  14 muls  :   0 mulsu :   8 
neg   :   1 nop   :  40 or    :   0 ori   :   1 out   :  41 pop   :  41 
push  :  41 rcall :  45 ret   :  34 reti  :   3 rjmp  :  90 rol   :  25 
ror   :   9 sbc   :  23 sbci  :   3 sbi   :  25 sbic  :   2 sbis  :   1 
sbiw  :   2 sbr   :   2 sbrc  :   9 sbrs  :  21 sec   :   0 seh   :   0 
sei   :   1 sen   :   0 ser   :   0 ses   :   0 set   :   0 sev   :   0 
sez   :   0 sleep :   0 spm   :   0 st    :   6 std   :   0 sts   : 361 
sub   :  18 subi  :  23 swap  :   2 tst   :  32 wdr   :   0 
Instructions used: 69 out of 113 (61.1%)

"ATmega32A" memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x0045cc   5904  11964  17868   32768  54.5%
[.dseg] 0x000060 0x0001bf      0    351    351    2048  17.1%
[.eseg] 0x000000 0x000000      0      0      0    1024   0.0%

Assembly complete, 0 errors, 2 warnings
